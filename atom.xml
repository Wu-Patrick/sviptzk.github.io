<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>小康博客</title>
  <icon>https://www.gravatar.com/avatar/43f423034161c1234e49b8b8a075d8e0</icon>
  <subtitle>每天进步一点点！</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://www.antmoe.com/"/>
  <updated>2020-06-22T10:42:16.885Z</updated>
  <id>https://www.antmoe.com/</id>
  
  <author>
    <name>Dreamy.TZK</name>
    <email>sviptzk@163.com</email>
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>jQuery原理（原型上的属性、方法）</title>
    <link href="https://www.antmoe.com/posts/8115b90c/index.html"/>
    <id>https://www.antmoe.com/posts/8115b90c/index.html</id>
    <published>2020-06-22T02:00:58.000Z</published>
    <updated>2020-06-22T10:42:16.885Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h2 id="jquery原型上的属性"><a class="markdownIt-Anchor" href="#jquery原型上的属性"></a> jQuery原型上的属性</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">kjQuery.prototype = &#123;</span><br><span class="line">    <span class="keyword">constructor</span>: kjQuery,</span><br><span class="line">    init: function (selector) &#123;&#125;,</span><br><span class="line">    <span class="comment">// 版本号</span></span><br><span class="line">    jquery: <span class="string">"1.1.0"</span>,</span><br><span class="line">    <span class="comment">// 实例默认的选择器取值</span></span><br><span class="line">    selector: <span class="string">""</span>,</span><br><span class="line">    <span class="comment">// 实例默认的长度</span></span><br><span class="line">    length: <span class="number">0</span>,</span><br><span class="line">    <span class="comment">// 给实例添加新元素</span></span><br><span class="line">    push: [].push,</span><br><span class="line">    <span class="comment">// 对实例中的元素进行排序</span></span><br><span class="line">    sort: [].sort,</span><br><span class="line">    <span class="comment">// 按照指定下标指定数量删除元素，也可以替换删除的元素</span></span><br><span class="line">    splice: [].splice,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>关于三个方法（push,sort,splice）以push为例：</p><ol><li>通过<code>[].push</code>找到数组的push方法</li><li>但是对象的push方法由对象调用，那么<code>this</code>就指向了对象（jQuery）</li><li>所以也就相当于<code>[].push.apply(this)</code>将元素添加到对象身上</li></ol><h2 id="jquery原型上的方法"><a class="markdownIt-Anchor" href="#jquery原型上的方法"></a> jQuery原型上的方法</h2><h3 id="toarray"><a class="markdownIt-Anchor" href="#toarray"></a> toArray</h3><p>把实例转换为数组返回</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">toArray: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> [].slice.call(<span class="keyword">this</span>);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="get"><a class="markdownIt-Anchor" href="#get"></a> get</h3><p>取指定下标的元素，获取的是原生DOM</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">get</span>: function (num) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">arguments</span>.length === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// 没有传入参数</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.toArray();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (num &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// 传入大于0的数字</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>[num];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 传入了负数</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>[<span class="keyword">this</span>.length + num];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="eq"><a class="markdownIt-Anchor" href="#eq"></a> eq</h3><p>获取指定下标的元素，获取的是jQuery类型的实例对象</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">eq: <span class="function"><span class="keyword">function</span> (<span class="params">num</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">arguments</span>.length === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// 没有传入参数</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> kjQuery();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 传入了参数</span></span><br><span class="line">        <span class="keyword">return</span> kjQuery(<span class="keyword">this</span>.get(num));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="first与last"><a class="markdownIt-Anchor" href="#first与last"></a> first与last</h3><ol><li><p><code>first</code>：获取实例中的第一个元素，是jQuery类型的实例对象</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">first: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.eq(<span class="number">0</span>);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li><li><p><code>last</code>：获取实例中的最后一个元素，是jQuery类型的实例对象</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">last: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.eq(<span class="number">-1</span>);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li></ol><h3 id="each"><a class="markdownIt-Anchor" href="#each"></a> each</h3><p>遍历实例，把遍历到的数据传给回调使用</p><p>jQuery存在两个each方法，一个类方法，一个对象方法。当实现类方法时，只需要让对象方法调用类方法即可实现。</p><ol><li><p>类方法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">kjQuery.extend(&#123;</span><br><span class="line">    each: <span class="function"><span class="keyword">function</span> (<span class="params">obj, fn</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 1. 判断是否是数组</span></span><br><span class="line">        <span class="keyword">var</span> res;</span><br><span class="line">        <span class="keyword">if</span> (kjQuery.isArray(obj)) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; obj.length; i++) &#123;</span><br><span class="line">                <span class="comment">// res = fn(i, obj[i]);</span></span><br><span class="line">                <span class="comment">// 将this修改为指向value</span></span><br><span class="line">                res = fn.call(obj[i], i, obj[i]);</span><br><span class="line">                <span class="keyword">if</span> (res == <span class="literal">true</span>) &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (res === <span class="literal">false</span>) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 2. 判断是否是对象</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (kjQuery.isObject(obj)) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">                <span class="comment">// res = fn(key, obj[key]);</span></span><br><span class="line">                <span class="comment">// 将this修改为指向value</span></span><br><span class="line">                res = fn.call(obj[key], key, obj[key]);</span><br><span class="line">                <span class="keyword">if</span> (res == <span class="literal">true</span>) &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (res === <span class="literal">false</span>) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>对象方法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">kjQuery.prototype = &#123;</span><br><span class="line">    each: <span class="function"><span class="keyword">function</span> (<span class="params">fn</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span>  kjQuery.each(<span class="keyword">this</span>, fn);</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol><h3 id="map"><a class="markdownIt-Anchor" href="#map"></a> map</h3><p>遍历实例，把遍历到的数据传给回调使用，然后把回调的返回值收集起来组成一个新的数组返回</p><blockquote><p>map方法与each方法的区别</p><p>each静态方法默认的返回值就是, 遍历谁就返回谁； map静态方法默认的返回值是一个空数组</p><p>each静态方法不支持在回调函数中对遍历的数组进行处理；map静态方法可以在回调函数中通过return对遍历的数组进行处理, 然后生成一个新的数组返回</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">kjQuery.extend(&#123;</span><br><span class="line">    map: <span class="function"><span class="keyword">function</span> (<span class="params">obj, fn</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> res = [];</span><br><span class="line">        <span class="keyword">var</span> temp;</span><br><span class="line">        <span class="keyword">if</span> (kjQuery.isArray(obj)) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; obj.length; i++) &#123;</span><br><span class="line">                temp = fn(obj[i], i);</span><br><span class="line">                <span class="keyword">if</span> (temp) &#123;</span><br><span class="line">                    res.push(temp);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (kjQuery.isObject(obj)) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">                temp = fn(obj[key], key);</span><br><span class="line">                <span class="keyword">if</span> (temp) &#123;</span><br><span class="line">                    res.push(temp);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/
      
    
    </summary>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="JavaScript笔记" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/JavaScript%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/tags/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="笔记" scheme="https://www.antmoe.com/tags/%E7%AC%94%E8%AE%B0/"/>
    
      <category term="JavaScript" scheme="https://www.antmoe.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>jQuery原理（入口函数）</title>
    <link href="https://www.antmoe.com/posts/53414210/index.html"/>
    <id>https://www.antmoe.com/posts/53414210/index.html</id>
    <published>2020-06-21T06:56:58.000Z</published>
    <updated>2020-06-22T10:42:16.885Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h2 id="基本结构"><a class="markdownIt-Anchor" href="#基本结构"></a> 基本结构</h2><p>jQuery的基本结构如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">window, undefiend</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> jQuery = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> jQuery.fn.init()</span><br><span class="line">    &#125;</span><br><span class="line">    jQuery.prototype = &#123;</span><br><span class="line">        <span class="keyword">constructor</span>: jQuery</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    jQuery.fn.init.prototype = jQuery.prototype</span><br><span class="line">    window.jQuery = window.$ = jQuery</span><br><span class="line">&#125;)(window);</span><br><span class="line">/* 其中fn指代的是原型，因此以上结构可以转换成以下结构 */</span><br><span class="line">(function (window, undefiend) &#123;</span><br><span class="line">    <span class="keyword">var</span> jQuery = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> kjQuery.prototype.init();</span><br><span class="line">    &#125;;</span><br><span class="line">    jQuery.prototype = &#123;</span><br><span class="line">        <span class="keyword">constructor</span>: jQuery,</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    jQuery.prototype.init.prototype = jQuery.prototype;</span><br><span class="line"></span><br><span class="line">    window.jQuery = window.$ = jQuery;</span><br><span class="line">&#125;)(window);</span><br></pre></td></tr></table></figure><ol><li><p>jQuery的本质是一个闭包</p><p>为了避免多个框架的冲突</p></li><li><p>jQuery如何让外界访问内部定义的局部变量</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">windows.xx = xxx</span><br></pre></td></tr></table></figure></li><li><p>jQuery为什么要给自己传递一个window参数</p><ul><li>为了方便后期压缩代码</li><li>为了提升查找的效率</li></ul></li><li><p>jQuery为什么要给自己传递一个undefiend参数</p><ul><li>为了方便后期压缩代码</li><li>IE9以下的浏览器<code>undefined</code>可以被修改，为了保证内部使用的<code>undefined</code>不被修改，所以需要接收一个正确的<code>undefined</code></li></ul></li></ol><h2 id="入口函数测试"><a class="markdownIt-Anchor" href="#入口函数测试"></a> 入口函数测试</h2><ol><li><p>传入 <code>''</code> <code>null</code> <code>undefined</code> <code>NaN</code> <code>0</code>  <code>false</code></p><p>返回空的jQuery对象</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($())</span><br><span class="line"><span class="built_in">console</span>.log($(<span class="string">''</span>))</span><br><span class="line"><span class="built_in">console</span>.log($(<span class="literal">null</span>))</span><br><span class="line"><span class="built_in">console</span>.log($(<span class="literal">undefined</span>))</span><br><span class="line"><span class="built_in">console</span>.log($(<span class="literal">NaN</span>))</span><br><span class="line"><span class="built_in">console</span>.log($(<span class="number">0</span>))</span><br><span class="line"><span class="built_in">console</span>.log($(<span class="literal">false</span>))</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/21/eef600ae7de42e19d7e545aec1dafa49.png" alt="image-20200621153915653" /></p></li><li><p>字符串</p><ul><li><p>代码片段</p><p>会将创建好的DOM元素存储到jQuery对象中返回</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($(<span class="string">'&lt;p&gt;1&lt;/p&gt;&lt;p&gt;2&lt;/p&gt;&lt;p&gt;3&lt;/p&gt;'</span>));</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/21/a6a0ea7c8c2c10ed73b680c05b233104.png" alt="image-20200621155130041" /></p></li><li><p>选择器</p><p>会将找到的所有元素存储到jQuery对象中返回</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($(<span class="string">'li'</span>));</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/21/dad40be6fbb0f9fde03f86b1fc55957d.png" alt="image-20200621155220061" /></p></li></ul></li><li><p>数组</p><p>会将数组中存储的元素依次存储到jQuery对象中立返回</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line"><span class="built_in">console</span>.log($(arr));</span><br><span class="line"><span class="keyword">var</span> likeArr = &#123; <span class="number">0</span>: <span class="string">"lnj"</span>, <span class="number">1</span>: <span class="string">"33"</span>, <span class="number">2</span>: <span class="string">"male"</span>, <span class="attr">length</span>: <span class="number">3</span> &#125;;</span><br><span class="line"><span class="built_in">console</span>.log($(likeArr));</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/21/e589189c773b1fc2887bfda476ed174b.png" alt="image-20200621155259905" /></p></li><li><p>其他类型（对象、DOM元素、基本数据类型等）</p><p>会将传入的数据存储到jQuery对象中返回</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log($(<span class="keyword">new</span> Person()));</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log($(<span class="built_in">document</span>.createElement(<span class="string">'div'</span>)));</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log($(<span class="number">123</span>));</span><br><span class="line"><span class="built_in">console</span>.log($(<span class="literal">true</span>));</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/21/5a197e0b14e90b5ab75a09aad73a01b6.png" alt="image-20200621155438227" /></p></li></ol><h2 id="入口函数-代码实现"><a class="markdownIt-Anchor" href="#入口函数-代码实现"></a> 入口函数-代码实现</h2><p>接收参数的实现：在创建时接收一个参数，并且传递给init即可。这样init就可以接收这个参数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> kjQuery = <span class="function"><span class="keyword">function</span> (<span class="params">selector</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> kjQuery.prototype.init(selector);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>接下来的方法只需要在<code>init</code>中定义即可。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">kjQuery.prototype = &#123;</span><br><span class="line">    <span class="keyword">constructor</span>: kjQuery,</span><br><span class="line">    init: function (selector) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ol><li><p>传入 <code>''</code> <code>null</code> <code>undefined</code> <code>NaN</code> <code>0</code>  <code>false</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!selector) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>处理函数</p><p>判断是否为函数，如果是则将传入的参数作为<code>ready</code>的回调函数传入。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">isFunction: <span class="function"><span class="keyword">function</span> (<span class="params">selector</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> selector === <span class="string">"function"</span>;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 2. 方法处理</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (kjQuery.isFunction(selector)) &#123;</span><br><span class="line">    kjQuery.ready(selector);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在<code>ready</code>函数中需要判断页面是否加载，由于IE不支持<code>addEvem=ntListener</code>方法添加事件，因此判断页面是否加载只能使用<code>readyState</code>判断页面加载状态。当页面加载完成后在进行添加事件的操作。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">ready: <span class="function"><span class="keyword">function</span> (<span class="params">fn</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 判断DOM是否加载完毕</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">document</span>.readyState == <span class="string">"complete"</span>) &#123;</span><br><span class="line">        fn();</span><br><span class="line">        <span class="comment">//   判断是否含有addEventListener方法</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">document</span>.addEventListener) &#123;</span><br><span class="line">        <span class="built_in">document</span>.addEventListener(<span class="string">"DOMContentLoaded"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            fn();</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">//   IE兼容</span></span><br><span class="line">        <span class="built_in">document</span>.attachEvent(<span class="string">"onreadystatechange"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> ((<span class="built_in">document</span>.readyState = <span class="string">"complete"</span>)) &#123;</span><br><span class="line">                fn();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li><li><p>字符串</p><p>在这里需要判断是否是字符串并且需要去掉字符串两端的空格。但判断是否为字符串后边可能也会用到，因此定义一个静态方法，通过类名调用。方便后边的操作</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">kjQuery.isString = <span class="function"><span class="keyword">function</span> (<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> str === <span class="string">"string"</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>去掉两端的空格在传入时去掉即可。同样定义一个静态方法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 0 去除字符串两端的空格</span></span><br><span class="line">selector = kjQuery.trim(selector);</span><br><span class="line">kjQuery.trim = <span class="function"><span class="keyword">function</span> (<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!kjQuery.isString(str)) &#123;</span><br><span class="line">        <span class="keyword">return</span> str;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (str.trim) &#123;</span><br><span class="line">        <span class="keyword">return</span> str.trim();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// IE兼容处理方案</span></span><br><span class="line">        <span class="keyword">return</span> str.replace(<span class="regexp">/^\s+|\s+$/g</span>, <span class="string">""</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li><p>HTML代码</p><p>判断是否为HTML与判断字符串一样，后边也可能会用到，因此定义一个静态方法。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">kjQuery.isHTML = <span class="function"><span class="keyword">function</span> (<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        str.charAt(<span class="number">0</span>) == <span class="string">"&lt;"</span> &amp;&amp;</span><br><span class="line">        str.charAt(str.length - <span class="number">1</span>) == <span class="string">"&gt;"</span> &amp;&amp;</span><br><span class="line">        str.length &gt;= <span class="number">3</span></span><br><span class="line">    );</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (kjQuery.isString(selector)) &#123;</span><br><span class="line">    <span class="comment">// 2.1 判断是否是代码片段</span></span><br><span class="line">    <span class="keyword">if</span> (kjQuery.isHTML(selector)) &#123;</span><br><span class="line">        <span class="comment">// 1. 根据代码片段创建所有的元素</span></span><br><span class="line">        <span class="keyword">var</span> temp = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</span><br><span class="line">        temp.innerHTML = selector;</span><br><span class="line">        <span class="comment">// 2. 创建好的一级元素添加到对象</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; temp.children.length; i++) &#123;</span><br><span class="line">            <span class="keyword">this</span>[i] = temp.children[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 3. 给jQuery对象添加length属性</span></span><br><span class="line">        <span class="keyword">this</span>.length = temp.children.length;</span><br><span class="line">        <span class="comment">// 4. 返回加工好的this(jQuery)</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 2.2 判断是否是选择器</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>其中第二三步可以修改为如下写法：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[].push.apply(<span class="keyword">this</span>, temp.children);</span><br></pre></td></tr></table></figure><p>通过apply改变push的this，这样就不会push到数组里，而是push到this（此时为kjQuery对象）中。</p></blockquote></li><li><p>选择器</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 2.2 判断是否是选择器</span></span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 1. 根据传入的选择器找到对应的元素</span></span><br><span class="line">    <span class="keyword">var</span> res = <span class="built_in">document</span>.querySelectorAll(selector);</span><br><span class="line">    <span class="comment">// 2. 将找到的元素添加到kjQuery</span></span><br><span class="line">    [].push.apply(<span class="keyword">this</span>, res);</span><br><span class="line">    <span class="comment">// 3. 返回加工好的this</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>数组</p><p>注意：但凡将自定义数组转换为真数组或伪数组都先转换为真数组</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (</span><br><span class="line">    <span class="keyword">typeof</span> selector === <span class="string">"object"</span> &amp;&amp;</span><br><span class="line">    <span class="string">"length"</span> <span class="keyword">in</span> selector &amp;&amp;</span><br><span class="line">    selector != <span class="built_in">window</span></span><br><span class="line">) &#123;</span><br><span class="line">    <span class="comment">//   3.1 真数组</span></span><br><span class="line">    <span class="keyword">if</span> (&#123;&#125;.toString.apply(selector) == <span class="string">"[object Array]"</span>) &#123;</span><br><span class="line">        [].push.apply(<span class="keyword">this</span>, selector);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//   3.2 伪数组</span></span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 将自定义的伪数组转换成真数组</span></span><br><span class="line">        <span class="keyword">var</span> arr = [].slice.call(selector);</span><br><span class="line">        [].push.apply(<span class="keyword">this</span>, arr);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>以上代码可优化为如下：</p><p>新增静态方法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">kjQuery.isObject = <span class="function"><span class="keyword">function</span> (<span class="params">selector</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> selector === <span class="string">"object"</span>;</span><br><span class="line">&#125;;</span><br><span class="line">kjQuery.isWindow = <span class="function"><span class="keyword">function</span> (<span class="params">selector</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> selector === <span class="built_in">window</span>;</span><br><span class="line">&#125;;</span><br><span class="line">kjQuery.isArray = <span class="function"><span class="keyword">function</span> (<span class="params">selector</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (</span><br><span class="line">        kjQuery.isObject(selector) &amp;&amp;</span><br><span class="line">        !kjQuery.isWindow(selector) &amp;&amp;</span><br><span class="line">        <span class="string">"length"</span> <span class="keyword">in</span> selector</span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (kjQuery.isArray(selector)) &#123;</span><br><span class="line">    <span class="keyword">var</span> arr = [].slice.call(selector);</span><br><span class="line">    [].push.apply(<span class="keyword">this</span>, arr);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>其他类型（对象、DOM元素、基本数据类型等）</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>[<span class="number">0</span>] = selector;</span><br><span class="line">    <span class="keyword">this</span>.length = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="真伪数组转换"><a class="markdownIt-Anchor" href="#真伪数组转换"></a> 真伪数组转换</h3><ol><li><p>真数组转换为伪数组</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;&#125;,arr=[];</span><br><span class="line">[].push.apply(obj,arr);</span><br></pre></td></tr></table></figure></li><li><p>伪数组转换为真数组</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> arr = [].slice.call(obj)</span><br></pre></td></tr></table></figure></li></ol><h2 id="入口函数-extend方法"><a class="markdownIt-Anchor" href="#入口函数-extend方法"></a> 入口函数-extend方法</h2><p>通过extend方法来为对象或类添加方法。</p><ol><li><p>调用<code>extend</code>方法，传入一个对象。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">kjQuery</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line">kjQuery.extend(&#123;</span><br><span class="line">    isTest: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'test'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>在<code>extend</code>方法的实现中，遍历传入的对象，并将值添加到类身上作为类的方法。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 为类和对象添加方法 */</span></span><br><span class="line">kjQuery.extend = kjQuery.prototype.extend = <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">        <span class="keyword">this</span>[key] = obj[key];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">/* 为类添加方法 */</span></span><br><span class="line">kjQuery.extend = <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// this指向kjQuery</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">        <span class="comment">// kjQuery[key] = obj[key]</span></span><br><span class="line">        <span class="keyword">this</span>[key] = obj[key]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 为对象添加方法 */</span></span><br><span class="line">kjQuery.extend.prototype = <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// this指向实例化对象</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">        <span class="comment">// kjQuery[key] = obj[key]</span></span><br><span class="line">        <span class="keyword">this</span>[key] = obj[key]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">    *<span class="regexp">/</span></span><br></pre></td></tr></table></figure></li><li><p>通过类名调用方法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kjQuery.isTest()</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/21/3efd0ed3ca204917ace2e86b32492ba5.png" alt="image-20200621191222466" /></p></li><li><p>通过对象调用方法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> k = <span class="keyword">new</span> kjQuery();</span><br><span class="line">k.extend(&#123;</span><br><span class="line">    isDemo: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'demo'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">k.isDemo()</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/21/dd62c531576727794b64cc69858d4921.png" alt="image-20200621193649802" /></p></li></ol><p>因此可以将之前定义的静态方法改为如下写法：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">kjQuery.extend = kjQuery.prototype.extend = <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">        <span class="keyword">this</span>[key] = obj[key];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">kjQuery.extend(&#123;</span><br><span class="line">    isString: <span class="function"><span class="keyword">function</span> (<span class="params">str</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">typeof</span> str === <span class="string">"string"</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    isHTML: <span class="function"><span class="keyword">function</span> (<span class="params">str</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            str.charAt(<span class="number">0</span>) == <span class="string">"&lt;"</span> &amp;&amp;</span><br><span class="line">            str.charAt(str.length - <span class="number">1</span>) == <span class="string">"&gt;"</span> &amp;&amp;</span><br><span class="line">            str.length &gt;= <span class="number">3</span></span><br><span class="line">        );</span><br><span class="line">    &#125;,</span><br><span class="line">    trim: <span class="function"><span class="keyword">function</span> (<span class="params">str</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!kjQuery.isString(str)) &#123;</span><br><span class="line">            <span class="keyword">return</span> str;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (str.trim) &#123;</span><br><span class="line">            <span class="keyword">return</span> str.trim();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// IE兼容处理方案</span></span><br><span class="line">            <span class="keyword">return</span> str.replace(<span class="regexp">/^\s+|\s+$/g</span>, <span class="string">""</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    isObject: <span class="function"><span class="keyword">function</span> (<span class="params">selector</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">typeof</span> selector === <span class="string">"object"</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    isWindow: <span class="function"><span class="keyword">function</span> (<span class="params">selector</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> selector === <span class="built_in">window</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    isArray: <span class="function"><span class="keyword">function</span> (<span class="params">selector</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (</span><br><span class="line">            kjQuery.isObject(selector) &amp;&amp;</span><br><span class="line">            !kjQuery.isWindow(selector) &amp;&amp;</span><br><span class="line">            <span class="string">"length"</span> <span class="keyword">in</span> selector</span><br><span class="line">        ) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    isFunction: <span class="function"><span class="keyword">function</span> (<span class="params">selector</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">typeof</span> selector === <span class="string">"function"</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    ready: <span class="function"><span class="keyword">function</span> (<span class="params">fn</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 判断DOM是否加载完毕</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">document</span>.readyState == <span class="string">"complete"</span>) &#123;</span><br><span class="line">            fn();</span><br><span class="line">            <span class="comment">//   判断是否含有addEventListener方法</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">document</span>.addEventListener) &#123;</span><br><span class="line">            <span class="built_in">document</span>.addEventListener(<span class="string">"DOMContentLoaded"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                fn();</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//   IE兼容</span></span><br><span class="line">            <span class="built_in">document</span>.attachEvent(<span class="string">"onreadystatechange"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> ((<span class="built_in">document</span>.readyState = <span class="string">"complete"</span>)) &#123;</span><br><span class="line">                    fn();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="完整代码"><a class="markdownIt-Anchor" href="#完整代码"></a> 完整代码</h2><p>至此入口函数部分编写已经完成，下边是工具库的全部代码。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">window, undefiend</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> kjQuery = <span class="function"><span class="keyword">function</span> (<span class="params">selector</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> kjQuery.prototype.init(selector);</span><br><span class="line">  &#125;;</span><br><span class="line">  kjQuery.prototype = &#123;</span><br><span class="line">    <span class="keyword">constructor</span>: kjQuery,</span><br><span class="line">    init: function (selector) &#123;</span><br><span class="line">      <span class="comment">/*</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        代码片段:会将创建好的DOM元素存储到jQuery对象中返回</span></span><br><span class="line"><span class="comment">        选择器: 会将找到的所有元素存储到jQuery对象中返回</span></span><br><span class="line"><span class="comment">        3.数组:</span></span><br><span class="line"><span class="comment">        会将数组中存储的元素依次存储到jQuery对象中立返回</span></span><br><span class="line"><span class="comment">        4.除上述类型以外的:</span></span><br><span class="line"><span class="comment">        会将传入的数据存储到jQuery对象中返回</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">      <span class="comment">// 0 去除字符串两端的空格</span></span><br><span class="line">      selector = kjQuery.trim(selector);</span><br><span class="line">      <span class="comment">// 1.传入 '' null undefined NaN  0  false, 返回空的jQuery对象</span></span><br><span class="line">      <span class="keyword">if</span> (!selector) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 2. 方法处理</span></span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span> (kjQuery.isFunction(selector)) &#123;</span><br><span class="line">        kjQuery.ready(selector);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 3.字符串:</span></span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span> (kjQuery.isString(selector)) &#123;</span><br><span class="line">        <span class="comment">// 2.1 判断是否是代码片段</span></span><br><span class="line">        <span class="keyword">if</span> (kjQuery.isHTML(selector)) &#123;</span><br><span class="line">          <span class="comment">// 1. 根据代码片段创建所有的元素</span></span><br><span class="line">          <span class="keyword">var</span> temp = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</span><br><span class="line">          temp.innerHTML = selector;</span><br><span class="line">          <span class="comment">//   // 2. 创建好的一级元素添加到对象</span></span><br><span class="line">          <span class="comment">//   for (var i = 0; i &lt; temp.children.length; i++) &#123;</span></span><br><span class="line">          <span class="comment">//     this[i] = temp.children[i];</span></span><br><span class="line">          <span class="comment">//   &#125;</span></span><br><span class="line">          <span class="comment">//   // 3. 给jQuery对象添加length属性</span></span><br><span class="line">          <span class="comment">//   this.length = temp.children.length;</span></span><br><span class="line">          [].push.apply(<span class="keyword">this</span>, temp.children);</span><br><span class="line"></span><br><span class="line">          <span class="comment">// this是kjQuery</span></span><br><span class="line">          <span class="comment">// 4. 返回加工好的this(jQuery)</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 2.2 判断是否是选择器</span></span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="comment">// 1. 根据传入的选择器找到对应的元素</span></span><br><span class="line">          <span class="keyword">var</span> res = <span class="built_in">document</span>.querySelectorAll(selector);</span><br><span class="line">          <span class="comment">// 2. 将找到的元素添加到kjQuery</span></span><br><span class="line">          [].push.apply(<span class="keyword">this</span>, res);</span><br><span class="line">          <span class="comment">// 3. 返回加工好的this</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 3 数组</span></span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span> (kjQuery.isArray(selector)) &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        //   3.1 真数组</span></span><br><span class="line"><span class="comment">        if (&#123;&#125;.toString.apply(selector) == "[object Array]") &#123;</span></span><br><span class="line"><span class="comment">          [].push.apply(this, selector);</span></span><br><span class="line"><span class="comment">          return this;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        //   3.2 伪数组</span></span><br><span class="line"><span class="comment">        else &#123;</span></span><br><span class="line"><span class="comment">          // 将自定义的伪数组转换成真数组</span></span><br><span class="line"><span class="comment">          var arr = [].slice.call(selector);</span></span><br><span class="line"><span class="comment">          [].push.apply(this, arr);</span></span><br><span class="line"><span class="comment">          return this;</span></span><br><span class="line"><span class="comment">          // 但凡将自定义数组转换为真数组或伪数组都先转换为真数组</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="keyword">var</span> arr = [].slice.call(selector);</span><br><span class="line">        [].push.apply(<span class="keyword">this</span>, arr);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 4. 其他类型</span></span><br><span class="line">      <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>[<span class="number">0</span>] = selector;</span><br><span class="line">        <span class="keyword">this</span>.length = <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">  kjQuery.extend = kjQuery.prototype.extend = <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">      <span class="keyword">this</span>[key] = obj[key];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">  kjQuery.extend(&#123;</span><br><span class="line">    isString: <span class="function"><span class="keyword">function</span> (<span class="params">str</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">typeof</span> str === <span class="string">"string"</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    isHTML: <span class="function"><span class="keyword">function</span> (<span class="params">str</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        str.charAt(<span class="number">0</span>) == <span class="string">"&lt;"</span> &amp;&amp;</span><br><span class="line">        str.charAt(str.length - <span class="number">1</span>) == <span class="string">"&gt;"</span> &amp;&amp;</span><br><span class="line">        str.length &gt;= <span class="number">3</span></span><br><span class="line">      );</span><br><span class="line">    &#125;,</span><br><span class="line">    trim: <span class="function"><span class="keyword">function</span> (<span class="params">str</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (!kjQuery.isString(str)) &#123;</span><br><span class="line">        <span class="keyword">return</span> str;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (str.trim) &#123;</span><br><span class="line">        <span class="keyword">return</span> str.trim();</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// IE兼容处理方案</span></span><br><span class="line">        <span class="keyword">return</span> str.replace(<span class="regexp">/^\s+|\s+$/g</span>, <span class="string">""</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    isObject: <span class="function"><span class="keyword">function</span> (<span class="params">selector</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">typeof</span> selector === <span class="string">"object"</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    isWindow: <span class="function"><span class="keyword">function</span> (<span class="params">selector</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> selector === <span class="built_in">window</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    isArray: <span class="function"><span class="keyword">function</span> (<span class="params">selector</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (</span><br><span class="line">        kjQuery.isObject(selector) &amp;&amp;</span><br><span class="line">        !kjQuery.isWindow(selector) &amp;&amp;</span><br><span class="line">        <span class="string">"length"</span> <span class="keyword">in</span> selector</span><br><span class="line">      ) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    isFunction: <span class="function"><span class="keyword">function</span> (<span class="params">selector</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">typeof</span> selector === <span class="string">"function"</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    ready: <span class="function"><span class="keyword">function</span> (<span class="params">fn</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// 判断DOM是否加载完毕</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">document</span>.readyState == <span class="string">"complete"</span>) &#123;</span><br><span class="line">        fn();</span><br><span class="line">        <span class="comment">//   判断是否含有addEventListener方法</span></span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">document</span>.addEventListener) &#123;</span><br><span class="line">        <span class="built_in">document</span>.addEventListener(<span class="string">"DOMContentLoaded"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">          fn();</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">//   IE兼容</span></span><br><span class="line">        <span class="built_in">document</span>.attachEvent(<span class="string">"onreadystatechange"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">          <span class="keyword">if</span> ((<span class="built_in">document</span>.readyState = <span class="string">"complete"</span>)) &#123;</span><br><span class="line">            fn();</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  kjQuery.prototype.init.prototype = kjQuery.prototype;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">window</span>.kjQuery = <span class="built_in">window</span>.$ = kjQuery;</span><br><span class="line">&#125;)(<span class="built_in">window</span>);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/
      
    
    </summary>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="JavaScript笔记" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/JavaScript%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/tags/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="笔记" scheme="https://www.antmoe.com/tags/%E7%AC%94%E8%AE%B0/"/>
    
      <category term="JavaScript" scheme="https://www.antmoe.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>八、jQuery的QQ音乐播放器</title>
    <link href="https://www.antmoe.com/posts/5e982fbe/index.html"/>
    <id>https://www.antmoe.com/posts/5e982fbe/index.html</id>
    <published>2020-06-18T08:40:58.000Z</published>
    <updated>2020-06-22T10:42:16.885Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h2 id="项目资料"><a class="markdownIt-Anchor" href="#项目资料"></a> 项目资料</h2><div class="btns rounded grid5">    <a href="https://gitee.com/antmoe/project/tree/master/2020/06/qqMusic" target="_blank" rel="noopener" title="查看源码"><i class="fa fa-download"></i> 查看源码</a>    <a href="https://antmoe.gitee.io/project/2020/06/qqMusic/" target="_blank" rel="noopener" title="在线DEMO"><i class="fas fa-book-open"></i> 在线Demo</a></div><h2 id="基本框架及顶部布局"><a class="markdownIt-Anchor" href="#基本框架及顶部布局"></a> 基本框架及顶部布局</h2><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/18/44c18ebc0f094265a0e93f0f74e310cf.png" alt="image-20200618170522288" /></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">"logo"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"register"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>注册<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>登陆<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content_in"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer_in"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.header</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">45px</span>;</span><br><span class="line">  <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.header</span> <span class="selector-class">.logo</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.5</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.header</span> <span class="selector-class">.logo</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.header</span> <span class="selector-class">.logo</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">78px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">21px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">"../images/player_logo.png"</span>) no-repeat <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.header</span> <span class="selector-class">.register</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: right;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">25px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.header</span> <span class="selector-class">.register</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">  <span class="attribute">list-style</span>: none;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.5</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.header</span> <span class="selector-class">.register</span> <span class="selector-tag">li</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">460px</span>;</span><br><span class="line">  <span class="attribute">background</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span> <span class="selector-class">.content_in</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: deeppink;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.footer</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">background</span>: green;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.footer</span> <span class="selector-class">.footer_in</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: plum;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="工具条"><a class="markdownIt-Anchor" href="#工具条"></a> 工具条</h2><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/18/a3a51a448acd8b37bcd723c3e7a31ff7.png" alt="image-20200618172255517" /></p><p>工具条使用span作为按钮，里边为图片加文字。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content_in"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content_left"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content_toolbar"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>收藏<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>添加到<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>下载<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>清空列表<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.content</span> <span class="selector-class">.content_in</span> <span class="selector-class">.content_left</span> &#123;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">800px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">background</span>: pink;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content_left</span> <span class="selector-class">.content_toolbar</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content_toolbar</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">122px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.5</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content_toolbar</span> <span class="selector-tag">span</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content_toolbar</span> <span class="selector-tag">span</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">18px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">18px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">"../images/icon_sprite.png"</span>) no-repeat;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">vertical-align</span>: -<span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content_toolbar</span> <span class="selector-tag">span</span><span class="selector-pseudo">:nth-child(1)</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: -<span class="number">60px</span> -<span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content_toolbar</span> <span class="selector-tag">span</span><span class="selector-pseudo">:nth-child(2)</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: -<span class="number">20px</span> -<span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content_toolbar</span> <span class="selector-tag">span</span><span class="selector-pseudo">:nth-child(3)</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: -<span class="number">40px</span> -<span class="number">240px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content_toolbar</span> <span class="selector-tag">span</span><span class="selector-pseudo">:nth-child(4)</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: -<span class="number">100px</span> -<span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content_toolbar</span> <span class="selector-tag">span</span><span class="selector-pseudo">:nth-child(5)</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: -<span class="number">40px</span> -<span class="number">300px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="歌曲列表"><a class="markdownIt-Anchor" href="#歌曲列表"></a> 歌曲列表</h2><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/18/bde3b657699574304aa447a623775b2c.png" alt="image-20200618185026610" /></p><p>歌曲列表可以视作逐行的列表，第一行为标题，下边为歌曲。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content_left"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content_list"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"list_title"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"list_check"</span>&gt;</span><span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"list_number"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"list_name"</span>&gt;</span>歌曲<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"list_singer"</span>&gt;</span>歌手<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"list_time"</span>&gt;</span>时长<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"list_music"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"list_check"</span>&gt;</span><span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"list_number"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"list_name"</span>&gt;</span>哈哈哈<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"list_singer"</span>&gt;</span>TZK<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"list_time"</span>&gt;</span>03:17<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* TAG 播放列表布局 */</span></span><br><span class="line"><span class="selector-class">.content_list</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">  <span class="attribute">list-style</span>: none;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">background</span>: orangered;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.5</span>);</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content_list</span> <span class="selector-tag">li</span> <span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.5</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content_list</span> <span class="selector-class">.list_check</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#000</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content_list</span> <span class="selector-class">.list_check</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content_list</span> <span class="selector-class">.list_number</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: green;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content_list</span> <span class="selector-class">.list_name</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ccc</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content_list</span> <span class="selector-class">.list_singer</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: pink;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="完善播放列表"><a class="markdownIt-Anchor" href="#完善播放列表"></a> 完善播放列表</h2><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/18/3666faff71758dadb53a745ea03a13d4.png" alt="" /></p><ol><li><p>选择框</p><p>伪选择框，使用图片，当被点击时，切换图片</p></li><li><p>鼠标悬停的图标</p><p>使用a标签加背景图即可。使用jQuery监听鼠标的移入移出事件。</p></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"list_music"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"list_check"</span>&gt;</span><span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"list_number"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"list_name"</span>&gt;</span>哈哈哈</span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"list_menu"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">title</span>=<span class="string">"播放"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">title</span>=<span class="string">"添加"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">title</span>=<span class="string">"下载"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">title</span>=<span class="string">"分享"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"list_singer"</span>&gt;</span>TZK<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"list_time"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>04:12<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">title</span>=<span class="string">"删除"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.list_name</span> <span class="selector-class">.list_menu</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">float</span>: right;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.list_name</span> <span class="selector-class">.list_menu</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">36px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">36px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">"../images/icon_list_menu.png"</span>) no-repeat <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.list_name</span> <span class="selector-class">.list_menu</span> <span class="selector-tag">a</span><span class="selector-pseudo">:nth-child(1)</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: -<span class="number">120px</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.list_name</span> <span class="selector-class">.list_menu</span> <span class="selector-tag">a</span><span class="selector-pseudo">:nth-child(2)</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: -<span class="number">120px</span> -<span class="number">80px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.list_name</span> <span class="selector-class">.list_menu</span> <span class="selector-tag">a</span><span class="selector-pseudo">:nth-child(3)</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: -<span class="number">120px</span> -<span class="number">120px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.list_name</span> <span class="selector-class">.list_menu</span> <span class="selector-tag">a</span><span class="selector-pseudo">:nth-child(4)</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: -<span class="number">120px</span> -<span class="number">40px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content_list</span> <span class="selector-class">.list_time</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">36px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">36px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">"../images/icon_list_menu.png"</span>) no-repeat -<span class="number">120px</span> -<span class="number">160px</span>;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 1. 监听歌曲的移入移出事件</span></span><br><span class="line">  $(<span class="string">".list_music"</span>).hover(</span><br><span class="line">    <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">//   显示子菜单</span></span><br><span class="line">      $(<span class="keyword">this</span>).find(<span class="string">".list_menu"</span>).stop().fadeIn(<span class="number">100</span>);</span><br><span class="line">      $(<span class="keyword">this</span>).find(<span class="string">".list_time a"</span>).stop().fadeIn(<span class="number">100</span>);</span><br><span class="line">      <span class="comment">//   隐藏时长</span></span><br><span class="line">      $(<span class="keyword">this</span>).find(<span class="string">".list_time span"</span>).stop().fadeOut(<span class="number">100</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">//   隐藏子菜单</span></span><br><span class="line">      $(<span class="keyword">this</span>).find(<span class="string">".list_menu"</span>).stop().fadeOut(<span class="number">100</span>);</span><br><span class="line">      $(<span class="keyword">this</span>).find(<span class="string">".list_time a"</span>).stop().fadeOut(<span class="number">100</span>);</span><br><span class="line">      <span class="comment">//   显示时长</span></span><br><span class="line">      $(<span class="keyword">this</span>).find(<span class="string">".list_time span"</span>).stop().fadeIn(<span class="number">100</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  );</span><br><span class="line">  <span class="comment">// 2. 监听复选框的点击事件</span></span><br><span class="line">  $(<span class="string">".list_check"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="keyword">this</span>).toggleClass(<span class="string">"list_checked"</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="自定义滚动条"><a class="markdownIt-Anchor" href="#自定义滚动条"></a> 自定义滚动条</h2><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/18/6a53212b81e00cb2af8931e538db6879.png" alt="image-20200618194035573" /></p><p>自定义滚动条使用了一个jQuery插件<a href="http://manos.malihu.gr/jquery-custom-content-scroller/" target="_blank" rel="noopener">jQuery custom content scroller</a>。利用这个插件可以轻松设置滚动条样式。</p><ol><li><p>引入CSS文件</p></li><li><p>在jQuery下方引入JS文件</p></li><li><p>为需要添加的元素调用<code>mCustomScrollbar()</code>方法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">".content_list"</span>).mCustomScrollbar();</span><br></pre></td></tr></table></figure></li><li><p>为该元素添加自定义属性<code>data-mcs-theme=&quot;dark&quot;</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content_list"</span> <span class="attr">data-mcs-theme</span>=<span class="string">'minimal-dark'</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>小细节（修改其默认样式）</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/18/87a462d99ba4a7e3a305bf05276c2c81.png" alt="image-20200618194130417" /></p><p>根据图中所示，可以将滚动条的宽度增加。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 滚动条 */</span></span><br><span class="line"><span class="selector-class">._mCS_1</span> <span class="selector-class">.mCSB_scrollTools</span> <span class="selector-class">.mCSB_dragger_bar</span> &#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">8px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="音乐歌曲信息"><a class="markdownIt-Anchor" href="#音乐歌曲信息"></a> 音乐歌曲信息</h2><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/18/75e3582fd62919bc49e2adc6fa148284.png" alt="image-20200618200547905" /></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content_right"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"song_info"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript;;"</span> <span class="attr">class</span>=<span class="string">"song_info_pic"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/lnj.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"song_info_name"</span>&gt;</span>歌曲名称:</span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span>xiaokang<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"song_info_singer"</span>&gt;</span>歌手名:</span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span>xiaokang<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"song_info_ablum"</span>&gt;</span>专辑名:</span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span>xiaokang<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"song_lyric"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"cur"</span>&gt;</span>第一条歌词<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>第二条歌词<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.content_right</span> <span class="selector-class">.song_info</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.5</span>);</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.song_info</span> <span class="selector-class">.song_info_pic</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">"../images/album_cover_player.png"</span>) no-repeat <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">201px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">180px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.song_info_pic</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">180px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">180px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.song_info</span> <span class="selector-tag">div</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.5</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.song_info</span> <span class="selector-tag">div</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content_right</span> <span class="selector-class">.song_lyric</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: gray;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content_right</span> <span class="selector-class">.song_lyric</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">    <span class="attribute">list-style</span>: none;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.5</span>);</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content_right</span> <span class="selector-class">.song_lyric</span> <span class="selector-class">.cur</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#31c27c</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="底部结构"><a class="markdownIt-Anchor" href="#底部结构"></a> 底部结构</h2><h3 id="基本结构"><a class="markdownIt-Anchor" href="#基本结构"></a> 基本结构</h3><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/19/c6d96e88d0943ef49ea141cf8a9566c4.png" alt="image-20200619103844876" /></p><p>进度条可大致分为四部分</p><ol><li><p>图标</p><p>使用a标签加背景图即可</p></li><li><p>歌曲进度条（红色区域）</p><p>因为此区域需包含进度条及歌曲名称、时间等信息。因此使用div作为布局</p></li><li><p>音量部分（绿色区域）</p><p>此部分包含图标及一个拖动条，因此也使用div作为盒子进行布局。</p></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer_in"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">class</span>=<span class="string">"music_pre"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">class</span>=<span class="string">"music_play"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">class</span>=<span class="string">"music_next"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"music_progress_info"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">class</span>=<span class="string">"music_mode"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">class</span>=<span class="string">"music_fav"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">class</span>=<span class="string">"music_down"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">class</span>=<span class="string">"music_comment"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">class</span>=<span class="string">"music_only"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"music_voice_info"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.footer_in</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">"../images/player.png"</span>) no-repeat <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.footer_in</span> <span class="selector-class">.music_pre</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">19px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.footer_in</span> <span class="selector-class">.music_play</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">21px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">29px</span>;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.footer_in</span> <span class="selector-class">.music_next</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">19px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">52px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.footer_in</span> <span class="selector-class">.music_progress_info</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">670px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.footer_in</span> <span class="selector-class">.music_mode</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">26px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">25px</span>;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0px</span> -<span class="number">205px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.footer_in</span> <span class="selector-class">.music_fav</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">24px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">21px</span>;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0px</span> -<span class="number">96px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.footer_in</span> <span class="selector-class">.music_down</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">22px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">21px</span>;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0px</span> -<span class="number">120px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.footer_in</span> <span class="selector-class">.music_comment</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">24px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">24px</span>;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0px</span> -<span class="number">400px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.footer_in</span> <span class="selector-class">.music_only</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">74px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">27px</span>;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0px</span> -<span class="number">281px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.footer_in</span> <span class="selector-class">.music_voice_info</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">background</span>: green;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="进度条"><a class="markdownIt-Anchor" href="#进度条"></a> 进度条</h3><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/19/93922a996de782562a84c13aae8e2452.png" alt="image-20200619111902832" /></p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/19/4383bbd8b5fac89d49976c0b3b28b09e.png" alt="image-20200619111910450" /></p><ol><li><p>歌曲部分的结构</p><ul><li><p>信息部分</p><p>两个span元素即可</p></li><li><p>进度条</p><p>一种通用的结构。三层结构分别表示背景、前景、圆。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"music_progress_bar"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"music_progress_line"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"music_progress_dot"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/19/4787e1ff460ccc2f6fce54a8f52ee0f9.png" alt="image-20200619112258786" /></p></li></ul></li><li><p>音量部分</p><p>与歌曲信息的进度条同理，图标同样使用a标签与图片结合。</p></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"music_progress_info"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"music_progress_top"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"music_progress_name"</span>&gt;</span>666/666<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"music_progress_time"</span>&gt;</span>00:00 / 05:23<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"music_progress_bar"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"music_progress_line"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"music_progress_dot"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"music_voice_info"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">class</span>=<span class="string">"music_voice_icon"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"music_voice_bar"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"music_voice_line"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"music_voice_dot"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 歌曲进度条 */</span></span><br><span class="line"><span class="selector-class">.footer_in</span> <span class="selector-class">.music_progress_info</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">670px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.music_progress_info</span> <span class="selector-class">.music_progress_top</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#000000</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.music_progress_top</span> <span class="selector-class">.music_progress_name</span> &#123;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.5</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.music_progress_top</span> <span class="selector-class">.music_progress_name</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.music_progress_top</span> <span class="selector-class">.music_progress_time</span> &#123;</span><br><span class="line">    <span class="attribute">float</span>: right;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.5</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.music_progress_info</span> <span class="selector-class">.music_progress_bar</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.5</span>);</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.music_progress_bar</span> <span class="selector-class">.music_progress_line</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#ffffff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.music_progress_bar</span> <span class="selector-class">.music_progress_dot</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">14px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">14px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">top</span>: -<span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 音量控制 */</span></span><br><span class="line"><span class="selector-class">.footer_in</span> <span class="selector-class">.music_voice_info</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">background</span>: green;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.music_voice_info</span> <span class="selector-class">.music_voice_icon</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">26px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">21px</span>;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">144px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.music_voice_info</span> <span class="selector-class">.music_voice_bar</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">70px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.5</span>);</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">18px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.music_voice_bar</span> <span class="selector-class">.music_voice_line</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#ffffff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.music_voice_bar</span> <span class="selector-class">.music_voice_dot</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">14px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">14px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#ffffff</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: -<span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="底部微调完善"><a class="markdownIt-Anchor" href="#底部微调完善"></a> 底部微调完善</h3><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/19/732909165c4918c7280eedb8c4e21ad3.png" alt="image-20200619114423558" /></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.footer</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">80px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.footer_in</span> <span class="selector-class">.music_play</span> &#123;</span><br><span class="line">    <span class="attribute">vertical-align</span>: -<span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.footer_in</span> <span class="selector-class">.music_progress_info</span> &#123;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.footer_in</span> <span class="selector-class">.music_voice_info</span> &#123;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 播放按钮点击 */</span></span><br><span class="line"><span class="selector-class">.footer_in</span> <span class="selector-class">.music_play2</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: -<span class="number">30px</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 循环模式样式切换 */</span></span><br><span class="line"><span class="selector-class">.footer_in</span> <span class="selector-class">.music_mode2</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">23px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0px</span> -<span class="number">260px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.footer_in</span> <span class="selector-class">.music_mode3</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">25px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">19px</span>;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0px</span> -<span class="number">74px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.footer_in</span> <span class="selector-class">.music_mode4</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">26px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">25px</span>;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0px</span> -<span class="number">232px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 喜欢按钮 */</span></span><br><span class="line"><span class="selector-class">.footer_in</span> <span class="selector-class">.music_fav2</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: -<span class="number">30px</span> -<span class="number">96px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 纯净模式 */</span></span><br><span class="line"><span class="selector-class">.footer_in</span> <span class="selector-class">.music_only2</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0px</span> -<span class="number">310px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="高斯模糊背景"><a class="markdownIt-Anchor" href="#高斯模糊背景"></a> 高斯模糊背景</h2><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/19/d41e42b140cc17867c173a7cd5d2ae83.png" alt="image-20200619115743728" /></p><p>模糊背景通过使用一张图加一个淡灰色的蒙版即可。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"mask_bg"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"mask"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 背景设置 */</span></span><br><span class="line"><span class="selector-class">.mask_bg</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">"../images/lnj.jpg"</span>) no-repeat <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">background-size</span>: cover;</span><br><span class="line">    <span class="attribute">z-index</span>: -<span class="number">2</span>;</span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">100px</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.mask</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: -<span class="number">1</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.35</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="加载歌曲"><a class="markdownIt-Anchor" href="#加载歌曲"></a> 加载歌曲</h2><p>加载歌曲使用了jQuery得Ajax方法。通过一个json文件获取歌曲的相关信息。</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/19/32487c0184d8590b09675a59eb8e5ee8.png" alt="image-20200619143939845" /></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 3. 加载歌曲列表</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getPlayerList</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        url: <span class="string">"./source/musiclist.json"</span>,</span><br><span class="line">        dataType: <span class="string">"json"</span>,</span><br><span class="line">        success: <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">            <span class="comment">// 3.1 遍历获取到的数据创建每一条音乐</span></span><br><span class="line">            <span class="keyword">var</span> $musicList = $(<span class="string">".content_list ul"</span>);</span><br><span class="line">            $.each(data, <span class="function"><span class="keyword">function</span> (<span class="params">index, ele</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> $item = createMusicItem(index, ele);</span><br><span class="line">                $musicList.append($item);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">        error: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(e);</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line">getPlayerList();</span><br><span class="line"><span class="comment">// 创建一条音乐的方法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createMusicItem</span>(<span class="params">index, music</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> $item = $(</span><br><span class="line">        <span class="string">'&lt;li class="list_music"&gt;&lt;div class="list_check "&gt;&lt;i&gt;&lt;/i&gt;&lt;/div&gt;&lt;div class="list_number"&gt;'</span> +</span><br><span class="line">        (index + <span class="number">1</span>) +</span><br><span class="line">        <span class="string">'&lt;/div&gt;&lt;div class="list_name"&gt;'</span> +</span><br><span class="line">        music.name +</span><br><span class="line">        <span class="string">'&lt;div class="list_menu"&gt;&lt;a href="javascript:;" title="播放"&gt;&lt;/a&gt;&lt;a href="javascript:;" title="添加"&gt;&lt;/a&gt;&lt;a href="javascript:;" title="下载"&gt;&lt;/a&gt;&lt;a href="javascript:;" title="分享"&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="list_singer"&gt;'</span> +</span><br><span class="line">        music.singer +</span><br><span class="line">        <span class="string">'&lt;/div&gt;&lt;div class="list_time"&gt;&lt;span&gt;'</span> +</span><br><span class="line">        music.time +</span><br><span class="line">        <span class="string">'&lt;/span&gt;&lt;a href="javascript:;" title="删除"&gt;&lt;/a&gt;&lt;/div&gt;&lt;/li&gt;'</span></span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">return</span> $item;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="完善事件"><a class="markdownIt-Anchor" href="#完善事件"></a> 完善事件</h3><p>由于音乐列表改成了js动态创建，那么就会导致曾经绑定的事件失效，因此需要修改为事件委托方式。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 监听歌曲的移入移出事件</span></span><br><span class="line">$(<span class="string">".content_list"</span>).delegate(<span class="string">".list_music"</span>, <span class="string">"mouseenter"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//   显示子菜单</span></span><br><span class="line">    $(<span class="keyword">this</span>).find(<span class="string">".list_menu"</span>).stop().fadeIn(<span class="number">100</span>);</span><br><span class="line">    $(<span class="keyword">this</span>).find(<span class="string">".list_time a"</span>).stop().fadeIn(<span class="number">100</span>);</span><br><span class="line">    <span class="comment">//   隐藏时长</span></span><br><span class="line">    $(<span class="keyword">this</span>).find(<span class="string">".list_time span"</span>).stop().fadeOut(<span class="number">100</span>);</span><br><span class="line">&#125;);</span><br><span class="line">$(<span class="string">".content_list"</span>).delegate(<span class="string">".list_music"</span>, <span class="string">"mouseleave"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//   隐藏子菜单</span></span><br><span class="line">    $(<span class="keyword">this</span>).find(<span class="string">".list_menu"</span>).stop().fadeOut(<span class="number">100</span>);</span><br><span class="line">    $(<span class="keyword">this</span>).find(<span class="string">".list_time a"</span>).stop().fadeOut(<span class="number">100</span>);</span><br><span class="line">    <span class="comment">//   显示时长</span></span><br><span class="line">    $(<span class="keyword">this</span>).find(<span class="string">".list_time span"</span>).stop().fadeIn(<span class="number">100</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 监听复选框的点击事件</span></span><br><span class="line">$(<span class="string">".content_list"</span>).delegate(<span class="string">".list_check"</span>, <span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="keyword">this</span>).toggleClass(<span class="string">"list_checked"</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="音乐播放图标切换"><a class="markdownIt-Anchor" href="#音乐播放图标切换"></a> 音乐播放图标切换</h2><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/19/d02d8622e0b3976babb969f55ca28dfb.png" alt="" /></p><p>为此按钮添加事件同样需要以事件委托的方式。当点击后会发生两件事：</p><ol><li>将其他播放按钮改为暂停状态</li><li>将底部播放按钮修改</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 3. 添加子菜单播放按钮的监听</span></span><br><span class="line"><span class="keyword">var</span> $musicPlay = $(<span class="string">".music_play"</span>);</span><br><span class="line">$(<span class="string">".content_list"</span>).delegate(<span class="string">".list_menu_play"</span>, <span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 3.1 切换播放的图标</span></span><br><span class="line">    $(<span class="keyword">this</span>).toggleClass(<span class="string">"list_menu_play2"</span>);</span><br><span class="line">    <span class="comment">// 3.2 复原其他的播放图标</span></span><br><span class="line">    $(<span class="keyword">this</span>)</span><br><span class="line">        .parents(<span class="string">".list_music"</span>)</span><br><span class="line">        .siblings()</span><br><span class="line">        .find(<span class="string">".list_menu_play"</span>)</span><br><span class="line">        .removeClass(<span class="string">"list_menu_play2"</span>);</span><br><span class="line">    <span class="comment">// 3.3 同步底部播放按钮</span></span><br><span class="line">    <span class="keyword">if</span> ($(<span class="keyword">this</span>).attr(<span class="string">"class"</span>).indexOf(<span class="string">"list_menu_play2"</span>) != <span class="number">-1</span>) &#123;</span><br><span class="line">        <span class="comment">// 当前是播放状态</span></span><br><span class="line">        $musicPlay.addClass(<span class="string">"music_play2"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        $musicPlay.removeClass(<span class="string">"music_play2"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="音乐播放状态切换"><a class="markdownIt-Anchor" href="#音乐播放状态切换"></a> 音乐播放状态切换</h2><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/19/c2167e86eabe2c0543a833ea9d51dcf6.png" alt="" /></p><p>要想控制单个，必须设置时对单个设置，而不是全部，因此css部分需要微调。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.content_list</span> <span class="selector-tag">li</span> <span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.5</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content_list</span> <span class="selector-class">.list_check</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.5</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content_list</span> <span class="selector-class">.list_checked</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.list_name</span> <span class="selector-class">.list_menu</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.5</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.list_name</span> <span class="selector-class">.list_menu</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content_list</span> <span class="selector-class">.list_time</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.5</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content_list</span> <span class="selector-class">.list_time</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>将css修改完成后，接下来就是在JavaScript绑定的事件中进行修改了。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 3.3 同步底部播放按钮</span></span><br><span class="line"><span class="keyword">if</span> ($(<span class="keyword">this</span>).attr(<span class="string">"class"</span>).indexOf(<span class="string">"list_menu_play2"</span>) != <span class="number">-1</span>) &#123;</span><br><span class="line">    <span class="comment">// 当前是播放状态</span></span><br><span class="line">    $musicPlay.addClass(<span class="string">"music_play2"</span>);</span><br><span class="line">    <span class="comment">// 让文字高亮</span></span><br><span class="line">    $(<span class="keyword">this</span>).parents(<span class="string">".list_music"</span>).find(<span class="string">"div"</span>).css(<span class="string">"color"</span>, <span class="string">"#fff"</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    $musicPlay.removeClass(<span class="string">"music_play2"</span>);</span><br><span class="line">    <span class="comment">// 让文字不高亮</span></span><br><span class="line">    $(<span class="keyword">this</span>)</span><br><span class="line">        .parents(<span class="string">".list_music"</span>)</span><br><span class="line">        .find(<span class="string">"div"</span>)</span><br><span class="line">        .css(<span class="string">"color"</span>, <span class="string">"rgba(255,255,255,0.5)"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="序号动画"><a class="markdownIt-Anchor" href="#序号动画"></a> 序号动画</h2><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/19/33a3a3e0d0b392590b16e2b39a6c7867.png" alt="" /></p><p>动画采用图片的方式实现。当点击时，因此文字，并且显示图片。并作一些排他设置。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">".content_list"</span>).delegate(<span class="string">".list_menu_play"</span>, <span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> $item = $(<span class="keyword">this</span>).parents(<span class="string">".list_music"</span>);</span><br><span class="line">    <span class="comment">// 3.1 切换播放的图标</span></span><br><span class="line">    $(<span class="keyword">this</span>).toggleClass(<span class="string">"list_menu_play2"</span>);</span><br><span class="line">    <span class="comment">// 3.2 复原其他的播放图标</span></span><br><span class="line">    $(<span class="keyword">this</span>)</span><br><span class="line">        .parents(<span class="string">".list_music"</span>)</span><br><span class="line">        .siblings()</span><br><span class="line">        .find(<span class="string">".list_menu_play"</span>)</span><br><span class="line">        .removeClass(<span class="string">"list_menu_play2"</span>);</span><br><span class="line">    <span class="comment">// 3.3 同步底部播放按钮</span></span><br><span class="line">    <span class="keyword">if</span> ($(<span class="keyword">this</span>).attr(<span class="string">"class"</span>).indexOf(<span class="string">"list_menu_play2"</span>) != <span class="number">-1</span>) &#123;</span><br><span class="line">        <span class="comment">// 当前是播放状态</span></span><br><span class="line">        $musicPlay.addClass(<span class="string">"music_play2"</span>);</span><br><span class="line">        <span class="comment">// 让文字高亮</span></span><br><span class="line">        $item.find(<span class="string">"div"</span>).css(<span class="string">"color"</span>, <span class="string">"#fff"</span>);</span><br><span class="line">        $item.siblings().find(<span class="string">"div"</span>).css(<span class="string">"color"</span>, <span class="string">"rgba(255,255,255,0.5)"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        $musicPlay.removeClass(<span class="string">"music_play2"</span>);</span><br><span class="line">        <span class="comment">// 让文字不高亮</span></span><br><span class="line">        $item.find(<span class="string">"div"</span>).css(<span class="string">"color"</span>, <span class="string">"rgba(255,255,255,0.5)"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 3.4 切换序号的状态</span></span><br><span class="line">    $item.find(<span class="string">".list_number"</span>).toggleClass(<span class="string">"list_number2"</span>);</span><br><span class="line">    $item.siblings().find(<span class="string">".list_number"</span>).removeClass(<span class="string">"list_number2"</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.content_list</span> <span class="selector-class">.list_number2</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">"../images/wave.gif"</span>) no-repeat <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="播放工具类封装"><a class="markdownIt-Anchor" href="#播放工具类封装"></a> 播放工具类封装</h2><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/19/3f1d8fb5debc4b7eb8ed57f5b74c30c7.png" alt="image-20200619185250834" /></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">window</span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Player</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Player.prototype.init();</span><br><span class="line">    &#125;</span><br><span class="line">    Player.prototype = &#123;</span><br><span class="line">        <span class="keyword">constructor</span>: Player,</span><br><span class="line">        init: function () &#123;&#125;,</span><br><span class="line">    &#125;;</span><br><span class="line">    Player.prototype.init.prototype = Player.prototype;</span><br><span class="line">    <span class="built_in">window</span>.Player = Player;</span><br><span class="line">&#125;)(<span class="built_in">window</span>);</span><br></pre></td></tr></table></figure><ol><li><p>封装一个类，返回原型上的<code>init()</code>方法</p><p>也就是通过<code>init()</code>创建类</p></li><li><p>定义这个类的原型</p><p>将构造函数指向<code>Player</code>，并定义<code>init</code>方法</p></li><li><p>将<code>Player</code>原型上的<code>init</code>方法的原型指向<code>Player</code>的原型</p></li><li><p>将这个对象开放给window</p></li></ol><h2 id="音乐的播放暂停"><a class="markdownIt-Anchor" href="#音乐的播放暂停"></a> 音乐的播放暂停</h2><ol><li><p>在HTML页面插入一个<code>audio</code>标签，用于播放音乐</p></li><li><p>引入player工具库</p></li><li><p>实例化一个<code>Player</code>对象，并且传入<code>audio</code>对象</p></li><li><p>当按钮被点击时，调用播放音乐的方法</p></li><li><p>实现播放/暂停音乐的方法</p><ol><li><p>当创建音乐标签时，在标签中保存索引及音乐信息</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个方法创建一条音乐</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createMusicItem</span>(<span class="params">index, music</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> $item = $(...);</span><br><span class="line">    $item.get(<span class="number">0</span>).index = index;</span><br><span class="line">    $item.get(<span class="number">0</span>).music = music;</span><br><span class="line">    <span class="keyword">return</span> $item;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>接收两个参数，分别为<code>index</code>和<code>music</code>信息</p></li><li><p>定义一个遍历，用于记录当前索引</p></li><li><p>判断是否为同一首音乐</p></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Player.prototype = &#123;</span><br><span class="line">    currentIndex: <span class="number">-1</span>,</span><br><span class="line">    playMusic: <span class="function"><span class="keyword">function</span> (<span class="params">index, music</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 判断是否是同一首音乐</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.currentIndex == index) &#123;</span><br><span class="line">            <span class="comment">// 同一首音乐</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">this</span>.audio.paused) &#123;</span><br><span class="line">                <span class="keyword">this</span>.audio.play();</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">this</span>.audio.pause();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//   不是同一首音乐</span></span><br><span class="line">            <span class="keyword">this</span>.$audio.attr(<span class="string">"src"</span>, music.link_url);</span><br><span class="line">            <span class="keyword">this</span>.audio.play();</span><br><span class="line">            <span class="keyword">this</span>.currentIndex = index;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol><h2 id="底部播放暂停上一首下一首"><a class="markdownIt-Anchor" href="#底部播放暂停上一首下一首"></a> 底部播放/暂停/上一首/下一首</h2><p>底部播放暂停的逻辑：</p><ol><li><p>播放暂停</p><ul><li><p>从未播放过</p><p>播放第一首</p></li><li><p>播放过</p><p>继续播放</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$musicPlay.click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 判断有没有播放过音乐</span></span><br><span class="line">    <span class="keyword">if</span> (player.currentIndex == <span class="number">-1</span>) &#123;</span><br><span class="line">        <span class="comment">// 没有播放过</span></span><br><span class="line">        $(<span class="string">".list_music"</span>).eq(<span class="number">0</span>).find(<span class="string">".list_menu_play"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 已经播放过</span></span><br><span class="line">        $(<span class="string">".list_music"</span>)</span><br><span class="line">            .eq(player.currentIndex)</span><br><span class="line">            .find(<span class="string">".list_menu_play"</span>)</span><br><span class="line">            .trigger(<span class="string">"click"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>上一首/下一首</p><ul><li><p>第一首</p><p>上一首为最后一首</p></li><li><p>最后一首</p><p>下一首为第一首</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 5 监听底部控制区域上一首按钮的点击</span></span><br><span class="line">$(<span class="string">".music_pre"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">".list_music"</span>)</span><br><span class="line">        .eq(player.preIndex())</span><br><span class="line">        .find(<span class="string">".list_menu_play"</span>)</span><br><span class="line">        .trigger(<span class="string">"click"</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 6 监听底部控制区域下一首按钮的点击</span></span><br><span class="line">$(<span class="string">".music_next"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">".list_music"</span>)</span><br><span class="line">        .eq(player.nextIndex())</span><br><span class="line">        .find(<span class="string">".list_menu_play"</span>)</span><br><span class="line">        .trigger(<span class="string">"click"</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>对象的<code>preIndex</code>与<code>nextIndex</code>方法用于处理索引。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">preIndex: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> index = <span class="keyword">this</span>.currentIndex - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        index = <span class="keyword">this</span>.musicList.length - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> index;</span><br><span class="line">&#125;,</span><br><span class="line">    nextIndex: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> index = <span class="keyword">this</span>.currentIndex + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (index &gt; <span class="keyword">this</span>.musicList.length - <span class="number">1</span>) &#123;</span><br><span class="line">            index = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> index;</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure></li></ol><h2 id="删除歌曲"><a class="markdownIt-Anchor" href="#删除歌曲"></a> 删除歌曲</h2><p>删除数据时需要注意的就是前台删除数据后，后台也无需保存数据。并且需要对标签保存的数据进行重新排序</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 7. 监听删除按钮的点击</span></span><br><span class="line">$(<span class="string">".content_list"</span>).delegate(<span class="string">".list_menu_del"</span>, <span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 找到被点击的音乐</span></span><br><span class="line">    <span class="keyword">var</span> $item = $(<span class="keyword">this</span>).parents(<span class="string">".list_music"</span>);</span><br><span class="line">    <span class="comment">// 判断当前删除的是否是正在播放的</span></span><br><span class="line">    <span class="keyword">if</span> ($item.get(<span class="number">0</span>).index == player.currentIndex) &#123;</span><br><span class="line">        $(<span class="string">".music_next"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    $item.remove();</span><br><span class="line">    player.changeMusic($item.get(<span class="number">0</span>).index);</span><br><span class="line">    <span class="comment">// 重新排序</span></span><br><span class="line">    $(<span class="string">".list_music"</span>).each(<span class="function"><span class="keyword">function</span> (<span class="params">index, ele</span>) </span>&#123;</span><br><span class="line">        ele.index = index;</span><br><span class="line">        $(ele)</span><br><span class="line">            .find(<span class="string">".list_number"</span>)</span><br><span class="line">            .text(index + <span class="number">1</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>删除后需要注意删除的数据是否是正在播放的音乐的前边，如果是需要将索引-1。否则会出现下一曲跳歌的现象。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">changeMusic: <span class="function"><span class="keyword">function</span> (<span class="params">index</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 删除对应的数据</span></span><br><span class="line">    <span class="keyword">this</span>.musicList.splice(index, <span class="number">1</span>);</span><br><span class="line">    <span class="comment">//判断当前删除的是否是正在播放的前面的音乐</span></span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="keyword">this</span>.currentIndex) &#123;</span><br><span class="line">        <span class="keyword">this</span>.currentIndex = <span class="keyword">this</span>.currentIndex - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h2 id="切换歌曲信息"><a class="markdownIt-Anchor" href="#切换歌曲信息"></a> 切换歌曲信息</h2><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/20/8632eab4433442f11a7833d7970c5617.png" alt="" /></p><p>更换歌曲信息涉及到的基本信息包括：</p><ol><li><p>右侧信息栏</p><ul><li>图片</li><li>歌手</li><li>歌曲名</li><li>专辑名</li></ul></li><li><p>底部控制条的名称、时间</p></li></ol><p>实现这个这个功能也很简单，只是一些元素的替换。调用位置有两处</p><ol><li><p>第一次获取歌曲时（成功）的回调</p><p>初始化列表的第一个音乐</p></li><li><p>当点击其他歌曲时</p></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 2. 初始化歌曲信息</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initMusicInfo</span>(<span class="params">music</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 获取对应的元素</span></span><br><span class="line">    <span class="keyword">var</span> $musicImage = $(<span class="string">".song_info_pic img"</span>);</span><br><span class="line">    <span class="keyword">var</span> $musicName = $(<span class="string">".song_info_name a"</span>);</span><br><span class="line">    <span class="keyword">var</span> $musicSinger = $(<span class="string">".song_info_singer a"</span>);</span><br><span class="line">    <span class="keyword">var</span> $musicAblum = $(<span class="string">".song_info_ablum a"</span>);</span><br><span class="line">    <span class="keyword">var</span> $musicProgressName = $(<span class="string">".music_progress_name"</span>);</span><br><span class="line">    <span class="keyword">var</span> $musicProgressTime = $(<span class="string">".music_progress_time"</span>);</span><br><span class="line">    <span class="keyword">var</span> $musicBg = $(<span class="string">".mask_bg"</span>);</span><br><span class="line">    <span class="comment">// 给获取的到的元素赋值</span></span><br><span class="line">    $musicImage.attr(<span class="string">"src"</span>, music.cover);</span><br><span class="line">    $musicName.text(music.name);</span><br><span class="line">    $musicSinger.text(music.singer);</span><br><span class="line">    $musicAblum.text(music.album);</span><br><span class="line">    $musicProgressName.text(music.name + <span class="string">"/"</span> + music.singer);</span><br><span class="line">    $musicProgressTime.text(<span class="string">"00:00 / "</span> + music.time);</span><br><span class="line">    $musicBg.css(<span class="string">"background"</span>, <span class="string">'url("'</span> + music.cover + <span class="string">'")'</span>);</span><br><span class="line">&#125;</span><br><span class="line">$.ajax(&#123;</span><br><span class="line">    success: <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">        initMusicInfo(data[<span class="number">0</span>]);</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br><span class="line">$(<span class="string">".content_list"</span>).delegate(<span class="string">".list_menu_play"</span>, <span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 3.6 切换歌曲信息</span></span><br><span class="line">    initMusicInfo($item.get(<span class="number">0</span>).music);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="进度条的实现"><a class="markdownIt-Anchor" href="#进度条的实现"></a> 进度条的实现</h2><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/20/6ba3b0baf6cdbf58b4538c56540138a0.png" alt="image-20200620145737711" /></p><ol><li>获取被点击位置距离窗口的位置</li><li>获取默认距离窗口的位置</li><li>被点击的位置减去默认距离窗口的位置</li><li>点击进度条时，调整小圆点以及前景色的位置</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">progressClick: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> $<span class="keyword">this</span> = <span class="keyword">this</span>; <span class="comment">//this 是progress</span></span><br><span class="line">    <span class="comment">// 监听背景的点击</span></span><br><span class="line">    <span class="keyword">this</span>.$progressBar.click(<span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">        <span class="comment">//   获取背景距离窗口默认的位置</span></span><br><span class="line">        <span class="keyword">var</span> normalLeft = $(<span class="keyword">this</span>).offset().left;</span><br><span class="line">        <span class="comment">//   获取点击的位置距离窗口默认的位置</span></span><br><span class="line">        <span class="keyword">var</span> eventLeft = event.pageX;</span><br><span class="line">        <span class="comment">//   设置前景的宽度</span></span><br><span class="line">        $<span class="keyword">this</span>.$progressLine.css(<span class="string">"width"</span>, eventLeft - normalLeft);</span><br><span class="line">        $<span class="keyword">this</span>.$progressDot.css(<span class="string">"left"</span>, eventLeft - normalLeft);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="进度条的拖动"><a class="markdownIt-Anchor" href="#进度条的拖动"></a> 进度条的拖动</h3><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/20/c64d95768f57d9656334a9a0e7a851f9.png" alt="" /></p><ol><li>鼠标拖拽使用<code>mousemove</code>方法监听，但必须在鼠标按下后监听</li><li>实现逻辑与点击一致</li><li>鼠标抬起则释放<code>mousemove</code>事件即可</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">progressMove: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> $<span class="keyword">this</span> = <span class="keyword">this</span>;</span><br><span class="line">    <span class="comment">// 1. 监听的鼠标的按下事件</span></span><br><span class="line">    <span class="keyword">this</span>.$progressBar.mousedown(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">//   获取背景距离窗口默认的位置</span></span><br><span class="line">        <span class="keyword">var</span> normalLeft = $(<span class="keyword">this</span>).offset().left;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. 监听鼠标的移动事件</span></span><br><span class="line">        $(<span class="built_in">document</span>).mousemove(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="comment">//   获取点击的位置距离窗口默认的位置</span></span><br><span class="line">            <span class="keyword">var</span> eventLeft = event.pageX;</span><br><span class="line">            <span class="comment">//   设置前景的宽度</span></span><br><span class="line">            $<span class="keyword">this</span>.$progressLine.css(<span class="string">"width"</span>, eventLeft - normalLeft);</span><br><span class="line">            $<span class="keyword">this</span>.$progressDot.css(<span class="string">"left"</span>, eventLeft - normalLeft);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. 监听鼠标的抬起事件</span></span><br><span class="line">    $(<span class="built_in">document</span>).mouseup(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="built_in">document</span>).off(<span class="string">"mousemove"</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h2 id="音乐时间-进度条同步"><a class="markdownIt-Anchor" href="#音乐时间-进度条同步"></a> 音乐时间、进度条同步</h2><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/20/a2e6c665a031662dab8730edbb46b750.png" alt="" /></p><p><span class="inline-tag red">音乐时间同步</span></p><p>通过<code>timeupdate</code>事件监听是否播放，正在播放时，会不断触发这个事件。在事件内部通过<code>duration</code>与<code>currentTime</code>获取当前时长和总时长。</p><p>于是可以在<code>player</code>类中新增加方法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">musicTimeUpdate: <span class="function"><span class="keyword">function</span> (<span class="params">callBack</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> $<span class="keyword">this</span> = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">this</span>.$audio.on(<span class="string">"timeupdate"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> duration = $<span class="keyword">this</span>.audio.duration;</span><br><span class="line">        <span class="keyword">var</span> currentTime = $<span class="keyword">this</span>.audio.currentTime;</span><br><span class="line">        <span class="keyword">var</span> timeStr = $<span class="keyword">this</span>.formatDate(currentTime, duration);</span><br><span class="line">        callBack(currentTime, duration, timeStr);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;,</span><br><span class="line">    <span class="comment">// 格式化时间</span></span><br><span class="line">    formatDate: <span class="function"><span class="keyword">function</span> (<span class="params">currentTime, duration</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 结束时间</span></span><br><span class="line">        <span class="keyword">var</span> endMin = <span class="built_in">parseInt</span>(duration / <span class="number">60</span>);</span><br><span class="line">        <span class="keyword">var</span> endSec = <span class="built_in">parseInt</span>(duration % <span class="number">60</span>);</span><br><span class="line">        <span class="keyword">if</span> (endMin &lt; <span class="number">10</span>) &#123;</span><br><span class="line">            endMin = <span class="string">"0"</span> + endMin;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (endSec &lt; <span class="number">10</span>) &#123;</span><br><span class="line">            endSec = <span class="string">"0"</span> + endSec;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 开始时间</span></span><br><span class="line">        <span class="keyword">var</span> startMin = <span class="built_in">parseInt</span>(currentTime / <span class="number">60</span>);</span><br><span class="line">        <span class="keyword">var</span> startSec = <span class="built_in">parseInt</span>(currentTime % <span class="number">60</span>);</span><br><span class="line">        <span class="keyword">if</span> (startMin &lt; <span class="number">10</span>) &#123;</span><br><span class="line">            startMin = <span class="string">"0"</span> + startMin;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (startSec &lt; <span class="number">10</span>) &#123;</span><br><span class="line">            startSec = <span class="string">"0"</span> + startSec;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> startMin + <span class="string">":"</span> + startSec + <span class="string">" / "</span> + endMin + <span class="string">":"</span> + endSec;</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure><p>在我们的<code>index.js</code>中只需要调用这个方法即可。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 8. 监听播放的进度</span></span><br><span class="line">player.musicTimeUpdate(<span class="function"><span class="keyword">function</span> (<span class="params">currentTime, duration, timeStr</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 同步时间</span></span><br><span class="line">    $(<span class="string">".music_progress_time"</span>).text(timeStr);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><span class="inline-tag red">进度条同步</span></p><p>同样的为进度条新增方法<code>setProgress</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">setProgress: <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (value &lt; <span class="number">0</span> || value &gt; <span class="number">100</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">this</span>.$progressLine.css(&#123;</span><br><span class="line">        width: value + <span class="string">"%"</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">this</span>.$progressDot.css(&#123;</span><br><span class="line">        left: value + <span class="string">"%"</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>这样完成后，在主函数中计算出当前时间所占比例即可调用此方法进行设置。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 8. 监听播放的进度</span></span><br><span class="line">player.musicTimeUpdate(<span class="function"><span class="keyword">function</span> (<span class="params">currentTime, duration, timeStr</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 同步进度条</span></span><br><span class="line">    <span class="comment">// 计算播放比例</span></span><br><span class="line">    <span class="keyword">var</span> value = (currentTime / duration) * <span class="number">100</span>;</span><br><span class="line">    progress.setProgress(value);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>因为使用了百分比进行修改元素，那么css的定位方式也需要修改一下：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.music_progress_info</span> <span class="selector-class">.music_progress_bar</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.music_progress_bar</span> <span class="selector-class">.music_progress_dot</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="点击进度条与歌曲同步"><a class="markdownIt-Anchor" href="#点击进度条与歌曲同步"></a> 点击进度条与歌曲同步</h2><p>实现思路：</p><ol><li>计算出总时长除以已播放时长的比例</li><li>将歌曲进度设置为歌曲时长乘以上一步的比例</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">progress.progressClick(<span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">    player.musicSeekTo(value);</span><br><span class="line">&#125;);</span><br><span class="line">progress.progressMove(<span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">    player.musicSeekTo(value);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">musicSeekTo: <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.audio.currentTime = <span class="keyword">this</span>.audio.duration * value;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>为了实现拖拽时声音能够继续播放，因此将设置的方法改到mouseup事件中</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">progressMove: <span class="function"><span class="keyword">function</span> (<span class="params">callBack</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> $<span class="keyword">this</span> = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">var</span> normalLeft, eventLeft;</span><br><span class="line">    <span class="comment">// 1. 监听的鼠标的按下事件</span></span><br><span class="line">    <span class="keyword">this</span>.$progressBar.mousedown(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">//   获取背景距离窗口默认的位置</span></span><br><span class="line">        normalLeft = $(<span class="keyword">this</span>).offset().left;</span><br><span class="line">        $<span class="keyword">this</span>.isMove = <span class="literal">true</span>;</span><br><span class="line">        <span class="comment">// 2. 监听鼠标的移动事件</span></span><br><span class="line">        $(<span class="built_in">document</span>).mousemove(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="comment">//   获取点击的位置距离窗口默认的位置</span></span><br><span class="line">            eventLeft = event.pageX;</span><br><span class="line">            <span class="comment">//   设置前景的宽度</span></span><br><span class="line">            $<span class="keyword">this</span>.$progressLine.css(<span class="string">"width"</span>, eventLeft - normalLeft);</span><br><span class="line">            $<span class="keyword">this</span>.$progressDot.css(<span class="string">"left"</span>, eventLeft - normalLeft);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. 监听鼠标的抬起事件</span></span><br><span class="line">    $(<span class="built_in">document</span>).mouseup(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="built_in">document</span>).off(<span class="string">"mousemove"</span>);</span><br><span class="line">        $<span class="keyword">this</span>.isMove = <span class="literal">false</span>;</span><br><span class="line">        <span class="comment">// 计算进度条的比例</span></span><br><span class="line">        <span class="keyword">var</span> value = (eventLeft - normalLeft) / $<span class="keyword">this</span>.$progressBar.width();</span><br><span class="line">        callBack(value);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h2 id="声音控制"><a class="markdownIt-Anchor" href="#声音控制"></a> 声音控制</h2><p>声音控制与进度条控制几乎一致</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> $voiceBar = $(<span class="string">".music_voice_bar"</span>);</span><br><span class="line"><span class="keyword">var</span> $voiceLine = $(<span class="string">".music_voice_line"</span>);</span><br><span class="line"><span class="keyword">var</span> $voiceDot = $(<span class="string">".music_voice_dot"</span>);</span><br><span class="line">voicePregress = Progress($voiceBar, $voiceLine, $voiceDot);</span><br><span class="line">voicePregress.progressClick(<span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">    player.musicVoiceSeekTo(value);</span><br><span class="line">&#125;);</span><br><span class="line">voicePregress.progressMove(<span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">    player.musicVoiceSeekTo(value);</span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>接下来为<code>player</code>类新增方法即可。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">musicVoiceSeekTo: <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 取值0~1</span></span><br><span class="line">    <span class="keyword">this</span>.audio.volume = value;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="bug修复"><a class="markdownIt-Anchor" href="#bug修复"></a> bug修复</h3><ol><li><p>音乐进度的跳转应为一个正常的数字</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">musicSeekTo: <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">isNaN</span>(value)) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">this</span>.audio.currentTime = <span class="keyword">this</span>.audio.duration * value;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li><li><p>音量同理且音量范围为0~1</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">musicVoiceSeekTo: <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">isNaN</span>(value)) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span> (value &lt; <span class="number">0</span> || value &gt; <span class="number">1</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">// 取值0~1</span></span><br><span class="line">    <span class="keyword">this</span>.audio.volume = value;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li><li><p>拖拽超出范围</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">progressMove: <span class="function"><span class="keyword">function</span> (<span class="params">callBack</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> barWidth = <span class="keyword">this</span>.$progressBar.width();</span><br><span class="line">    <span class="comment">// 1. 监听的鼠标的按下事件</span></span><br><span class="line">    <span class="keyword">this</span>.$progressBar.mousedown(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="built_in">document</span>).mousemove(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> offset = eventLeft - normalLeft;</span><br><span class="line">            <span class="keyword">if</span> (offset &gt;= <span class="number">0</span> &amp;&amp; offset &lt;= barWidth) &#123;</span><br><span class="line">                <span class="comment">//   设置前景的宽度</span></span><br><span class="line">                $<span class="keyword">this</span>.$progressLine.css(<span class="string">"width"</span>, eventLeft - normalLeft);</span><br><span class="line">                $<span class="keyword">this</span>.$progressDot.css(<span class="string">"left"</span>, eventLeft - normalLeft);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure></li></ol><h2 id="歌词设置"><a class="markdownIt-Anchor" href="#歌词设置"></a> 歌词设置</h2><h3 id="歌词解析并且加载创建"><a class="markdownIt-Anchor" href="#歌词解析并且加载创建"></a> 歌词解析并且加载（创建）</h3><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/20/c9ff8d630d1f80dbefae6f39268e5300.png" alt="image-20200620174503437" /></p><p>解析创建一个新的类用于解析歌词。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">window</span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Lyric</span>(<span class="params">path</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Lyric.prototype.init(path);</span><br><span class="line">    &#125;</span><br><span class="line">    Lyric.prototype = &#123;</span><br><span class="line">        <span class="keyword">constructor</span>: Lyric,</span><br><span class="line">        init: function (path) &#123;</span><br><span class="line">            <span class="keyword">this</span>.path = path;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// 保存匹配的时间</span></span><br><span class="line">        times: [],</span><br><span class="line">        <span class="comment">// 保存匹配的歌词</span></span><br><span class="line">        lyrics: [],</span><br><span class="line">        loadLyric: <span class="function"><span class="keyword">function</span> (<span class="params">callBack</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> $<span class="keyword">this</span> = <span class="keyword">this</span>;</span><br><span class="line">            $.ajax(&#123;</span><br><span class="line">                url: $<span class="keyword">this</span>.path,</span><br><span class="line">                dataType: <span class="string">"text"</span>,</span><br><span class="line">                success: <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">                    $<span class="keyword">this</span>.pareLyric(data);</span><br><span class="line">                    callBack();</span><br><span class="line">                &#125;,</span><br><span class="line">                error: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;&#125;,</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// 解析歌词的方法</span></span><br><span class="line">        pareLyric: <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> $<span class="keyword">this</span> = <span class="keyword">this</span>;</span><br><span class="line">            <span class="keyword">var</span> array = data.split(<span class="string">"\n"</span>);</span><br><span class="line">            <span class="comment">// 正则表达式匹配内容</span></span><br><span class="line">            <span class="keyword">var</span> timeReg = <span class="regexp">/\[(\d*:\d*\.\d*)\]/</span>;</span><br><span class="line">            <span class="comment">// 遍历取出每一条歌词</span></span><br><span class="line">            $.each(array, <span class="function"><span class="keyword">function</span> (<span class="params">index, ele</span>) </span>&#123;</span><br><span class="line">                <span class="comment">//   处理歌词</span></span><br><span class="line">                <span class="keyword">var</span> lrc = ele.split(<span class="string">"]"</span>)[<span class="number">1</span>];</span><br><span class="line">                <span class="comment">//   排除空字符串(没有歌词)</span></span><br><span class="line">                <span class="keyword">if</span> (lrc.length == <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                $<span class="keyword">this</span>.lyrics.push(lrc);</span><br><span class="line">                <span class="keyword">var</span> res = timeReg.exec(ele);</span><br><span class="line">                <span class="keyword">if</span> (res == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">var</span> timeStr = res[<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">var</span> res2 = timeStr.split(<span class="string">":"</span>);</span><br><span class="line">                <span class="keyword">var</span> min = <span class="built_in">parseInt</span>(res2[<span class="number">0</span>]) * <span class="number">60</span>;</span><br><span class="line">                <span class="keyword">var</span> sec = <span class="built_in">parseFloat</span>(res2[<span class="number">1</span>]);</span><br><span class="line">                <span class="keyword">var</span> time = <span class="built_in">parseFloat</span>(<span class="built_in">Number</span>(min + sec).toFixed(<span class="number">2</span>));</span><br><span class="line">                $<span class="keyword">this</span>.times.push(time);</span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="built_in">console</span>.log($<span class="keyword">this</span>.times);</span><br><span class="line">            <span class="built_in">console</span>.log($<span class="keyword">this</span>.lyrics);</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;;</span><br><span class="line">    Lyric.prototype.init.prototype = Lyric.prototype;</span><br><span class="line">    <span class="built_in">window</span>.Lyric = Lyric;</span><br><span class="line">&#125;)(<span class="built_in">window</span>);</span><br></pre></td></tr></table></figure><p>接下来只需要在自己的JavaScript中初始化这个类并且调用方法即可。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 3. 初始化歌词信息</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initMusicLyric</span>(<span class="params">music</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> lyric = <span class="keyword">new</span> Lyric(music.link_lrc);</span><br><span class="line">    <span class="keyword">var</span> $lryicContainer = $(<span class="string">".song_lyric"</span>);</span><br><span class="line">    lyric.loadLyric(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 创建歌词列表</span></span><br><span class="line">        $.each(lyric.lyrics, <span class="function"><span class="keyword">function</span> (<span class="params">index, ele</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> $item = $(<span class="string">"&lt;li&gt;"</span> + ele + <span class="string">"&lt;/li&gt;"</span>);</span><br><span class="line">            $lryicContainer.append($item);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>创建好了之后，还需要对样式进行一点点小的修改</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.content_right</span> <span class="selector-class">.song_lyric</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="歌词同步"><a class="markdownIt-Anchor" href="#歌词同步"></a> 歌词同步</h3><p>歌词同步需要在监听播放的进度中去设置</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 8. 监听播放的进度</span></span><br><span class="line">player.musicTimeUpdate(<span class="function"><span class="keyword">function</span> (<span class="params">currentTime, duration, timeStr</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 实现歌词的同步</span></span><br><span class="line">    <span class="keyword">var</span> index = lyric.currentIndex(currentTime);</span><br><span class="line">    <span class="keyword">var</span> $item = $(<span class="string">".song_lyric li"</span>).eq(index);</span><br><span class="line">    $item.addClass(<span class="string">"cur"</span>);</span><br><span class="line">    $item.siblings().removeClass(<span class="string">"cur"</span>);</span><br><span class="line">    <span class="keyword">if</span> (index &lt;= <span class="number">2</span>) <span class="keyword">return</span>;</span><br><span class="line">    $(<span class="string">".song_lyric"</span>).css(&#123;</span><br><span class="line">        marginTop: (-index + <span class="number">2</span>) * <span class="number">30</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>因为使用了<code>margin-top</code>滚动歌词，那么需要将html也该动。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"song_lyric_container"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"song_lyric"</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>为了实现切换歌曲时，歌词也可以切换，也需要在切换歌曲时将保存的歌曲信息也切换。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">loadLyric: <span class="function"><span class="keyword">function</span> (<span class="params">callBack</span>) </span>&#123;</span><br><span class="line">    $<span class="keyword">this</span>.times = [];</span><br><span class="line">    $<span class="keyword">this</span>.lyrics = [];</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initMusicLyric</span>(<span class="params">music</span>) </span>&#123;</span><br><span class="line">    $lryicContainer.html(<span class="string">""</span>);</span><br><span class="line">&#125;</span><br><span class="line">$(<span class="string">".content_list"</span>).delegate(<span class="string">".list_menu_play"</span>, <span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 3.7切换歌词信息</span></span><br><span class="line">    initMusicLyric($item.get(<span class="number">0</span>).music);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/
      
    
    </summary>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="JavaScript笔记" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/JavaScript%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/tags/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="笔记" scheme="https://www.antmoe.com/tags/%E7%AC%94%E8%AE%B0/"/>
    
      <category term="JavaScript" scheme="https://www.antmoe.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>七、jQuery狂拍大灰狼案例</title>
    <link href="https://www.antmoe.com/posts/ce6765b5/index.html"/>
    <id>https://www.antmoe.com/posts/ce6765b5/index.html</id>
    <published>2020-06-18T01:42:58.000Z</published>
    <updated>2020-06-22T10:42:16.885Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><p>在线案例显示：<a href="https://antmoe.gitee.io/project/2020/06/18/%E7%8B%82%E6%8B%8D%E7%81%B0%E5%A4%AA%E7%8B%BC/" target="_blank" rel="noopener">狂拍灰太狼</a></p><h2 id="首页布局"><a class="markdownIt-Anchor" href="#首页布局"></a> 首页布局</h2><h3 id="基本布局"><a class="markdownIt-Anchor" href="#基本布局"></a> 基本布局</h3><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/18/ffd1fc4d292751a86bc6ffa5e7ae34ff.png" alt="image-20200618100308459" /></p><p>完成首页的布局，背景使用了一张图片。其余元素，图中已经标出。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>0<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"progress"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"start"</span>&gt;</span>开始游戏<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"rules"</span>&gt;</span>游戏规则<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">320px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">480px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">"https://tva1.sinaimg.cn/large/005B3XPgly1gfw7dh267lj308w0dc759.jpg"</span>) no-repeat <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">50px</span> auto;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span>&gt;<span class="selector-tag">h1</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">60px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span>&gt;<span class="selector-class">.progress</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">180px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">'https://tva1.sinaimg.cn/large/005B3XPgly1gfw7dh7tu4j305000gt8j.jpg'</span>) no-repeat <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">66px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">63px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span>&gt;<span class="selector-class">.start</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">150px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">35px</span>;</span><br><span class="line">    <span class="comment">/* line-height: 35px; */</span></span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(#e55c3D, #c50000);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">border</span>: none;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">320px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>: -<span class="number">75px</span>;</span><br><span class="line">    <span class="attribute">outline</span>: none;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span>&gt;<span class="selector-class">.rules</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#ccc</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="其他布局"><a class="markdownIt-Anchor" href="#其他布局"></a> 其他布局</h3><ol><li><p>游戏规则页面</p><p>这个页面很简单，一个蒙版即可。</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/18/c77ec88542ce691af3fc23e5a312c0e5.png" alt="image-20200618102204541" /></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span>&gt;<span class="selector-class">.rule</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.5</span>);</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding-top</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="comment">/* display: none; */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span>&gt;<span class="selector-class">.rule</span>&gt;<span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line">    color: white;a</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span>&gt;<span class="selector-class">.rule</span>&gt;<span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"rule"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>游戏规则：<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>1. 游戏时间60S<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>2. 拼手速：殴打灰太狼+10分<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>3. 殴打小灰灰-10分<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>【关闭】<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>游戏结束页面</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/18/931052e02372c8c5c3e5114c4d8c1823.png" alt="image-20200618102518062" /></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span>&gt;<span class="selector-class">.mask</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.5</span>);</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding-top</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="comment">/* display: none; */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span>&gt;<span class="selector-class">.mask</span>&gt;<span class="selector-tag">h1</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#ff4500</span>;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">3px</span> <span class="number">3px</span> <span class="number">0</span> <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span>&gt;<span class="selector-class">.mask</span>&gt;<span class="selector-tag">button</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">150px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">35px</span>;</span><br><span class="line">    <span class="comment">/* line-height: 35px; */</span></span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(#<span class="number">74</span>accf, #<span class="number">007</span>ddc);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">border</span>: none;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">320px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>: -<span class="number">75px</span>;</span><br><span class="line">    <span class="attribute">outline</span>: none;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"mask"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>GAME OVER<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>重新开始<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="完整代码"><a class="markdownIt-Anchor" href="#完整代码"></a> 完整代码</h3><p>至此已经完成了静态页面的布局。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">            * &#123;</span><br><span class="line">                margin: 0;</span><br><span class="line">                padding: 0;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.container</span> &#123;</span></span><br><span class="line">                width: 320px;</span><br><span class="line">                height: 480px;</span><br><span class="line">                background: url("https://tva1.sinaimg.cn/large/005B3XPgly1gfw7dh267lj308w0dc759.jpg") no-repeat 0 0;</span><br><span class="line">                margin: 50px auto;</span><br><span class="line">                position: relative;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.container</span>&gt;<span class="selector-tag">h1</span> &#123;</span></span><br><span class="line">                color: white;</span><br><span class="line">                margin-left: 60px;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.container</span>&gt;<span class="selector-class">.progress</span> &#123;</span></span><br><span class="line">                width: 180px;</span><br><span class="line">                height: 16px;</span><br><span class="line">                background: url('https://tva1.sinaimg.cn/large/005B3XPgly1gfw7dh7tu4j305000gt8j.jpg') no-repeat 0 0;</span><br><span class="line">                position: absolute;</span><br><span class="line">                top: 66px;</span><br><span class="line">                left: 63px;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.container</span>&gt;<span class="selector-class">.start</span> &#123;</span></span><br><span class="line">                width: 150px;</span><br><span class="line">                height: 35px;</span><br><span class="line"><span class="css">                <span class="comment">/* line-height: 35px; */</span></span></span><br><span class="line">                text-align: center;</span><br><span class="line">                color: white;</span><br><span class="line"><span class="css">                <span class="selector-tag">background</span>: <span class="selector-tag">linear-gradient</span>(<span class="selector-id">#e55c3D</span>, <span class="selector-id">#c50000</span>);</span></span><br><span class="line">                border-radius: 20px;</span><br><span class="line">                border: none;</span><br><span class="line">                font-size: 20px;</span><br><span class="line">                position: absolute;</span><br><span class="line">                top: 320px;</span><br><span class="line">                left: 50%;</span><br><span class="line">                margin-left: -75px;</span><br><span class="line">                outline: none;</span><br><span class="line">                cursor: pointer;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.container</span>&gt;<span class="selector-class">.rules</span> &#123;</span></span><br><span class="line">                width: 100%;</span><br><span class="line">                height: 20px;</span><br><span class="line"><span class="css">                <span class="selector-tag">background-color</span>: <span class="selector-id">#ccc</span>;</span></span><br><span class="line">                position: absolute;</span><br><span class="line">                left: 0;</span><br><span class="line">                bottom: 0;</span><br><span class="line">                text-align: center;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="comment">/* 游戏规则 */</span></span></span><br><span class="line"><span class="css">            <span class="selector-class">.container</span>&gt;<span class="selector-class">.rule</span> &#123;</span></span><br><span class="line">                width: 100%;</span><br><span class="line">                height: 100%;</span><br><span class="line"><span class="css">                <span class="selector-tag">background</span>: <span class="selector-tag">rgba</span>(0, 0, 0, 0<span class="selector-class">.5</span>);</span></span><br><span class="line">                position: absolute;</span><br><span class="line">                left: 0;</span><br><span class="line">                top: 0;</span><br><span class="line">                padding-top: 100px;</span><br><span class="line">                box-sizing: border-box;</span><br><span class="line">                text-align: center;</span><br><span class="line">                display: none;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.container</span>&gt;<span class="selector-class">.rule</span>&gt;<span class="selector-tag">p</span> &#123;</span></span><br><span class="line">                line-height: 50px;</span><br><span class="line">                color: white;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.container</span>&gt;<span class="selector-class">.rule</span>&gt;<span class="selector-tag">a</span> &#123;</span></span><br><span class="line">                color: red;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="comment">/* 游戏结束 */</span></span></span><br><span class="line"><span class="css">            <span class="selector-class">.container</span>&gt;<span class="selector-class">.mask</span> &#123;</span></span><br><span class="line">                width: 100%;</span><br><span class="line">                height: 100%;</span><br><span class="line"><span class="css">                <span class="selector-tag">background</span>: <span class="selector-tag">rgba</span>(0, 0, 0, 0<span class="selector-class">.5</span>);</span></span><br><span class="line">                position: absolute;</span><br><span class="line">                left: 0;</span><br><span class="line">                top: 0;</span><br><span class="line">                padding-top: 200px;</span><br><span class="line">                box-sizing: border-box;</span><br><span class="line">                text-align: center;</span><br><span class="line"><span class="css">                <span class="comment">/* display: none; */</span></span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.container</span>&gt;<span class="selector-class">.mask</span>&gt;<span class="selector-tag">h1</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">color</span>: <span class="selector-id">#ff4500</span>;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">text-shadow</span>: 3<span class="selector-tag">px</span> 3<span class="selector-tag">px</span> 0 <span class="selector-id">#fff</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.container</span>&gt;<span class="selector-class">.mask</span>&gt;<span class="selector-tag">button</span> &#123;</span></span><br><span class="line">                width: 150px;</span><br><span class="line">                height: 35px;</span><br><span class="line"><span class="css">                <span class="comment">/* line-height: 35px; */</span></span></span><br><span class="line">                text-align: center;</span><br><span class="line">                color: white;</span><br><span class="line"><span class="css">                <span class="selector-tag">background</span>: <span class="selector-tag">linear-gradient</span>(<span class="selector-id">#74accf</span>, <span class="selector-id">#007ddc</span>);</span></span><br><span class="line">                border-radius: 20px;</span><br><span class="line">                border: none;</span><br><span class="line">                font-size: 20px;</span><br><span class="line">                position: absolute;</span><br><span class="line">                top: 320px;</span><br><span class="line">                left: 50%;</span><br><span class="line">                margin-left: -75px;</span><br><span class="line">                outline: none;</span><br><span class="line">                cursor: pointer;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">            $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"></span><br><span class="line">            &#125;)</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>0<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"progress"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"start"</span>&gt;</span>开始游戏<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"rules"</span>&gt;</span>游戏规则<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"rule"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">p</span>&gt;</span>游戏规则：<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">p</span>&gt;</span>1. 游戏时间60S<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">p</span>&gt;</span>2. 拼手速：殴打灰太狼+10分<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">p</span>&gt;</span>3. 殴打小灰灰-10分<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>【关闭】<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"mask"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h1</span>&gt;</span>GAME OVER<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span>&gt;</span>重新开始<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="基本页面的显示隐藏"><a class="markdownIt-Anchor" href="#基本页面的显示隐藏"></a> 基本页面的显示隐藏</h2><h3 id="游戏规则的显示与隐藏"><a class="markdownIt-Anchor" href="#游戏规则的显示与隐藏"></a> 游戏规则的显示与隐藏</h3><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/18/bb5dfdb5f35d50c8aa536502fc1f2629.png" alt="" /></p><p>利用jQuery（<code>fadeIn</code>与<code>fadeOut</code>方法）很容易就能实现。</p><ol><li>找到被点击的按钮，并绑定事件</li><li>将需要被显示/隐藏的元素进行<code>fadeIn</code>或<code>fadeOut</code>方法即可。</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 游戏规则的点击</span></span><br><span class="line">$(<span class="string">'.rules'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'.rule'</span>).stop().fadeIn(<span class="number">100</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 2. 关闭按钮的点击</span></span><br><span class="line">$(<span class="string">'.close'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'.rule'</span>).stop().fadeOut(<span class="number">100</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="开始与重新开始"><a class="markdownIt-Anchor" href="#开始与重新开始"></a> 开始与重新开始</h3><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/18/e893142aaa2a211148c574c3212149a8.png" alt="" /></p><p>游戏开始涉及到的内容分别是：</p><ol><li><p>按钮消失</p><p>同样的调用<code>fadeOut</code>方法即可</p></li><li><p>进度条开始逐渐减少</p><p>使用计数器，将宽度逐渐减少即可。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 3. 游戏开始按钮点击</span></span><br><span class="line">$(<span class="string">'.start'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="keyword">this</span>).stop().fadeOut(<span class="number">100</span>)</span><br><span class="line">    <span class="comment">// 调用处理进度条的方法</span></span><br><span class="line">    progressHandle()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><div class="snote idea yellow"><p>由于重新开始按钮的事件与开始事件几乎一致，因此同会调用处理进度条的事件。但重新开始时需要将进度条的进度重新赋值为100%。因此，在进入函数时，先将进度条置为100%即可实现复用。</p></div><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义处理进度条的方法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">progressHandle</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 重新设置进度条的宽度</span></span><br><span class="line">    $(<span class="string">'.progress'</span>).css(&#123;</span><br><span class="line">        width: <span class="number">180</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// 使用定时器处理进度条</span></span><br><span class="line">    <span class="keyword">var</span> timer = setInterval(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 拿到进度条当前的宽度</span></span><br><span class="line">        <span class="keyword">var</span> progressWidth = $(<span class="string">'.progress'</span>).width()</span><br><span class="line">        <span class="comment">// 减少当前宽度</span></span><br><span class="line">        progressWidth -= <span class="number">10</span></span><br><span class="line">        <span class="comment">// 重新赋值宽度</span></span><br><span class="line">        $(<span class="string">'.progress'</span>).css(&#123;</span><br><span class="line">            width: progressWidth</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// 监听进度条是否走完</span></span><br><span class="line">        <span class="keyword">if</span> (progressWidth &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// 关闭定时器</span></span><br><span class="line">            clearInterval(timer)</span><br><span class="line">            $(<span class="string">'.mask'</span>).stop().fadeIn(<span class="number">100</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, <span class="number">100</span>)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="重新开始"><a class="markdownIt-Anchor" href="#重新开始"></a> 重新开始</h3><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/18/d50fa98205031f3a0fe9a9c44bf13185.png" alt="" /></p><p>完成了处理进度条事件后，重新开始只需要调用此事件即可。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 4. 重新开始按钮</span></span><br><span class="line">$(<span class="string">'.reStart'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'.mask'</span>).stop().fadeOut(<span class="number">100</span>)</span><br><span class="line">    progressHandle()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="随机位置和图片"><a class="markdownIt-Anchor" href="#随机位置和图片"></a> 随机位置和图片</h2><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/18/1afe7073a693fe9dff1a8e92d0ae907e.png" alt="" /></p><div class="snote msg cyan"><p>前期准备</p></div><ol><li><p>一个函数，专门用户灰太狼动画的显示</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">startWolfAnimation</span>(<span class="params"></span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure></li><li><p>一个数组用于存储灰太狼的图片</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> wolf_1 = [</span><br><span class="line">    <span class="string">"https://ae04.alicdn.com/kf/U6d7418e287294bb88d0461d6c27bfcd82.jpg"</span>,</span><br><span class="line">    <span class="string">"https://ae02.alicdn.com/kf/Ud511a9efcffa4fe6b2a100aa7513f3e8H.jpg"</span>,</span><br><span class="line">    <span class="string">"https://ae01.alicdn.com/kf/U8de07ee534de40b092bb37895a58074bW.jpg"</span>,</span><br><span class="line">    <span class="string">"https://ae01.alicdn.com/kf/U65e24e9eea4c4823884a994a4943f5f3H.jpg"</span>,</span><br><span class="line">    <span class="string">"https://ae04.alicdn.com/kf/U059507c66fb6466eb8ca6381c794e213I.jpg"</span>,</span><br><span class="line">    <span class="string">"https://ae03.alicdn.com/kf/U83f4455be089478b8beaec3153cc1073C.jpg"</span>,</span><br><span class="line">    <span class="string">"https://ae02.alicdn.com/kf/U7104f8f282b54523bb782f09a371454bI.jpg"</span>,</span><br><span class="line">    <span class="string">"https://ae02.alicdn.com/kf/U9a8f28c4af7846b99166155c31a9f5d6H.jpg"</span>,</span><br><span class="line">    <span class="string">"https://ae02.alicdn.com/kf/U788c378b55a046d7a69e460ea7723f43l.jpg"</span>,</span><br><span class="line">    <span class="string">"https://ae02.alicdn.com/kf/U707e83428bfd4fcca7f3e1ef732f642dF.jpg"</span>,</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li><li><p>一个数组用于存储小灰灰的图片</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> wolf_2 = [</span><br><span class="line">                    <span class="string">'https://ae01.alicdn.com/kf/U00654478fdbc42bcb157dc88ca49d535v.jpg'</span>,</span><br><span class="line">                    <span class="string">'https://ae03.alicdn.com/kf/Ufffbe0e563f2422f8468dfe07e6944cbj.jpg'</span>,</span><br><span class="line">                    <span class="string">'https://ae01.alicdn.com/kf/Ua6fc5df7037c4bb4aa9c4140851fa6bfo.jpg'</span>,</span><br><span class="line">                    <span class="string">'https://ae01.alicdn.com/kf/U52169e31a945465c946c00cd3a23f96dF.jpg'</span>,</span><br><span class="line">                    <span class="string">'https://ae01.alicdn.com/kf/Ub2f779675ad04432a2bed6153f59a4c6B.jpg'</span>,</span><br><span class="line">                    <span class="string">'https://ae02.alicdn.com/kf/U8a0ef3b264f946fbacfb905d96bbc60em.jpg'</span>,</span><br><span class="line">                    <span class="string">'https://ae02.alicdn.com/kf/U2c445d659e324b9c97593f47f11a5785V.jpg'</span>,</span><br><span class="line">                    <span class="string">'https://ae03.alicdn.com/kf/U60c99e7d8f3844b18f33f1b3bee649c8M.jpg'</span>,</span><br><span class="line">                    <span class="string">'https://ae02.alicdn.com/kf/U184d2a419e824317aac79ee85762479f9.jpg'</span>,</span><br><span class="line">                    <span class="string">'https://ae02.alicdn.com/kf/Ufce9406da7ed4515a8e71c9c4d161697r.jpg'</span>,</span><br><span class="line">                ]</span><br></pre></td></tr></table></figure></li><li><p>一个数组用于存储位置</p><p>由于位置包含左与右，因此我们在数组中存储的是对象。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arrPos = [</span><br><span class="line">    &#123; <span class="attr">left</span>: <span class="string">"100px"</span>, <span class="attr">top</span>: <span class="string">'115px'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">left</span>: <span class="string">"20px"</span>, <span class="attr">top</span>: <span class="string">'160px'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">left</span>: <span class="string">"190px"</span>, <span class="attr">top</span>: <span class="string">'142px'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">left</span>: <span class="string">"105px"</span>, <span class="attr">top</span>: <span class="string">'193px'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">left</span>: <span class="string">"19px"</span>, <span class="attr">top</span>: <span class="string">'221px'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">left</span>: <span class="string">"202px"</span>, <span class="attr">top</span>: <span class="string">'212px'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">left</span>: <span class="string">"120px"</span>, <span class="attr">top</span>: <span class="string">'275px'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">left</span>: <span class="string">"30px"</span>, <span class="attr">top</span>: <span class="string">'295px'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">left</span>: <span class="string">"209px"</span>, <span class="attr">top</span>: <span class="string">'297px'</span> &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li></ol><h3 id="设置随机位置与随机图片"><a class="markdownIt-Anchor" href="#设置随机位置与随机图片"></a> 设置随机位置与随机图片</h3><ol><li><p>随机位置</p><p>因为已经有了一个所有位置的数组，因此只要随机取其中一个即可。</p><p><code>Math.round(Math.random() * 8)</code></p></li><li><p>随机图片</p><p>与随机位置同理，<code>Math.round(Math.random())</code></p></li></ol><p>能够获取到随机位置与图片后，那么接下来要做的就是：</p><ol><li><p>创建一个图片元素</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> $wolfImage = $(<span class="string">'&lt;img src=""&gt;'</span>)</span><br></pre></td></tr></table></figure></li><li><p>设置图片的位置</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取随机图片的位置</span></span><br><span class="line"><span class="keyword">var</span> posIndex = <span class="built_in">Math</span>.round(<span class="built_in">Math</span>.random() * <span class="number">8</span>)</span><br><span class="line"><span class="comment">// 4. 设置图片显示的位置</span></span><br><span class="line">$wolfImage.css(&#123;</span><br><span class="line">    position: <span class="string">'absolute'</span>,</span><br><span class="line">    left: arrPos[posIndex].left,</span><br><span class="line">    top: arrPos[posIndex].top</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>设置图片的内容</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 随机获取数组类型</span></span><br><span class="line"><span class="keyword">var</span> wolf_type = <span class="built_in">Math</span>.round(<span class="built_in">Math</span>.random()) == <span class="number">0</span> ? wolf_1 : wolf_2</span><br><span class="line"><span class="comment">// 5. 设置图片内容</span></span><br><span class="line">$wolfImage.attr(<span class="string">'src'</span>, wolf_type[<span class="number">5</span>])</span><br></pre></td></tr></table></figure></li><li><p>将图片添加到页面</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 6. 将图片添加到页面上</span></span><br><span class="line">$(<span class="string">'.container'</span>).append($wolfImage)</span><br></pre></td></tr></table></figure></li></ol><h2 id="实现动画"><a class="markdownIt-Anchor" href="#实现动画"></a> 实现动画</h2><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/18/489a8dfce9c85d44b711e76d2d812f29.png" alt="" /></p><ol><li><p>点击开始按钮后</p><p>执行动画，并且需要判断图片显示（不能显示被打的图片）。当图片显示完成后，删除图片。因此，在设置图片内容时可以为其开启定时器。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 5. 设置图片内容</span></span><br><span class="line"><span class="keyword">var</span> wolfIndex = <span class="number">0</span></span><br><span class="line">wolfTimer = setInterval(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (wolfIndex &gt; <span class="number">5</span>) &#123;</span><br><span class="line">        $wolfImage.remove()</span><br><span class="line">        clearInterval(wolfTimer)</span><br><span class="line">        startWolfAnimation()</span><br><span class="line">    &#125;</span><br><span class="line">    $wolfImage.attr(<span class="string">'src'</span>, wolf_type[wolfIndex])</span><br><span class="line">    wolfIndex++;</span><br><span class="line">&#125;, <span class="number">300</span>)</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">startWolfAnimation</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 灰太狼图片</span></span><br><span class="line">    <span class="keyword">var</span> wolf_1 = [</span><br><span class="line">        <span class="string">"https://ae04.alicdn.com/kf/U6d7418e287294bb88d0461d6c27bfcd82.jpg"</span>,</span><br><span class="line">        <span class="string">"https://ae02.alicdn.com/kf/Ud511a9efcffa4fe6b2a100aa7513f3e8H.jpg"</span>,</span><br><span class="line">        <span class="string">"https://ae01.alicdn.com/kf/U8de07ee534de40b092bb37895a58074bW.jpg"</span>,</span><br><span class="line">        <span class="string">"https://ae01.alicdn.com/kf/U65e24e9eea4c4823884a994a4943f5f3H.jpg"</span>,</span><br><span class="line">        <span class="string">"https://ae04.alicdn.com/kf/U059507c66fb6466eb8ca6381c794e213I.jpg"</span>,</span><br><span class="line">        <span class="string">"https://ae03.alicdn.com/kf/U83f4455be089478b8beaec3153cc1073C.jpg"</span>,</span><br><span class="line">        <span class="string">"https://ae02.alicdn.com/kf/U7104f8f282b54523bb782f09a371454bI.jpg"</span>,</span><br><span class="line">        <span class="string">"https://ae02.alicdn.com/kf/U9a8f28c4af7846b99166155c31a9f5d6H.jpg"</span>,</span><br><span class="line">        <span class="string">"https://ae02.alicdn.com/kf/U788c378b55a046d7a69e460ea7723f43l.jpg"</span>,</span><br><span class="line">        <span class="string">"https://ae02.alicdn.com/kf/U707e83428bfd4fcca7f3e1ef732f642dF.jpg"</span>,</span><br><span class="line">    ]</span><br><span class="line">    <span class="comment">// 小灰灰图片</span></span><br><span class="line">    <span class="keyword">var</span> wolf_2 = [</span><br><span class="line">        <span class="string">'https://ae01.alicdn.com/kf/U00654478fdbc42bcb157dc88ca49d535v.jpg'</span>,</span><br><span class="line">        <span class="string">'https://ae03.alicdn.com/kf/Ufffbe0e563f2422f8468dfe07e6944cbj.jpg'</span>,</span><br><span class="line">        <span class="string">'https://ae01.alicdn.com/kf/Ua6fc5df7037c4bb4aa9c4140851fa6bfo.jpg'</span>,</span><br><span class="line">        <span class="string">'https://ae01.alicdn.com/kf/U52169e31a945465c946c00cd3a23f96dF.jpg'</span>,</span><br><span class="line">        <span class="string">'https://ae01.alicdn.com/kf/Ub2f779675ad04432a2bed6153f59a4c6B.jpg'</span>,</span><br><span class="line">        <span class="string">'https://ae02.alicdn.com/kf/U8a0ef3b264f946fbacfb905d96bbc60em.jpg'</span>,</span><br><span class="line">        <span class="string">'https://ae02.alicdn.com/kf/U2c445d659e324b9c97593f47f11a5785V.jpg'</span>,</span><br><span class="line">        <span class="string">'https://ae03.alicdn.com/kf/U60c99e7d8f3844b18f33f1b3bee649c8M.jpg'</span>,</span><br><span class="line">        <span class="string">'https://ae02.alicdn.com/kf/U184d2a419e824317aac79ee85762479f9.jpg'</span>,</span><br><span class="line">        <span class="string">'https://ae02.alicdn.com/kf/Ufce9406da7ed4515a8e71c9c4d161697r.jpg'</span>,</span><br><span class="line">    ]</span><br><span class="line">    <span class="comment">// 随机位置</span></span><br><span class="line">    <span class="keyword">var</span> arrPos = [</span><br><span class="line">        &#123; <span class="attr">left</span>: <span class="string">"100px"</span>, <span class="attr">top</span>: <span class="string">'115px'</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">left</span>: <span class="string">"20px"</span>, <span class="attr">top</span>: <span class="string">'160px'</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">left</span>: <span class="string">"190px"</span>, <span class="attr">top</span>: <span class="string">'142px'</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">left</span>: <span class="string">"105px"</span>, <span class="attr">top</span>: <span class="string">'193px'</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">left</span>: <span class="string">"19px"</span>, <span class="attr">top</span>: <span class="string">'221px'</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">left</span>: <span class="string">"202px"</span>, <span class="attr">top</span>: <span class="string">'212px'</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">left</span>: <span class="string">"120px"</span>, <span class="attr">top</span>: <span class="string">'275px'</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">left</span>: <span class="string">"30px"</span>, <span class="attr">top</span>: <span class="string">'295px'</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">left</span>: <span class="string">"209px"</span>, <span class="attr">top</span>: <span class="string">'297px'</span> &#125;,</span><br><span class="line">    ]</span><br><span class="line">    <span class="comment">// 3. 创建一个图片</span></span><br><span class="line">    <span class="keyword">var</span> $wolfImage = $(<span class="string">'&lt;img src="" class="wolfImage"&gt;'</span>)</span><br><span class="line">    <span class="comment">// 获取随机图片的位置</span></span><br><span class="line">    <span class="keyword">var</span> posIndex = <span class="built_in">Math</span>.round(<span class="built_in">Math</span>.random() * <span class="number">8</span>)</span><br><span class="line">    <span class="comment">// 4. 设置图片显示的位置</span></span><br><span class="line">    $wolfImage.css(&#123;</span><br><span class="line">        position: <span class="string">'absolute'</span>,</span><br><span class="line">        left: arrPos[posIndex].left,</span><br><span class="line">        top: arrPos[posIndex].top</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// 随机获取数组类型</span></span><br><span class="line">    <span class="keyword">var</span> wolf_type = <span class="built_in">Math</span>.round(<span class="built_in">Math</span>.random()) == <span class="number">0</span> ? wolf_1 : wolf_2</span><br><span class="line">    <span class="comment">// 5. 设置图片内容</span></span><br><span class="line">    <span class="keyword">var</span> wolfIndex = <span class="number">0</span></span><br><span class="line">    wolfTimer = setInterval(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (wolfIndex &gt; <span class="number">5</span>) &#123;</span><br><span class="line">            $wolfImage.remove()</span><br><span class="line">            clearInterval(wolfTimer)</span><br><span class="line">            startWolfAnimation()</span><br><span class="line">        &#125;</span><br><span class="line">        $wolfImage.attr(<span class="string">'src'</span>, wolf_type[wolfIndex])</span><br><span class="line">        wolfIndex++;</span><br><span class="line">    &#125;, <span class="number">300</span>)</span><br><span class="line">    <span class="comment">// 6. 将图片添加到页面上</span></span><br><span class="line">    $(<span class="string">'.container'</span>).append($wolfImage)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>定时器需要在全局声明，因为游戏结束后需要清楚这个定时器，否则当游戏结束时，还是会出现动画。</p></blockquote></li><li><p>游戏结束</p><p>游戏结束后，应当停止动画，并且清除已存在的灰太狼图片。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 监听进度条是否走完</span></span><br><span class="line"><span class="keyword">if</span> (progressWidth &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">// 关闭开始动画的定时器</span></span><br><span class="line">    clearInterval(timer)</span><br><span class="line">    $(<span class="string">'.mask'</span>).stop().fadeIn(<span class="number">100</span>)</span><br><span class="line">    <span class="comment">// 停止灰太狼动画</span></span><br><span class="line">    stopWolfAnimation()</span><br><span class="line">&#125;</span><br><span class="line">&#125;, <span class="number">100</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 停止灰太狼动画函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">stopWolfAnimation</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'.wolfImage'</span>).remove()</span><br><span class="line">    clearInterval(wolfTimer)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>重新开始</p><p>重新开始按钮执行逻辑其实就是在执行一遍开始动画。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 4. 重新开始按钮</span></span><br><span class="line">$(<span class="string">'.reStart'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'.mask'</span>).stop().fadeOut(<span class="number">100</span>)</span><br><span class="line">    progressHandle()</span><br><span class="line">    <span class="comment">// 处理灰太狼动画的方法</span></span><br><span class="line">    startWolfAnimation()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ol><h2 id="游戏规则的实现"><a class="markdownIt-Anchor" href="#游戏规则的实现"></a> 游戏规则的实现</h2><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/18/06a7f8b9b6888e36e7e68a1ea88ab341.png" alt="" /></p><ol><li><p>游戏规则的触发应该是图片被点击时，因此在开始动画的函数中新增一个游戏规则的方法。并传入图片作为参数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 7. 调用处理游戏规则的方法</span></span><br><span class="line">gameRules($wolfImage);</span><br></pre></td></tr></table></figure></li><li><p>为了判断被点击的图片是加分数还是减分数，将图片地址添加一个参数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 灰太狼图片</span></span><br><span class="line"><span class="keyword">var</span> wolf_1 = [</span><br><span class="line">    <span class="string">"https://ae04.alicdn.com/kf/U6d7418e287294bb88d0461d6c27bfcd82.jpg?add"</span>,</span><br><span class="line">    <span class="string">"https://ae02.alicdn.com/kf/Ud511a9efcffa4fe6b2a100aa7513f3e8H.jpg?add"</span>,</span><br><span class="line">    <span class="string">"https://ae01.alicdn.com/kf/U8de07ee534de40b092bb37895a58074bW.jpg?add"</span>,</span><br><span class="line">    <span class="string">"https://ae01.alicdn.com/kf/U65e24e9eea4c4823884a994a4943f5f3H.jpg?add"</span>,</span><br><span class="line">    <span class="string">"https://ae04.alicdn.com/kf/U059507c66fb6466eb8ca6381c794e213I.jpg?add"</span>,</span><br><span class="line">    <span class="string">"https://ae03.alicdn.com/kf/U83f4455be089478b8beaec3153cc1073C.jpg?add"</span>,</span><br><span class="line">    <span class="string">"https://ae02.alicdn.com/kf/U7104f8f282b54523bb782f09a371454bI.jpg?add"</span>,</span><br><span class="line">    <span class="string">"https://ae02.alicdn.com/kf/U9a8f28c4af7846b99166155c31a9f5d6H.jpg?add"</span>,</span><br><span class="line">    <span class="string">"https://ae02.alicdn.com/kf/U788c378b55a046d7a69e460ea7723f43l.jpg?add"</span>,</span><br><span class="line">    <span class="string">"https://ae02.alicdn.com/kf/U707e83428bfd4fcca7f3e1ef732f642dF.jpg?add"</span>,</span><br><span class="line">]</span><br><span class="line"><span class="comment">// 小灰灰图片</span></span><br><span class="line"><span class="keyword">var</span> wolf_2 = [</span><br><span class="line">    <span class="string">'https://ae01.alicdn.com/kf/U00654478fdbc42bcb157dc88ca49d535v.jpg?min'</span>,</span><br><span class="line">    <span class="string">'https://ae03.alicdn.com/kf/Ufffbe0e563f2422f8468dfe07e6944cbj.jpg?min'</span>,</span><br><span class="line">    <span class="string">'https://ae01.alicdn.com/kf/Ua6fc5df7037c4bb4aa9c4140851fa6bfo.jpg?min'</span>,</span><br><span class="line">    <span class="string">'https://ae01.alicdn.com/kf/U52169e31a945465c946c00cd3a23f96dF.jpg?min'</span>,</span><br><span class="line">    <span class="string">'https://ae01.alicdn.com/kf/Ub2f779675ad04432a2bed6153f59a4c6B.jpg?min'</span>,</span><br><span class="line">    <span class="string">'https://ae02.alicdn.com/kf/U8a0ef3b264f946fbacfb905d96bbc60em.jpg?min'</span>,</span><br><span class="line">    <span class="string">'https://ae02.alicdn.com/kf/U2c445d659e324b9c97593f47f11a5785V.jpg?min'</span>,</span><br><span class="line">    <span class="string">'https://ae03.alicdn.com/kf/U60c99e7d8f3844b18f33f1b3bee649c8M.jpg?min'</span>,</span><br><span class="line">    <span class="string">'https://ae02.alicdn.com/kf/U184d2a419e824317aac79ee85762479f9.jpg?min'</span>,</span><br><span class="line">    <span class="string">'https://ae02.alicdn.com/kf/Ufce9406da7ed4515a8e71c9c4d161697r.jpg?min'</span>,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><blockquote><p>使用本地链接无需添加，修改图片名即可。</p></blockquote></li><li><p>替换当前动画</p><p>当被点击后，应该显示后五张图片。因此将第五步的设置图片内容所需要判断的索引修改为变量，并添加到全局变量。这样方便修改当前图片显示的索引。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 5. 设置图片内容</span></span><br><span class="line"><span class="built_in">window</span>.wolfIndex = <span class="number">0</span></span><br><span class="line"><span class="built_in">window</span>.wolfIndexEnd = <span class="number">5</span></span><br><span class="line">wolfTimer = setInterval(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (wolfIndex &gt; wolfIndexEnd) &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li><li><p>判断加/减分数</p><p>拿到当前被点击图片，然后判断src属性是否包含<code>add</code>即可。如果包含说明是加分，否则就是减分。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 拿到当前点击图片的地址</span></span><br><span class="line"><span class="keyword">var</span> $src = $(<span class="keyword">this</span>).attr(<span class="string">'src'</span>)</span><br><span class="line"><span class="keyword">var</span> flag = $src.indexOf(<span class="string">'add'</span>) &gt;= <span class="number">0</span></span><br><span class="line"><span class="comment">// 根据图片类型增减分数</span></span><br><span class="line"><span class="keyword">if</span> (flag) &#123;</span><br><span class="line">    $(<span class="string">'.score'</span>).text(<span class="built_in">parseInt</span>($(<span class="string">'.score'</span>).text()) + <span class="number">10</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    $(<span class="string">'.score'</span>).text(<span class="built_in">parseInt</span>($(<span class="string">'.score'</span>).text()) - <span class="number">10</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="完整代码-2"><a class="markdownIt-Anchor" href="#完整代码-2"></a> 完整代码</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">                * &#123;</span><br><span class="line">                margin: 0;</span><br><span class="line">                padding: 0;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">                <span class="selector-class">.container</span> &#123;</span></span><br><span class="line">                    width: 320px;</span><br><span class="line">                    height: 480px;</span><br><span class="line">                    background: url("https://tva1.sinaimg.cn/large/005B3XPgly1gfw7dh267lj308w0dc759.jpg")</span><br><span class="line">                    no-repeat 0 0;</span><br><span class="line">                    margin: 50px auto;</span><br><span class="line">                    position: relative;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.container</span> &gt; <span class="selector-tag">h1</span> &#123;</span></span><br><span class="line">    color: white;</span><br><span class="line">    margin-left: 60px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.container</span> &gt; <span class="selector-class">.progress</span> &#123;</span></span><br><span class="line">    width: 180px;</span><br><span class="line">    height: 16px;</span><br><span class="line">    background: url("https://tva1.sinaimg.cn/large/005B3XPgly1gfw7dh7tu4j305000gt8j.jpg")</span><br><span class="line">    no-repeat 0 0;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 66px;</span><br><span class="line">    left: 63px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.container</span> &gt; <span class="selector-class">.start</span> &#123;</span></span><br><span class="line">    width: 150px;</span><br><span class="line">    height: 35px;</span><br><span class="line"><span class="css">    <span class="comment">/* line-height: 35px; */</span></span></span><br><span class="line">    text-align: center;</span><br><span class="line">    color: white;</span><br><span class="line"><span class="css">    <span class="selector-tag">background</span>: <span class="selector-tag">linear-gradient</span>(<span class="selector-id">#e55c3d</span>, <span class="selector-id">#c50000</span>);</span></span><br><span class="line">                                border-radius: 20px;</span><br><span class="line">                                border: none;</span><br><span class="line">                                font-size: 20px;</span><br><span class="line">                                position: absolute;</span><br><span class="line">                                top: 320px;</span><br><span class="line">                                left: 50%;</span><br><span class="line">                                margin-left: -75px;</span><br><span class="line">                                outline: none;</span><br><span class="line">                                cursor: pointer;</span><br><span class="line">                                &#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.container</span> &gt; <span class="selector-class">.rules</span> &#123;</span></span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 20px;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#ccc</span>;</span></span><br><span class="line">    position: absolute;</span><br><span class="line">    left: 0;</span><br><span class="line">    bottom: 0;</span><br><span class="line">    text-align: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="comment">/* 游戏规则 */</span></span></span><br><span class="line"><span class="css"><span class="selector-class">.container</span> &gt; <span class="selector-class">.rule</span> &#123;</span></span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line"><span class="css">    <span class="selector-tag">background</span>: <span class="selector-tag">rgba</span>(0, 0, 0, 0<span class="selector-class">.5</span>);</span></span><br><span class="line">    position: absolute;</span><br><span class="line">    left: 0;</span><br><span class="line">    top: 0;</span><br><span class="line">    padding-top: 100px;</span><br><span class="line">    box-sizing: border-box;</span><br><span class="line">    text-align: center;</span><br><span class="line">    display: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.container</span> &gt; <span class="selector-class">.rule</span> &gt; <span class="selector-tag">p</span> &#123;</span></span><br><span class="line">    line-height: 50px;</span><br><span class="line">    color: white;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.container</span> &gt; <span class="selector-class">.rule</span> &gt; <span class="selector-tag">a</span> &#123;</span></span><br><span class="line">    color: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="comment">/* 游戏结束 */</span></span></span><br><span class="line"><span class="css"><span class="selector-class">.container</span> &gt; <span class="selector-class">.mask</span> &#123;</span></span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line"><span class="css">    <span class="selector-tag">background</span>: <span class="selector-tag">rgba</span>(0, 0, 0, 0<span class="selector-class">.5</span>);</span></span><br><span class="line">    position: absolute;</span><br><span class="line">    left: 0;</span><br><span class="line">    top: 0;</span><br><span class="line">    padding-top: 200px;</span><br><span class="line">    box-sizing: border-box;</span><br><span class="line">    text-align: center;</span><br><span class="line">    display: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.container</span> &gt; <span class="selector-class">.mask</span> &gt; <span class="selector-tag">h1</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#ff4500</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">text-shadow</span>: 3<span class="selector-tag">px</span> 3<span class="selector-tag">px</span> 0 <span class="selector-id">#fff</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.container</span> &gt; <span class="selector-class">.mask</span> &gt; <span class="selector-tag">button</span> &#123;</span></span><br><span class="line">    width: 150px;</span><br><span class="line">    height: 35px;</span><br><span class="line"><span class="css">    <span class="comment">/* line-height: 35px; */</span></span></span><br><span class="line">    text-align: center;</span><br><span class="line">    color: white;</span><br><span class="line"><span class="css">    <span class="selector-tag">background</span>: <span class="selector-tag">linear-gradient</span>(<span class="selector-id">#74accf</span>, <span class="selector-id">#007ddc</span>);</span></span><br><span class="line">                                border-radius: 20px;</span><br><span class="line">                                border: none;</span><br><span class="line">                                font-size: 20px;</span><br><span class="line">                                position: absolute;</span><br><span class="line">                                top: 320px;</span><br><span class="line">                                left: 50%;</span><br><span class="line">                                margin-left: -75px;</span><br><span class="line">                                outline: none;</span><br><span class="line">                                cursor: pointer;</span><br><span class="line">                                &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> wolfTimer;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 1. 游戏规则的点击</span></span></span><br><span class="line"><span class="javascript">    $(<span class="string">".rules"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">".rule"</span>).stop().fadeIn(<span class="number">100</span>);</span></span><br><span class="line">    &#125;);</span><br><span class="line"><span class="actionscript">    <span class="comment">// 2. 关闭按钮的点击</span></span></span><br><span class="line"><span class="javascript">    $(<span class="string">".close"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">".rule"</span>).stop().fadeOut(<span class="number">100</span>);</span></span><br><span class="line">    &#125;);</span><br><span class="line"><span class="actionscript">    <span class="comment">// 3. 游戏开始按钮点击</span></span></span><br><span class="line"><span class="javascript">    $(<span class="string">".start"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="keyword">this</span>).stop().fadeOut(<span class="number">100</span>);</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 调用处理进度条的方法</span></span></span><br><span class="line">        progressHandle();</span><br><span class="line"><span class="actionscript">        <span class="comment">// 调用处理灰太狼动画的方法</span></span></span><br><span class="line">        startWolfAnimation();</span><br><span class="line">    &#125;);</span><br><span class="line"><span class="actionscript">    <span class="comment">// 4. 重新开始按钮</span></span></span><br><span class="line"><span class="javascript">    $(<span class="string">".reStart"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">".mask"</span>).stop().fadeOut(<span class="number">100</span>);</span></span><br><span class="line">        progressHandle();</span><br><span class="line"><span class="actionscript">        <span class="comment">// 处理灰太狼动画的方法</span></span></span><br><span class="line">        startWolfAnimation();</span><br><span class="line">    &#125;);</span><br><span class="line"><span class="actionscript">    <span class="comment">// 定义处理进度条的方法</span></span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">progressHandle</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 重新设置进度条的宽度</span></span></span><br><span class="line"><span class="javascript">        $(<span class="string">".progress"</span>).css(&#123;</span></span><br><span class="line">            width: 180,</span><br><span class="line">        &#125;);</span><br><span class="line"><span class="actionscript">        <span class="comment">// 使用定时器处理进度条</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> timer = setInterval(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 拿到进度条当前的宽度</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> progressWidth = $(<span class="string">".progress"</span>).width();</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 减少当前宽度</span></span></span><br><span class="line">            progressWidth -= 1;</span><br><span class="line"><span class="actionscript">            <span class="comment">// 重新赋值宽度</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">".progress"</span>).css(&#123;</span></span><br><span class="line">                width: progressWidth,</span><br><span class="line">            &#125;);</span><br><span class="line"><span class="actionscript">            <span class="comment">// 监听进度条是否走完</span></span></span><br><span class="line">            if (progressWidth &lt;= 0) &#123;</span><br><span class="line"><span class="actionscript">                <span class="comment">// 关闭定时器</span></span></span><br><span class="line">                clearInterval(timer);</span><br><span class="line"><span class="javascript">                $(<span class="string">".mask"</span>).stop().fadeIn(<span class="number">100</span>);</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 停止灰太狼动画</span></span></span><br><span class="line">                stopWolfAnimation();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, 100);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="comment">// 定义处理灰太狼的动画的方法</span></span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">startWolfAnimation</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 灰太狼图片</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> wolf_1 = [</span></span><br><span class="line"><span class="actionscript">            <span class="string">"https://ae04.alicdn.com/kf/U6d7418e287294bb88d0461d6c27bfcd82.jpg?add"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"https://ae02.alicdn.com/kf/Ud511a9efcffa4fe6b2a100aa7513f3e8H.jpg?add"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"https://ae01.alicdn.com/kf/U8de07ee534de40b092bb37895a58074bW.jpg?add"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"https://ae01.alicdn.com/kf/U65e24e9eea4c4823884a994a4943f5f3H.jpg?add"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"https://ae04.alicdn.com/kf/U059507c66fb6466eb8ca6381c794e213I.jpg?add"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"https://ae03.alicdn.com/kf/U83f4455be089478b8beaec3153cc1073C.jpg?add"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"https://ae02.alicdn.com/kf/U7104f8f282b54523bb782f09a371454bI.jpg?add"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"https://ae02.alicdn.com/kf/U9a8f28c4af7846b99166155c31a9f5d6H.jpg?add"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"https://ae02.alicdn.com/kf/U788c378b55a046d7a69e460ea7723f43l.jpg?add"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"https://ae02.alicdn.com/kf/U707e83428bfd4fcca7f3e1ef732f642dF.jpg?add"</span>,</span></span><br><span class="line">        ];</span><br><span class="line"><span class="actionscript">        <span class="comment">// 小灰灰图片</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> wolf_2 = [</span></span><br><span class="line"><span class="actionscript">            <span class="string">"https://ae01.alicdn.com/kf/U00654478fdbc42bcb157dc88ca49d535v.jpg?min"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"https://ae03.alicdn.com/kf/Ufffbe0e563f2422f8468dfe07e6944cbj.jpg?min"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"https://ae01.alicdn.com/kf/Ua6fc5df7037c4bb4aa9c4140851fa6bfo.jpg?min"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"https://ae01.alicdn.com/kf/U52169e31a945465c946c00cd3a23f96dF.jpg?min"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"https://ae01.alicdn.com/kf/Ub2f779675ad04432a2bed6153f59a4c6B.jpg?min"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"https://ae02.alicdn.com/kf/U8a0ef3b264f946fbacfb905d96bbc60em.jpg?min"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"https://ae02.alicdn.com/kf/U2c445d659e324b9c97593f47f11a5785V.jpg?min"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"https://ae03.alicdn.com/kf/U60c99e7d8f3844b18f33f1b3bee649c8M.jpg?min"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"https://ae02.alicdn.com/kf/U184d2a419e824317aac79ee85762479f9.jpg?min"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"https://ae02.alicdn.com/kf/Ufce9406da7ed4515a8e71c9c4d161697r.jpg?min"</span>,</span></span><br><span class="line">        ];</span><br><span class="line"><span class="actionscript">        <span class="comment">// 随机位置</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> arrPos = [</span></span><br><span class="line"><span class="actionscript">            &#123; left: <span class="string">"100px"</span>, top: <span class="string">"115px"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; left: <span class="string">"20px"</span>, top: <span class="string">"160px"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; left: <span class="string">"190px"</span>, top: <span class="string">"142px"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; left: <span class="string">"105px"</span>, top: <span class="string">"193px"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; left: <span class="string">"19px"</span>, top: <span class="string">"221px"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; left: <span class="string">"202px"</span>, top: <span class="string">"212px"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; left: <span class="string">"120px"</span>, top: <span class="string">"275px"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; left: <span class="string">"30px"</span>, top: <span class="string">"295px"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; left: <span class="string">"209px"</span>, top: <span class="string">"297px"</span> &#125;,</span></span><br><span class="line">        ];</span><br><span class="line"><span class="actionscript">        <span class="comment">// 3. 创建一个图片</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> $wolfImage = $(<span class="string">'&lt;img src="" class="wolfImage"&gt;'</span>);</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 获取随机图片的位置</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> posIndex = <span class="built_in">Math</span>.round(<span class="built_in">Math</span>.random() * <span class="number">8</span>);</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 4. 设置图片显示的位置</span></span></span><br><span class="line">        $wolfImage.css(&#123;</span><br><span class="line"><span class="actionscript">            position: <span class="string">"absolute"</span>,</span></span><br><span class="line">            left: arrPos[posIndex].left,</span><br><span class="line">            top: arrPos[posIndex].top,</span><br><span class="line">        &#125;);</span><br><span class="line"><span class="actionscript">        <span class="comment">// 随机获取数组类型</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> wolf_type = <span class="built_in">Math</span>.round(<span class="built_in">Math</span>.random()) == <span class="number">0</span> ? wolf_1 : wolf_2;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 5. 设置图片内容</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.wolfIndex = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.wolfIndexEnd = <span class="number">5</span>;</span></span><br><span class="line"><span class="actionscript">        wolfTimer = setInterval(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line">            if (wolfIndex &gt; wolfIndexEnd) &#123;</span><br><span class="line">                $wolfImage.remove();</span><br><span class="line">                clearInterval(wolfTimer);</span><br><span class="line">                startWolfAnimation();</span><br><span class="line">            &#125;</span><br><span class="line"><span class="actionscript">            $wolfImage.attr(<span class="string">"src"</span>, wolf_type[wolfIndex]);</span></span><br><span class="line">            wolfIndex++;</span><br><span class="line">        &#125;, 300);</span><br><span class="line"><span class="actionscript">        <span class="comment">// 6. 将图片添加到页面上</span></span></span><br><span class="line"><span class="javascript">        $(<span class="string">".container"</span>).append($wolfImage);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">// 7. 调用处理游戏规则的方法</span></span></span><br><span class="line">        gameRules($wolfImage);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">gameRules</span><span class="params">($wolfImage)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        $wolfImage.one(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 修改索引</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.wolfIndex = <span class="number">5</span>;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.wolfIndexEnd = <span class="number">9</span>;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 拿到当前点击图片的地址</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> $src = $(<span class="keyword">this</span>).attr(<span class="string">"src"</span>);</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> flag = $src.indexOf(<span class="string">"add"</span>) &gt;= <span class="number">0</span>;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 根据图片类型增减分数</span></span></span><br><span class="line">            if (flag) &#123;</span><br><span class="line"><span class="javascript">                $(<span class="string">".score"</span>).text(<span class="built_in">parseInt</span>($(<span class="string">".score"</span>).text()) + <span class="number">10</span>);</span></span><br><span class="line"><span class="actionscript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">".score"</span>).text(<span class="built_in">parseInt</span>($(<span class="string">".score"</span>).text()) - <span class="number">10</span>);</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="actionscript">    <span class="comment">// 停止灰太狼动画</span></span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">stopWolfAnimation</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">".wolfImage"</span>).remove();</span></span><br><span class="line">        clearInterval(wolfTimer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">"score"</span>&gt;</span>0<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"progress"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"start"</span>&gt;</span>开始游戏<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"rules"</span>&gt;</span>游戏规则<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"rule"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>游戏规则：<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>1. 游戏时间60S<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>2. 拼手速：殴打灰太狼+10分<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>3. 殴打小灰灰-10分<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"close"</span>&gt;</span>【关闭】<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"mask"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>GAME OVER<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"reStart"</span>&gt;</span>重新开始<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/
      
    
    </summary>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="JavaScript笔记" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/JavaScript%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/tags/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="笔记" scheme="https://www.antmoe.com/tags/%E7%AC%94%E8%AE%B0/"/>
    
      <category term="JavaScript" scheme="https://www.antmoe.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>六、jQuery节点操作</title>
    <link href="https://www.antmoe.com/posts/21ff6335/index.html"/>
    <id>https://www.antmoe.com/posts/21ff6335/index.html</id>
    <published>2020-06-17T06:14:58.000Z</published>
    <updated>2020-06-22T10:42:16.885Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h2 id="添加节点相关方法"><a class="markdownIt-Anchor" href="#添加节点相关方法"></a> 添加节点相关方法</h2><h3 id="内部插入"><a class="markdownIt-Anchor" href="#内部插入"></a> 内部插入</h3><ol><li><p>插入到节点最前面</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/17/6e15481e5a0fb6403ad6321a090db446.png" alt="" /></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方法1</span></span><br><span class="line">$li.prependTo(<span class="string">'ul'</span>)</span><br><span class="line"><span class="comment">// 方法2（常用）</span></span><br><span class="line">$(<span class="string">'ul'</span>).prepend($li)</span><br></pre></td></tr></table></figure></li><li><p>添加到节点最后边</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/17/407e913e46aee4dcf0c0d110691eadd2.png" alt="" /></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方法1</span></span><br><span class="line">$li.appendTo(<span class="string">'ul'</span>)</span><br><span class="line"><span class="comment">// 方法2（常用）</span></span><br><span class="line">$(<span class="string">'ul'</span>).append($li)</span><br></pre></td></tr></table></figure></li></ol><h3 id="外部插入"><a class="markdownIt-Anchor" href="#外部插入"></a> 外部插入</h3><ol><li><p>将元素添加到指定元素外部的后面</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/17/b60af2cba4c5f037be5489ea0b9a2754.png" alt="" /></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方法1</span></span><br><span class="line">$li.insertAfter(<span class="string">'ul'</span>)</span><br><span class="line"><span class="comment">// 方法2（常用）</span></span><br><span class="line">$(<span class="string">'ul'</span>).after($li)</span><br></pre></td></tr></table></figure></li><li><p>会将元素添加到指定元素外部的前面</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/17/bbe6fb7cabe233aa01a3b9d78e343aff.png" alt="" /></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方法1</span></span><br><span class="line">$li.insertBefore(<span class="string">'ul'</span>)</span><br><span class="line"><span class="comment">// 方法2（常用）</span></span><br><span class="line">$(<span class="string">'ul'</span>).before($li)</span><br></pre></td></tr></table></figure></li></ol><h2 id="删除节点相关方法"><a class="markdownIt-Anchor" href="#删除节点相关方法"></a> 删除节点相关方法</h2><ol><li><p><code>remove()</code>或<code>detach()</code></p><p>删除指定元素，可传入参数。例如<code>$('li').detach('.item')</code>表示删除li下的<code>.item</code>元素</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'div'</span>).remove()</span><br><span class="line">$(<span class="string">'li'</span>).detach(<span class="string">'.item'</span>)</span><br></pre></td></tr></table></figure><p>两个方法一样，都可以接收参数。</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/17/06b804de4f9e43e1d529607f4dae34f0.png" alt="不传入参数" /></p></li><li><p><code>empty()</code></p><p>删除指定元素的内容和子元素,指定元素自身不会被删除</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'div'</span>).empty()</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/17/ecb26bdd21fd7cb595ee5301ee40c8c0.png" alt="" /></p></li></ol><h2 id="替换节点相关方法"><a class="markdownIt-Anchor" href="#替换节点相关方法"></a> 替换节点相关方法</h2><p><code>replaceWith()</code>与<code>replaceAll()</code>都会替换所有匹配的元素为指定元素。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 新建元素</span></span><br><span class="line"><span class="keyword">var</span> $h6 = $(<span class="string">'&lt;h6&gt;我是标题6&lt;/h6&gt;'</span>)</span><br><span class="line"><span class="comment">// 2. 替换所有匹配的元素为指定元素</span></span><br><span class="line">$(<span class="string">'h1'</span>).replaceWith($h6)</span><br><span class="line"><span class="comment">// 或者如下写法</span></span><br><span class="line"><span class="comment">// $h6.replaceAll('h1')</span></span><br></pre></td></tr></table></figure><h2 id="复制节点相关方法"><a class="markdownIt-Anchor" href="#复制节点相关方法"></a> 复制节点相关方法</h2><p>复制节点使用<code>clone()</code>方法，传入一个布尔值。<code>true</code>表示深复制，<code>false</code>表示浅复制。</p><ol><li><p>浅复制</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'button'</span>).eq(<span class="number">0</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 1. 浅复制一个元素</span></span><br><span class="line">    <span class="keyword">var</span> $li = $(<span class="string">'li:first'</span>).clone(<span class="literal">false</span>)</span><br><span class="line">    <span class="comment">// 将复制的元素加入的ul中</span></span><br><span class="line">    $(<span class="string">'ul'</span>).append($li)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>深复制</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'button'</span>).eq(<span class="number">1</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 1. 深复制一个元素</span></span><br><span class="line">    <span class="keyword">var</span> $li = $(<span class="string">'li:first'</span>).clone(<span class="literal">true</span>)</span><br><span class="line">    <span class="comment">// 将复制的元素加入的ul中</span></span><br><span class="line">    $(<span class="string">'ul'</span>).append($li)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ol><div class="snote idea yellow"><p>深复制、浅复制的区别</p></div><p>浅复制只会复制元素本身，无法复制原元素绑定的事件。而深复制则会连同绑定事件一同复制。</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/17/7f207c472a7c4fa057bcf242ee212a83.png" alt="" /></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">'button'</span>).eq(<span class="number">0</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 1. 浅复制一个元素</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> $li = $(<span class="string">'li:first'</span>).clone(<span class="literal">false</span>)</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 将复制的元素假如的ul中</span></span></span><br><span class="line"><span class="javascript">                $(<span class="string">'ul'</span>).append($li)</span></span><br><span class="line">            &#125;)</span><br><span class="line"><span class="javascript">            $(<span class="string">'button'</span>).eq(<span class="number">1</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 1. 深复制一个元素</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> $li = $(<span class="string">'li:first'</span>).clone(<span class="literal">true</span>)</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 将复制的元素假如的ul中</span></span></span><br><span class="line"><span class="javascript">                $(<span class="string">'ul'</span>).append($li)</span></span><br><span class="line">            &#125;)</span><br><span class="line"><span class="javascript">            $(<span class="string">'li'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line">                alert(1)</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>浅复制节点<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>深复制节点<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>我是第1个li<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>我是第2个li<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>我是第3个li<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>我是第4个li<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>我是第5个li<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="新浪微博案例"><a class="markdownIt-Anchor" href="#新浪微博案例"></a> 新浪微博案例</h2><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/17/09929db91693d76c78aabc5068b70d73.png" alt="" /></p><blockquote><p>jQuery部分逻辑思路</p></blockquote><ol><li><p>监听发送按钮</p><ul><li><p>有内容</p><p>生成DIV，并添加</p></li><li><p>无内容</p><p>按钮禁止点击</p></li></ul></li><li><p>生成div</p><ul><li>获取用户输入内容，将内容作为DIV的内容进行生成</li></ul></li><li><p>插入DIV</p><p>获取插入容器，在其顶部插入</p></li><li><p>顶/踩/删除</p><ul><li><p>顶/踩</p><p>获取标签内容并转化为整型然后加1</p></li><li><p>删除</p><p>利用<code>parents()</code>方法，在其传入需要获取的父元素选择器（<code>parents('.info')</code>），即可获取相应的父元素。</p></li></ul></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        * &#123;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        html &#123;</span><br><span class="line">            width: 100%;</span><br><span class="line">            height: 100%;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        body &#123;</span><br><span class="line">            background: url('https://ae04.alicdn.com/kf/Ud1fa6cf847c446e5a65e91f43081d503V.jpg') no-repeat center 0;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.nav</span> &#123;</span></span><br><span class="line">            width: 100%;</span><br><span class="line">            height: 48px;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.mav</span>&gt;<span class="selector-tag">img</span> &#123;</span></span><br><span class="line">            width: 100%;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.content</span> &#123;</span></span><br><span class="line">            width: 1000px;</span><br><span class="line">            overflow: hidden;</span><br><span class="line"><span class="css">            <span class="selector-tag">background</span>: <span class="selector-id">#ebdbd4</span>;</span></span><br><span class="line">            margin: 200px auto 0 auto;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.content</span>&gt;<span class="selector-class">.left</span> &#123;</span></span><br><span class="line">            float: left;</span><br><span class="line">            width: 150px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.content</span>&gt;<span class="selector-class">.right</span> &#123;</span></span><br><span class="line">            float: right;</span><br><span class="line">            width: 240px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.content</span>&gt;<span class="selector-class">.center</span> &#123;</span></span><br><span class="line">            float: left;</span><br><span class="line">            width: 600px;</span><br><span class="line">            height: 168px;</span><br><span class="line">            background: url(https://ae03.alicdn.com/kf/U7ed12369ffd74c2a9ca1d46907ce3eb9G.jpg)no-repeat 0 0;</span><br><span class="line">            background-size: 600px 168px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.center</span>&gt;<span class="selector-class">.comment</span> &#123;</span></span><br><span class="line">            width: 570px;</span><br><span class="line">            height: 73px;</span><br><span class="line">            margin-left: 15px;</span><br><span class="line">            margin-top: 45px;</span><br><span class="line">            resize: none;</span><br><span class="line">            outline: none;</span><br><span class="line">            border: none;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.center</span>&gt;<span class="selector-class">.send</span> &#123;</span></span><br><span class="line">            width: 82px;</span><br><span class="line">            height: 30px;</span><br><span class="line">            margin-top: 4px;</span><br><span class="line">            margin-left: 506px;</span><br><span class="line">            border: none;</span><br><span class="line"><span class="css">            <span class="selector-tag">background</span>: <span class="selector-id">#fd8040</span>;</span></span><br><span class="line">            cursor: pointer;</span><br><span class="line">            outline: none;</span><br><span class="line">            color: white;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.content</span>&gt;<span class="selector-class">.messageList</span> &#123;</span></span><br><span class="line">            width: 600px;</span><br><span class="line"><span class="css">            <span class="comment">/* height: 600px; */</span></span></span><br><span class="line">            background: white;</span><br><span class="line">            float: left;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.messageList</span>&gt;<span class="selector-class">.info</span> &#123;</span></span><br><span class="line">            padding: 10px 20px;</span><br><span class="line"><span class="css">            <span class="selector-tag">border-bottom</span>: 2<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ccc</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.info</span>&gt;<span class="selector-class">.infoText</span> &#123;</span></span><br><span class="line">            line-height: 25px;</span><br><span class="line">            margin-bottom: 10px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.info</span>&gt;<span class="selector-class">.infoOperation</span> &#123;</span></span><br><span class="line">            width: 100%;</span><br><span class="line">            overflow: hidden;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.infoOperation</span>&gt;<span class="selector-class">.infoTime</span> &#123;</span></span><br><span class="line">            float: left;</span><br><span class="line">            font-size: 13px;</span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>: <span class="selector-id">#ccc</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.infoOperation</span>&gt;<span class="selector-class">.infoHandle</span> &#123;</span></span><br><span class="line">            float: right;</span><br><span class="line">            font-size: 13px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.infoHandle</span>&gt;<span class="selector-tag">a</span> &#123;</span></span><br><span class="line">            text-decoration: none;</span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>: <span class="selector-id">#ccc</span>;</span></span><br><span class="line">            background: url(https://ae04.alicdn.com/kf/Uf79214b661074c6ca3416eccddeb4e61D.jpg)no-repeat 0 0;</span><br><span class="line">            padding-left: 25px;</span><br><span class="line">            margin-left: 10px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.infoHandle</span>&gt;<span class="selector-tag">a</span><span class="selector-pseudo">:nth-child(2)</span> &#123;</span></span><br><span class="line">            background-position: 0 -17px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.infoHandle</span>&gt;<span class="selector-tag">a</span><span class="selector-pseudo">:nth-child(3)</span> &#123;</span></span><br><span class="line">            background-position: 0 -33px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.page</span> &#123;</span></span><br><span class="line">            width: 1000px;</span><br><span class="line">            height: 40px;</span><br><span class="line">            margin: 0 auto;</span><br><span class="line">            text-align: right;</span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#9f5024</span>;</span></span><br><span class="line">            padding: 10px;</span><br><span class="line">            box-sizing: border-box;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.page</span>&gt;<span class="selector-tag">a</span> &#123;</span></span><br><span class="line">            text-decoration: none;</span><br><span class="line">            display: inline-block;</span><br><span class="line">            width: 20px;</span><br><span class="line">            height: 20px;</span><br><span class="line"><span class="css">            <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ccc</span>;</span></span><br><span class="line">            line-height: 20px;</span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>: <span class="selector-id">#2b2b2b</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 0。 监听内容的实时输入</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">'body'</span>).delegate(<span class="string">'.comment'</span>, <span class="string">'propertychange input'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 判断是否输入了内容</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> ($(<span class="keyword">this</span>).val().length &gt; <span class="number">0</span>) &#123;</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">'.send'</span>).prop(<span class="string">'disabled'</span>, <span class="literal">false</span>)</span></span><br><span class="line"><span class="actionscript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">'.send'</span>).prop(<span class="string">'disabled'</span>, <span class="literal">true</span>)</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line"><span class="actionscript">            <span class="comment">// 1. 监听发布按钮的点击</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">'.send'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 拿到用户输入的内容</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> $text = $(<span class="string">'.comment'</span>).val()</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 根据内容创建节点</span></span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> $weibo = createEle($text)</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 插入微博</span></span></span><br><span class="line"><span class="javascript">                $(<span class="string">'.messageList'</span>).prepend($weibo)</span></span><br><span class="line">            &#125;)</span><br><span class="line"><span class="actionscript">            <span class="comment">// 2. 监听顶点击</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">'body'</span>).delegate(<span class="string">'.infoUp'</span>, <span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="keyword">this</span>).text(<span class="built_in">parseInt</span>($(<span class="keyword">this</span>).text()) + <span class="number">1</span>)</span></span><br><span class="line">            &#125;)</span><br><span class="line"><span class="actionscript">            <span class="comment">// 3. 监听踩点击</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">'body'</span>).delegate(<span class="string">'.infoDown'</span>, <span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="keyword">this</span>).text(<span class="built_in">parseInt</span>($(<span class="keyword">this</span>).text()) + <span class="number">1</span>)</span></span><br><span class="line">            &#125;)</span><br><span class="line"><span class="actionscript">            <span class="comment">// 4. 监听删除点击</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">'body'</span>).delegate(<span class="string">'.infoDel'</span>, <span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="keyword">this</span>).parents(<span class="string">'.info'</span>).remove()</span></span><br><span class="line">            &#125;)</span><br><span class="line"><span class="actionscript">            <span class="function"><span class="keyword">function</span> <span class="title">createEle</span><span class="params">(text)</span> </span>&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="handlebars"><span class="xml">                var $weibo = $('<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"info"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>= <span class="string">"infoText"</span> &gt;</span> ' + text + '<span class="tag">&lt;/<span class="name">p</span> &gt;</span><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"infoOperation"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"infoTime"</span>&gt;</span>' + formatDate() + '<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"infoHandle"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javasript:;"</span> <span class="attr">class</span>=<span class="string">"infoUp"</span>&gt;</span>0<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javasript: ;"</span> <span class="attr">class</span>=<span class="string">"infoDown"</span>&gt;</span>0<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javasript: ;"</span> <span class="attr">class</span>=<span class="string">"infoDel"</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span> &gt;</span> ')</span></span></span><br><span class="line"><span class="actionscript">                <span class="keyword">return</span> $weibo</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="actionscript">            <span class="comment">// 生成时间</span></span></span><br><span class="line"><span class="actionscript">            <span class="function"><span class="keyword">function</span> <span class="title">formatDate</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>()</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> arr = [</span></span><br><span class="line"><span class="actionscript">                    date.getUTCFullYear() + <span class="string">'-'</span>,</span></span><br><span class="line"><span class="actionscript">                    date.getMonth() + <span class="number">1</span> + <span class="string">'-'</span>,</span></span><br><span class="line"><span class="actionscript">                    date.getDate() + <span class="string">' '</span>,</span></span><br><span class="line"><span class="actionscript">                    date.getHours() + <span class="string">':'</span>,</span></span><br><span class="line"><span class="actionscript">                    date.getMinutes() + <span class="string">':'</span>,</span></span><br><span class="line">                    date.getSeconds()</span><br><span class="line">                ]</span><br><span class="line"><span class="actionscript">                <span class="keyword">return</span> arr.join(<span class="string">""</span>)</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"nav"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://ae02.alicdn.com/kf/U8c9c77c71a30441aa2e439c2552c6fe6q.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://ae02.alicdn.com/kf/Ua155fa993f7641a89d83d88af96a6df2Z.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">class</span>=<span class="string">"comment"</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"发布"</span> <span class="attr">class</span>=<span class="string">"send"</span> <span class="attr">disabled</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://ae02.alicdn.com/kf/U0cf31717da7d412da7029b72551d9a94K.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"messageList"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"page"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/
      
    
    </summary>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="JavaScript笔记" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/JavaScript%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/tags/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="笔记" scheme="https://www.antmoe.com/tags/%E7%AC%94%E8%AE%B0/"/>
    
      <category term="JavaScript" scheme="https://www.antmoe.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>五、jQuery动效</title>
    <link href="https://www.antmoe.com/posts/849f1f08/index.html"/>
    <id>https://www.antmoe.com/posts/849f1f08/index.html</id>
    <published>2020-06-16T10:38:58.000Z</published>
    <updated>2020-06-22T10:42:16.885Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h2 id="显示隐藏动画"><a class="markdownIt-Anchor" href="#显示隐藏动画"></a> 显示隐藏动画</h2><p>显示<code>show()</code>动画，隐藏动画<code>hide()</code>，切换动画<code>toggle()</code></p><p>这三个方法都可以传入参数：</p><ul><li><p>一个参数</p><p>代表动画完成的时间</p></li><li><p>两个参数</p><p>第一个表示动画完成的时间，第二个参数表示动画完成后执行的回调函数</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'button'</span>).eq(<span class="number">0</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="string">'div'</span>).show(<span class="number">1000</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            alert(<span class="string">'显示动画执行完毕'</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">    $(<span class="string">'button'</span>).eq(<span class="number">1</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="string">'div'</span>).hide(<span class="number">1000</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            alert(<span class="string">'隐藏动画执行完毕'</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">    $(<span class="string">'button'</span>).eq(<span class="number">2</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="string">'div'</span>).toggle(<span class="number">1000</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            alert(<span class="string">'切换动画执行完毕'</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/e0d96af89c33513e1ada7db205bc7184.png" alt="" /></p><div class='tip' ><p>对联广告案例<p></div><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/4cd771fe592f737a592c6bf24a2ba968.png" alt="" /></p><ol><li><p>监听网页滚动</p></li><li><p>当滚动到一定量时，展示图片否则隐藏图片</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 1. 监听网页的滚动</span></span><br><span class="line">    $(<span class="built_in">window</span>).scroll(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 1.1 获取网页滚动的偏移位</span></span><br><span class="line">        <span class="keyword">var</span> offset = $(<span class="string">'html,body'</span>).scrollTop()</span><br><span class="line">        <span class="comment">// 1.2 判断网页是否滚动到了指定的位置</span></span><br><span class="line">        <span class="keyword">if</span> (offset &gt;= <span class="number">500</span>) &#123;</span><br><span class="line">            <span class="comment">// 1.3 显示广告</span></span><br><span class="line">            $(<span class="string">'img'</span>).show(<span class="number">1000</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $(<span class="string">'img'</span>).hide(<span class="number">1000</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">            * &#123;</span><br><span class="line">                margin: 0;</span><br><span class="line">                padding: 0;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.left</span> &#123;</span></span><br><span class="line">                float: left;</span><br><span class="line">                position: fixed;</span><br><span class="line">                left: 0;</span><br><span class="line">                top: 200px;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.right</span> &#123;</span></span><br><span class="line">                float: right;</span><br><span class="line">                position: fixed;</span><br><span class="line">                right: 0;</span><br><span class="line">                top: 200px;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            img &#123;</span><br><span class="line">                display: none;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">            $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 1. 监听网页的滚动</span></span></span><br><span class="line"><span class="javascript">                $(<span class="built_in">window</span>).scroll(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                    <span class="comment">// 1.1 获取网页滚动的偏移位</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> offset = $(<span class="string">'html,body'</span>).scrollTop()</span></span><br><span class="line"><span class="actionscript">                    <span class="comment">// 1.2 判断网页是否滚动到了指定的位置</span></span></span><br><span class="line">                    if (offset &gt;= 500) &#123;</span><br><span class="line"><span class="actionscript">                        <span class="comment">// 1.3 显示广告</span></span></span><br><span class="line"><span class="javascript">                        $(<span class="string">'img'</span>).show(<span class="number">1000</span>)</span></span><br><span class="line"><span class="actionscript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                        $(<span class="string">'img'</span>).hide(<span class="number">1000</span>)</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;)</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://ae03.alicdn.com/kf/Ub8d7c62873d74ebda173addf2b82d741T.jpg"</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://ae03.alicdn.com/kf/Ub8d7c62873d74ebda173addf2b82d741T.jpg"</span></span></span><br><span class="line"><span class="tag">             <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="展开收起动画"><a class="markdownIt-Anchor" href="#展开收起动画"></a> 展开收起动画</h2><p>显示<code>slideDown()</code>动画，隐藏动画<code>slideUp()</code>，切换动画<code>slideToggle()</code></p><p>这三个方法都可以传入参数：</p><ul><li><p>一个参数</p><p>代表动画完成的时间</p></li><li><p>两个参数</p><p>第一个表示动画完成的时间，第二个参数表示动画完成后执行的回调函数</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'button'</span>).eq(<span class="number">0</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'div'</span>).slideDown(<span class="number">1000</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        alert(<span class="string">'展开完毕'</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">'button'</span>).eq(<span class="number">1</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'div'</span>).slideUp(<span class="number">1000</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        alert(<span class="string">'收起完毕'</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">'button'</span>).eq(<span class="number">1</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'div'</span>).slideToggle(<span class="number">1000</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        alert(<span class="string">'切换完毕'</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/893c798118bdae353d5d381bf3dfbaad.png" alt="" /></p><div class='tip' ><p>折叠菜单案例<p></div><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/f7de3b765fed84c6bb7e836c12148b61.png" alt="" /></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        * &#123;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.nav</span> &#123;</span></span><br><span class="line">            list-style: none;</span><br><span class="line">            width: 300px;</span><br><span class="line">            margin: 100px auto;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.nav</span>&gt;<span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#000</span>;</span></span><br><span class="line">            line-height: 35px;</span><br><span class="line">            border-bottom: none;</span><br><span class="line">            text-indent: 2em;</span><br><span class="line">            position: relative;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.nav</span>&gt;<span class="selector-tag">li</span><span class="selector-pseudo">:last-child</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">border-bottom</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#000</span>;</span></span><br><span class="line">            border-bottom-left-radius: 5px;</span><br><span class="line">            border-bottom-right-radius: 5px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.nav</span>&gt;<span class="selector-tag">li</span><span class="selector-pseudo">:first-child</span> &#123;</span></span><br><span class="line">            border-top-left-radius: 5px;</span><br><span class="line">            border-top-right-radius: 5px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.nav</span>&gt;<span class="selector-tag">li</span>&gt;<span class="selector-tag">span</span> &#123;</span></span><br><span class="line">            background: url("https://ae02.alicdn.com/kf/U7eebc02d0d5e4be287d88baf368f0019S.jpg") no-repeat center;</span><br><span class="line">            display: inline-block;</span><br><span class="line">            width: 32px;</span><br><span class="line">            height: 32px;</span><br><span class="line">            position: absolute;</span><br><span class="line">            right: 10px;</span><br><span class="line">            top: 5px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.sub</span> &#123;</span></span><br><span class="line">            display: none;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.sub</span>&gt;<span class="selector-tag">li</span> &#123;</span></span><br><span class="line">            list-style: none;</span><br><span class="line">            background-color: mediumorchid;</span><br><span class="line">            border: 1px solid white;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.sub</span>&gt;<span class="selector-tag">li</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line">            background-color: red;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.nav</span>&gt;<span class="selector-class">.current</span>&gt;<span class="selector-tag">span</span> &#123;</span></span><br><span class="line">            transform: rotate(90deg)</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 1. 监听一级菜单的点击事件</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">'.nav&gt;li'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 1.1 拿到二级菜单</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> $sub = $(<span class="keyword">this</span>).children(<span class="string">'.sub'</span>)</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 1.2 让二级菜单显示</span></span></span><br><span class="line">                $sub.slideDown(1000)</span><br><span class="line"><span class="actionscript">                <span class="comment">// 1.3 拿到所有非当前二级菜单</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> otherSub = $(<span class="keyword">this</span>).siblings().children(<span class="string">'.sub'</span>)</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(otherSub)</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 1.4 让所有非当前二级菜单收起</span></span></span><br><span class="line">                otherSub.slideUp(1000)</span><br><span class="line"><span class="actionscript">                <span class="comment">// 1.5让被点击的一级菜单箭头旋转</span></span></span><br><span class="line"><span class="javascript">                $(<span class="keyword">this</span>).addClass(<span class="string">'current'</span>)</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 1.6 让所有非一级菜单箭头还原</span></span></span><br><span class="line"><span class="javascript">                $(<span class="keyword">this</span>).siblings().removeClass(<span class="string">'current'</span>)</span></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"nav"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>一级菜单<span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"sub"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>一级菜单<span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"sub"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>一级菜单<span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"sub"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>一级菜单<span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"sub"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>一级菜单<span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"sub"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>一级菜单<span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"sub"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>一级菜单<span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"sub"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>一级菜单<span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"sub"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><div class='tip'><p>下拉菜单案例<p></div><p>在jQuery中，如果需要执行动画，建议在执行动画之前先调用stop方法，然后在执行动画。</p><p>当使用stop时：</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/300d014dbbfb5adfdd4952a511cd61f6.png" alt="" /></p><p>不适用stop时：</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/e8e717315aa8fda98e81b5a57b9514cf.png" alt="" /></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        * &#123;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.nav</span> &#123;</span></span><br><span class="line">            list-style: none;</span><br><span class="line">            width: 300px;</span><br><span class="line">            height: 50px;</span><br><span class="line">            background: red;</span><br><span class="line">            margin: 100px auto;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.nav</span>&gt;<span class="selector-tag">li</span> &#123;</span></span><br><span class="line">            width: 100px;</span><br><span class="line">            height: 50px;</span><br><span class="line">            line-height: 50px;</span><br><span class="line">            text-align: center;</span><br><span class="line">            float: left;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.sub</span> &#123;</span></span><br><span class="line">            list-style: none;</span><br><span class="line">            background-color: royalblue;</span><br><span class="line">            display: none</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 1. 监听一级菜单的移入事件</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">'.nav&gt;li'</span>).mouseenter(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 1.1 拿到二级菜单</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> $sub = $(<span class="keyword">this</span>).children(<span class="string">'.sub'</span>)</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 1.2 停止当前正在运动的动画</span></span></span><br><span class="line">                $sub.stop()</span><br><span class="line"><span class="actionscript">                <span class="comment">// 1.3 让二级菜单展开</span></span></span><br><span class="line">                $sub.slideDown(1000)</span><br><span class="line">            &#125;)</span><br><span class="line"><span class="actionscript">            <span class="comment">// 2. 监听一级菜单的移出事件</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">'.nav&gt;li'</span>).mouseleave(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 1.1 拿到二级菜单</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> $sub = $(<span class="keyword">this</span>).children(<span class="string">'.sub'</span>)</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 1.2 停止当前正在运动的动画</span></span></span><br><span class="line">                $sub.stop()</span><br><span class="line"><span class="actionscript">                <span class="comment">// 1.3 让二级菜单收起</span></span></span><br><span class="line">                $sub.slideUp(1000)</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"nav"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>一级菜单</span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"sub"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>二级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>一级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>一级菜单<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="淡入淡出动画"><a class="markdownIt-Anchor" href="#淡入淡出动画"></a> 淡入淡出动画</h2><ul><li><code>fadeIn</code>淡入</li><li><code>fadeOut</code>淡出</li><li><code>fadeToggle</code>切换</li></ul><p>以上三个方法均可传入两个参数：</p><ul><li>时间</li><li>回调函数</li></ul><p>与上述几种方法相似</p><ul><li><p><code>fadeTo</code>淡入到···</p><p>三个参数分别为：时间，淡入到（程度），回调函数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'buton'</span>).eq(<span class="number">3</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'div'</span>).fadeTo(<span class="number">1000</span>, <span class="number">0.5</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        alert(<span class="string">'淡入到完毕'</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/d6c8ec1ade608f3a72cc7e4fe740163a.png" alt="" /></p><div class='tip' ><p>弹窗广告案例<p></div><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/c995922d18dbb1eee4571e6fbf96aefd.png" alt="" /></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">            * &#123;</span><br><span class="line">                margin: 0;</span><br><span class="line">                padding: 0;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.ad</span> &#123;</span></span><br><span class="line">                position: fixed;</span><br><span class="line">                right: 0;</span><br><span class="line">                bottom: 0;</span><br><span class="line">                display: none;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.ad</span>&gt;<span class="selector-tag">span</span> &#123;</span></span><br><span class="line">                display: inline-block;</span><br><span class="line">                width: 30px;</span><br><span class="line">                height: 30px;</span><br><span class="line">                position: absolute;</span><br><span class="line">                top: 0;</span><br><span class="line">                right: 0;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">            $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 1. 监听span的点击事件</span></span></span><br><span class="line"><span class="javascript">                $(<span class="string">'span'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">'.ad'</span>).remove()</span></span><br><span class="line">                &#125;)</span><br><span class="line"><span class="actionscript">                <span class="comment">// 2. 执行广告动画</span></span></span><br><span class="line"><span class="javascript">                $(<span class="string">'.ad'</span>).stop().slideDown(<span class="number">1000</span>).fadeOut(<span class="number">1000</span>).fadeIn(<span class="number">1000</span>)</span></span><br><span class="line">            &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"ad"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://ae03.alicdn.com/kf/U2f875afd3ec347f38fc58fc5a091f97dd.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="自定义动画"><a class="markdownIt-Anchor" href="#自定义动画"></a> 自定义动画</h2><p>自定义动画的方法为<code>animate</code>，可接收三个或四个参数：</p><ul><li><p>三个参数</p><p>三个参数分别为动画代码，时长，回调函数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'button'</span>).eq(<span class="number">0</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'.one'</span>).animate(&#123;</span><br><span class="line">        width: <span class="number">500</span></span><br><span class="line">    &#125;, <span class="number">1000</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        alert(<span class="string">'自定义动画执行完毕'</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/e057ae2e86d449b0b814225c34d1ca6c.png" alt="" /></p></li><li><p>四个参数</p><p>四个参数分别表示：</p><ul><li><p>第一个参数</p><p>接收一个对象，可在对象中修改属性</p></li><li><p>第二个参数</p><p>指定动画时长</p></li><li><p>第三个参数</p><p>指定动画节奏，默认是swing</p></li><li><p>第四个参数</p><p>动画执行完毕之后的回调函数</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'button'</span>).eq(<span class="number">0</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'.one'</span>).animate(&#123;</span><br><span class="line">        marginLeft: <span class="number">500</span></span><br><span class="line">    &#125;, <span class="number">5000</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// alert('自定义动画执行完毕')</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">'button'</span>).eq(<span class="number">0</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'.two'</span>).animate(&#123;</span><br><span class="line">        marginLeft: <span class="number">500</span></span><br><span class="line">    &#125;, <span class="number">5000</span>, <span class="string">'linear'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// alert('自定义动画执行完毕')</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/788d410d615fce4f917e98c41dfd183c.png" alt="" /></p></li></ul><p><span class="inline-tag green">累加属性</span></p><p>累加属性就是在原来基础上再次增加。在第一个参数值得位置填写字符传表达式即可。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'button'</span>).eq(<span class="number">1</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'.two'</span>).animate(&#123;</span><br><span class="line">        width: <span class="string">"+=100"</span></span><br><span class="line">    &#125;, <span class="number">1000</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        alert(<span class="string">'自定义动画执行完毕'</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/ab1aa373d8177b5847a13768c1e8c5d0.png" alt="" /></p><p><span class="inline-tag green">关键字</span></p><p>关键字属性即传值时传入关键字，例如 <code>hide</code>,<code>toggle</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'button'</span>).eq(<span class="number">2</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'.two'</span>).animate(&#123;</span><br><span class="line">        <span class="comment">// width: 'hide'</span></span><br><span class="line">        width: <span class="string">'toggle'</span></span><br><span class="line">    &#125;, <span class="number">1000</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        alert(<span class="string">'自定义动画执行完毕'</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/46a6df054ad072c7d2978ab455546f6f.png" alt="" /></p><h2 id="stop方法和delay方法"><a class="markdownIt-Anchor" href="#stop方法和delay方法"></a> stop方法和delay方法</h2><p><code>delay(time)</code>用于延迟动画。例如：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.one'</span>).animate(&#123;</span><br><span class="line">    width: <span class="number">500</span>,</span><br><span class="line">&#125;, <span class="number">1000</span>).delay(<span class="number">2000</span>).animate(&#123;</span><br><span class="line">    height: <span class="number">500</span></span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/eb08fe515de1a856960c10d3a743a848.png" alt="" /></p><p><code>stop(bool)</code>方法表示停止动画，但其可以传入参数：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.one'</span>).animate(&#123;</span><br><span class="line">    width: <span class="number">500</span>,</span><br><span class="line">&#125;, <span class="number">2000</span>).animate(&#123;</span><br><span class="line">    height: <span class="number">500</span></span><br><span class="line">&#125;, <span class="number">2000</span>).animate(&#123;</span><br><span class="line">    height: <span class="number">100</span></span><br><span class="line">&#125;, <span class="number">2000</span>).animate(&#123;</span><br><span class="line">    width: <span class="number">100</span></span><br><span class="line">&#125;, <span class="number">2000</span>)</span><br></pre></td></tr></table></figure><p>例如如上代码，完整的效果为：</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/9a091422cae58b26a09876ad8c70bfe7.png" alt="" /></p><ul><li><p><code>stop(true)</code>与<code>stop(true,false)</code></p><p>立即停止当前所有动画，包括后续动画</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/d0b7b24a5cb88bd8bfb3fcecaa800773.png" alt="" /></p></li><li><p><code>stop()</code>、<code>stop(false)</code>、<code>stop(false,false)</code></p><p>立即停止当前所有动画，继续执行后续的动画</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/f0dc419d9bf86ac76a98a2019c74181c.png" alt="" /></p></li><li><p><code>stop(false,true)</code></p><p>立即完成当前动画，继续执行后续动画</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/59fd8272b8b3164f0febc73dd4bf56d7.png" alt="" /></p></li><li><p><code>stop(true true)</code></p><p>立即完成当前的，并且停止后续所有</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/77f160d79dae7f18574e9bc58a50e417.png" alt="" /></p></li></ul><h2 id="图标特效"><a class="markdownIt-Anchor" href="#图标特效"></a> 图标特效</h2><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/0e001340ef130eda357e877c3cc2f7bc.png" alt="" /></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        * &#123;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ul &#123;</span><br><span class="line">            list-style: none;</span><br><span class="line">            width: 400px;</span><br><span class="line">            height: 250px;</span><br><span class="line"><span class="css">            <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#000</span>;</span></span><br><span class="line">            margin: 100px auto;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ul&gt;li &#123;</span><br><span class="line">            width: 100px;</span><br><span class="line">            height: 50px;</span><br><span class="line">            margin-top: 50px;</span><br><span class="line">            text-align: center;</span><br><span class="line">            float: left;</span><br><span class="line">            overflow: hidden;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ul&gt;li&gt;span &#123;</span><br><span class="line">            display: inline-block;</span><br><span class="line">            width: 24px;</span><br><span class="line">            height: 24px;</span><br><span class="line">            background: url('https://ae02.alicdn.com/kf/U8f6d143a1f9d4323976a7df7486f7e2cT.jpg') no-repeat 0 0;</span><br><span class="line">            position: relative;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 1. 遍历所有li</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">'li'</span>).each(<span class="function"><span class="keyword">function</span> (<span class="params">index, ele</span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> $url = <span class="string">"url('https://ae02.alicdn.com/kf/U8f6d143a1f9d4323976a7df7486f7e2cT.jpg') no-repeat 0 "</span> + index * <span class="number">-24</span> + <span class="string">"px"</span></span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 1.2 设置新的图片位置</span></span></span><br><span class="line"><span class="javascript">                $(<span class="keyword">this</span>).children(<span class="string">'span'</span>).css(<span class="string">'background'</span>, $url)</span></span><br><span class="line">            &#125;)</span><br><span class="line"><span class="actionscript">            <span class="comment">// 2 监听li移入事件</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">'li'</span>).mouseenter(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 2.1 将图片上移</span></span></span><br><span class="line"><span class="javascript">                $(<span class="keyword">this</span>).children(<span class="string">'span'</span>).animate(&#123;</span></span><br><span class="line">                    top: -50</span><br><span class="line"><span class="actionscript">                &#125;, <span class="number">1000</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                    <span class="comment">// 2.2 将图标定位到下方</span></span></span><br><span class="line"><span class="javascript">                    $(<span class="keyword">this</span>).css(<span class="string">'top'</span>, <span class="string">'50px'</span>)</span></span><br><span class="line"><span class="actionscript">                    <span class="comment">// 2.3 将图标复位</span></span></span><br><span class="line"><span class="javascript">                    $(<span class="keyword">this</span>).animate(&#123;</span></span><br><span class="line">                        top: 0</span><br><span class="line">                    &#125;, 1000)</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>百度<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>百度<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>百度<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>百度<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>百度<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>百度<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>百度<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>百度<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="无限循环滚动"><a class="markdownIt-Anchor" href="#无限循环滚动"></a> 无限循环滚动</h2><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/91b5cf89136dfb7105c1e5a8b9c556d7.png" alt="" /></p><ol><li><p>为了让图片无缝衔接，需要在末尾添加与开头两个一模一样的元素。即html元素就变成了</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://ae01.alicdn.com/kf/U1a8fa2929bca4fddb8b38411e9751104b.jpg"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://ae04.alicdn.com/kf/Ue87bb1c5ad4c4c8c9c3a664f3619b126h.jpg"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://ae01.alicdn.com/kf/U3f740877f20040bd8f37c94440f26b569.jpg"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://ae03.alicdn.com/kf/Ua2b193cb94224ed796104020743af8aes.jpg"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://ae01.alicdn.com/kf/U1a8fa2929bca4fddb8b38411e9751104b.jpg"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://ae04.alicdn.com/kf/Ue87bb1c5ad4c4c8c9c3a664f3619b126h.jpg"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>鼠标移入事件</p><p>鼠标移入时，应停止当前动画并且为所有非当前选中的元素添加模板。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 停止动画</span></span><br><span class="line">clearInterval(timer)</span><br><span class="line"><span class="comment">// 给非当前选中添加模板</span></span><br><span class="line">$(<span class="keyword">this</span>).siblings().fadeTo(<span class="number">100</span>, <span class="number">0.5</span>)</span><br></pre></td></tr></table></figure></li><li><p>鼠标移出时</p><p>让图片继续滚动，并且去除所有蒙版</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 继续滚动</span></span><br><span class="line">autoPlay()</span><br><span class="line"><span class="comment">// 去除所有的蒙版</span></span><br><span class="line">$(<span class="string">'li'</span>).fadeTo(<span class="number">100</span>, <span class="number">1</span>)</span><br></pre></td></tr></table></figure></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        * &#123;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        div &#123;</span><br><span class="line">            width: 600px;</span><br><span class="line">            height: 161px;</span><br><span class="line"><span class="css">            <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#000</span>;</span></span><br><span class="line">            margin: 100px auto;</span><br><span class="line">            overflow: hidden;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ul &#123;</span><br><span class="line">            width: 1800px;</span><br><span class="line">            list-style: none;</span><br><span class="line">            height: 161px;</span><br><span class="line"><span class="css">            <span class="selector-tag">background</span>: <span class="selector-id">#000</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ul&gt;li &#123;</span><br><span class="line">            float: left;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 0 定义遍历保存偏移位</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> offset = <span class="number">0</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 1. 让图片滚动起来</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> timer;</span></span><br><span class="line"><span class="actionscript">            <span class="function"><span class="keyword">function</span> <span class="title">autoPlay</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                timer = setInterval(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line">                    offset += -10</span><br><span class="line">                    if (offset &lt;= -1200) &#123;</span><br><span class="line">                        offset = 0</span><br><span class="line">                    &#125;</span><br><span class="line"><span class="javascript">                    $(<span class="string">'ul'</span>).css(<span class="string">'marginLeft'</span>, offset)</span></span><br><span class="line">                &#125;, 50)</span><br><span class="line">            &#125;</span><br><span class="line">            autoPlay()</span><br><span class="line"><span class="actionscript">            <span class="comment">// 2. 监听li的移入和移出事件</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">'li'</span>).hover(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 停止动画</span></span></span><br><span class="line">                clearInterval(timer)</span><br><span class="line"><span class="actionscript">                <span class="comment">// 给非当前选中添加模板</span></span></span><br><span class="line"><span class="javascript">                $(<span class="keyword">this</span>).siblings().fadeTo(<span class="number">100</span>, <span class="number">0.5</span>)</span></span><br><span class="line"><span class="actionscript">            &#125;, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 继续滚动</span></span></span><br><span class="line">                autoPlay()</span><br><span class="line"><span class="actionscript">                <span class="comment">// 去除所有的蒙版</span></span></span><br><span class="line"><span class="javascript">                $(<span class="string">'li'</span>).fadeTo(<span class="number">100</span>, <span class="number">1</span>)</span></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://ae01.alicdn.com/kf/U1a8fa2929bca4fddb8b38411e9751104b.jpg"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://ae04.alicdn.com/kf/Ue87bb1c5ad4c4c8c9c3a664f3619b126h.jpg"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://ae01.alicdn.com/kf/U3f740877f20040bd8f37c94440f26b569.jpg"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://ae03.alicdn.com/kf/Ua2b193cb94224ed796104020743af8aes.jpg"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://ae01.alicdn.com/kf/U1a8fa2929bca4fddb8b38411e9751104b.jpg"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://ae04.alicdn.com/kf/Ue87bb1c5ad4c4c8c9c3a664f3619b126h.jpg"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/
      
    
    </summary>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="JavaScript笔记" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/JavaScript%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/tags/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="笔记" scheme="https://www.antmoe.com/tags/%E7%AC%94%E8%AE%B0/"/>
    
      <category term="JavaScript" scheme="https://www.antmoe.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>四、jQuery事件相关</title>
    <link href="https://www.antmoe.com/posts/9b000468/index.html"/>
    <id>https://www.antmoe.com/posts/9b000468/index.html</id>
    <published>2020-06-16T05:37:58.000Z</published>
    <updated>2020-06-22T10:42:16.885Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h2 id="事件绑定"><a class="markdownIt-Anchor" href="#事件绑定"></a> 事件绑定</h2><p>绑定方式有两种：</p><ol><li><p>直接通过<code>.eventName(fn)</code>方式绑定。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'button'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'hello tzk'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>编码效率高</li><li>部分事件jQuery没有实现</li></ul></li><li><p>通过<code>on(eventName,function)</code>方式绑定</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'button'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'hello tzk'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>编码效率略低</li><li>所有JavaScript事件都可以添加</li></ul></li></ol><div class="note warning icon"><p>注意：以上两种绑定方式均不会被覆盖，并且可以添加多个事件。</p></div><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'button'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'hello tzk'</span>)</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">'button'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="number">123</span>)</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">'button'</span>).mouseleave(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(mouseleave)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/7fd3b6fd229295a551e819254718644f.png" alt="" /></p><h2 id="事件解绑"><a class="markdownIt-Anchor" href="#事件解绑"></a> 事件解绑</h2><p>事件解绑只有一个方法<code>off()</code>，只需要用需要解绑的元素调用此方法即可。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'hello tzk'</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'hello 123'</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$(<span class="string">'button'</span>).click(test1)</span><br><span class="line">$(<span class="string">'button'</span>).click(test2)</span><br><span class="line">$(<span class="string">'button'</span>).mouseleave(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'mouseleave'</span>)</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">'button'</span>).mouseenter(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'mouseenter'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>对于以上事件绑定：</p><ul><li><p>不传入参数</p><p>会移除button元素的<strong>所有</strong>绑定事件。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'button'</span>).off()</span><br></pre></td></tr></table></figure></li><li><p>传入一个参数</p><p>会移除所有指定类型的事件。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'button'</span>).off(<span class="string">'click'</span>)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/2a59202a72fca1da6d00b5a29e7bfa3a.png" alt="" /></p></li><li><p>传入两个参数</p><p>会移除指定类型的指定事件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'button'</span>).off(<span class="string">'click'</span>, test1)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/6311344cbbed392c43f814aa751c898d.png" alt="" /></p></li></ul><h2 id="jquery事件冒泡和默认行为"><a class="markdownIt-Anchor" href="#jquery事件冒泡和默认行为"></a> jQuery事件冒泡和默认行为</h2><ol><li><p>什么是事件冒泡</p><p>当父子级关系时，如果为父级与子级同时绑定事件。当触发子级事件时，也会触发父级事件。</p><p>例如：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"father"</span>&gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"son"</span>&gt;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">        $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="string">'.son'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            alert(<span class="string">'son'</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">        $(<span class="string">'.father'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            alert(<span class="string">'father'</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/e94cf02cd1514248ca2c74857ff177dd.png" alt="" /></p></li><li><p>如何阻止事件冒泡</p><p>在子级事件中添加<code>return false</code>或者<code>event.stopPropagation()</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.son'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'son'</span>)</span><br><span class="line">    <span class="comment">// return false</span></span><br><span class="line">    event.stopPropagation()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>阻止事件冒泡一定要在子级添加。</p></blockquote></li><li><p>什么是默认行为</p><p>默认行为指一些标签默认的行为，例如a标签默认跳转网页。</p></li><li><p>如何阻止默认行为</p><p>两种方式。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'a'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'弹出注册框'</span>)</span><br><span class="line">    <span class="comment">// return false</span></span><br><span class="line">    event.preventDefault()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ol><h2 id="事件自动触发"><a class="markdownIt-Anchor" href="#事件自动触发"></a> 事件自动触发</h2><p>事件自动触发有两个方法，参数传入为字符串形式的事件名称。</p><ol><li><p><code>trigger</code></p><ul><li><p>会触发事件冒泡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.son'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'son'</span>)</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">'.father'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'father'</span>)</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">'.son'</span>).trigger(<span class="string">'click'</span>)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/d351511bae1996c8e4b1b092ccd11e4f.png" alt="" /></p></li><li><p>不会阻止默认行为</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'input[type="submit"]'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'被点击了！'</span>)</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">'input[type="submit"]'</span>).trigger(<span class="string">'click'</span>)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/2b5f812db82e65909cf684a437de89cf.png" alt="" /></p></li></ul></li><li><p><code>triggerHandler</code></p><ul><li><p>不会触发事件冒泡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.son'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'son'</span>)</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">'.father'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'father'</span>)</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">'.son'</span>).triggerHandler(<span class="string">"click"</span>)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/8ae9de6b5500914db6c46ace4df2f3d9.png" alt="" /></p></li><li><p>会阻止默认行为</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'input[type="submit"]'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'被点击了！'</span>)</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">'input[type="submit"]'</span>).triggerHandler(<span class="string">'click'</span>)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/0d012ead137f2edd721403bd627b71c9.png" alt="" /></p></li></ul></li></ol><div class="snote idea yellow"><p>a标签的默认行为</p></div><p>对a标签设置自动事件时，无法触发其默认行为。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'a'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'a'</span>)</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">'a'</span>).trigger(<span class="string">'click'</span>)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/4a6a7430ebfad38e9929f9b9dc4a37d2.png" alt="" /></p><p>如果想要触发其默认行为则需要如下更改：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://baidu.com"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>注册<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'span'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'a'</span>)</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">'span'</span>).trigger(<span class="string">'click'</span>)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/a6991f7e66c1eb670fa97f91050a0941.png" alt="" /></p><h2 id="自定义事件"><a class="markdownIt-Anchor" href="#自定义事件"></a> 自定义事件</h2><p>自定义事件需要满足的条件：</p><ol><li><p>只能通过<code>on</code>绑定事件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.son'</span>).on(<span class="string">'myClick'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'son'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>事件必须通过<code>trigger</code>触发</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.son'</span>).trigger(<span class="string">'myclick'</span>)</span><br></pre></td></tr></table></figure></li></ol><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/afe5f8576d11a198b45c224bb5ab9777.png" alt="" /></p><h2 id="事件命名空间"><a class="markdownIt-Anchor" href="#事件命名空间"></a> 事件命名空间</h2><p>想要使事件的命名空间有效，必须满足两个条件</p><ol><li><p>事件是通过<code>on</code>来绑定的</p><p>用<code>.Name</code>的方式区分是谁添加的。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.son'</span>).on(<span class="string">'myClick.zs'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'son'</span>)</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">'.son'</span>).on(<span class="string">'myClick.ls'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'son'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>通过<code>trigger()</code>触发事件</p><ul><li><p>触发两个事件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.son'</span>).trigger(<span class="string">'myClick'</span>)</span><br></pre></td></tr></table></figure></li><li><p>只触发某一个</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 将事件名称填写完整即可</span></span><br><span class="line">$(<span class="string">'.son'</span>).trigger(<span class="string">'myClick.ls'</span>)</span><br></pre></td></tr></table></figure></li></ul></li></ol><div class="snote idea yellow"><p>面试题（细节）</p></div><ol><li><p>利用<code>trigger</code>触发子元素带命名空间的事件，那么父元素带相同命名空间的事件也会被触发，而父元素没有命名空间的事件不会被触发</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.father'</span>).on(<span class="string">'myClick.ls'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'father click1'</span>)</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">'.father'</span>).on(<span class="string">'myClick'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'father click2'</span>)</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">'.son'</span>).on(<span class="string">'myClick.ls'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'son click1'</span>)</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">'.son'</span>).trigger(<span class="string">'myClick.ls'</span>)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/bd2e7685f75ad832b2c0e042ba3654be.png" alt="" /></p></li><li><p>利用<code>trigger</code>触发子元素不带命名空间的事件，那么子元素所有相同类型的事件和父元素所有相同类型的事件都会被触发</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.father'</span>).on(<span class="string">'myClick.ls'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'father click1'</span>)</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">'.father'</span>).on(<span class="string">'myClick'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'father click2'</span>)</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">'.son'</span>).on(<span class="string">'myClick.ls'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'son click1'</span>)</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">'.son'</span>).trigger(<span class="string">'myClick'</span>)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/eb593b93a1a5d3cbafb9dc4a76079a2a.png" alt="" /></p></li></ol><h2 id="事件委托"><a class="markdownIt-Anchor" href="#事件委托"></a> 事件委托</h2><ol><li><p>什么是事件委托</p><p>请别人帮忙做事情，然后将昨晚的结果反馈给我们</p></li></ol><p>将<code>li</code>的点击事件委托给<code>ul</code>元素监听。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'ul'</span>).delegate(<span class="string">'li'</span>, <span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log($(<span class="keyword">this</span>).html())</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><div class="snote msg cyan"><p>利用事件委托完成弹出框</p></div><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/07bfdaffed6d985bc66755ed14dae711.png" alt="" /></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">            * &#123;</span><br><span class="line">                margin: 0;</span><br><span class="line">                padding: 0;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            html,</span><br><span class="line">            body &#123;</span><br><span class="line">                width: 100%;</span><br><span class="line">                height: 100%;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.mask</span> &#123;</span></span><br><span class="line">                width: 100%;</span><br><span class="line">                height: 100%;</span><br><span class="line"><span class="css">                <span class="selector-tag">background</span>: <span class="selector-tag">rgba</span>(0, 0, 0, <span class="selector-class">.5</span>);</span></span><br><span class="line">                position: fixed;</span><br><span class="line">                left: 0;</span><br><span class="line">                top: 0;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.login</span> &#123;</span></span><br><span class="line">                width: 570px;</span><br><span class="line"><span class="css">                <span class="comment">/* height: 290px; */</span></span></span><br><span class="line">                margin: 100px auto;</span><br><span class="line">                position: relative;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.login</span>&gt;<span class="selector-tag">span</span> &#123;</span></span><br><span class="line">                width: 50px;</span><br><span class="line">                height: 50px;</span><br><span class="line">                position: absolute;</span><br><span class="line">                top: 0;</span><br><span class="line">                right: 0;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">            $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">'a'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">                    var $mask = $('<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"mask"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>= <span class="string">"login"</span> &gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://ae01.alicdn.com/kf/U0acca6abe69449398ddbe1f56f032ecaw.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>')</span></span></span><br><span class="line"><span class="javascript">                    $(<span class="string">'body'</span>).append($mask)</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">'body'</span>).delegate(<span class="string">'.login&gt;span'</span>, <span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line">                        $mask.remove()</span><br><span class="line">                    &#125;)</span><br><span class="line"><span class="actionscript">                    <span class="keyword">return</span> <span class="literal">false</span></span></span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;)</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;div class="mask"&gt;</span></span><br><span class="line"><span class="comment">&lt;div class="login"&gt;</span></span><br><span class="line"><span class="comment">&lt;img src="https://ae01.alicdn.com/kf/U0acca6abe69449398ddbe1f56f032ecaw.jpg" alt=""&gt;</span></span><br><span class="line"><span class="comment">&lt;span&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="comment">&lt;/div&gt;</span></span><br><span class="line"><span class="comment">&lt;/div&gt; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://www.baidu.com"</span>&gt;</span>注册<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落</span><br><span class="line">            我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落</span><br><span class="line">            我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落</span><br><span class="line">            我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落</span><br><span class="line">            我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落</span><br><span class="line">            我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落</span><br><span class="line">            我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落</span><br><span class="line">            我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落</span><br><span class="line">            我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落</span><br><span class="line">            我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落</span><br><span class="line">            我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落我是段落</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="移入移出事件"><a class="markdownIt-Anchor" href="#移入移出事件"></a> 移入移出事件</h2><p>移入事件<code>mouseover</code>移出事件<code>mouseout</code>。这种方法 子元素被移入移出也会触发父元素的事件。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'.father'</span>).mouseover(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'鼠标移入了'</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">    $(<span class="string">'.father'</span>).mouseout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'鼠标移出了'</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/c066274855eeb99e2f6aa5b555ab7c69.png" alt="" /></p><p>为了解决以上问题，jQuery提供了另外两个方法：鼠标移入<code>mouseenter</code>和鼠标移出<code>mouseleave</code>。</p><div class="snote idea yellow"><p>同时监听移入与移出</p></div><p>使用的方法为<code>hover</code>，这个方法可以接收一个或两个参数，并且不会子元素被移入移出也会触发父元素的事件。</p><ul><li><p>一个参数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.father'</span>).hover(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'移入/移除 执行的函数'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>一个参数代表移入移出都执行此函数。</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/b7d337f6646f84724206efdec75f0721.png" alt="" /></p></li><li><p>两个参数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.father'</span>).hover(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'移入执行的函数'</span>)</span><br><span class="line">&#125;, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'移出执行的函数'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>第一个参数代表移入时执行的函数，第二个参数代表移出时执行的函数。</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/bfc3ad3f3e645299682732002f02ac52.png" alt="" /></p></li></ul><h2 id="电影排行榜案例"><a class="markdownIt-Anchor" href="#电影排行榜案例"></a> 电影排行榜案例</h2><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/68a5f2a1ecf51f7a433448c63a98752b.png" alt="" /></p><div class='tip success'><p>实现思路<p></div><ol><li>将内容DIV设置为隐藏</li><li>当鼠标移入后将隐藏的div显示出来</li><li>当鼠标移出后将显示的div隐藏起来</li></ol><p><span class="inline-tag blue">直译方式</span></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'li'</span>).mouseenter(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="keyword">this</span>).addClass(<span class="string">'current'</span>)</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">'li'</span>).mouseleave(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="keyword">this</span>).removeClass(<span class="string">'current'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><span class="inline-tag blue">简化方式1</span></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'li'</span>).hover(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="keyword">this</span>).addClass(<span class="string">'current'</span>)</span><br><span class="line">&#125;, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="keyword">this</span>).removeClass(<span class="string">'current'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><span class="inline-tag blue">简化方式2</span></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'li'</span>).hover(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="keyword">this</span>).toggleClass(<span class="string">'current'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><div class="snote success"><p>完整代码</p></div><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        * &#123;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.box</span> &#123;</span></span><br><span class="line">            width: 300px;</span><br><span class="line">            height: 450px;</span><br><span class="line">            margin: 50px auto;</span><br><span class="line"><span class="css">            <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#000</span>;</span></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.box</span>&gt;<span class="selector-tag">h1</span> &#123;</span></span><br><span class="line">            font-size: 20px;</span><br><span class="line">            line-height: 35px;</span><br><span class="line">            color: deeppink;</span><br><span class="line">            padding-left: 10px;</span><br><span class="line"><span class="css">            <span class="selector-tag">border-bottom</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">dashed</span> <span class="selector-id">#ccc</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ul&gt;li &#123;</span><br><span class="line">            list-style: none;</span><br><span class="line">            padding: 5px 10px;</span><br><span class="line"><span class="css">            <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">dashed</span> <span class="selector-id">#ccc</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-tag">ul</span>&gt;<span class="selector-tag">li</span><span class="selector-pseudo">:nth-child(-n+3)</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line">            background-color: deeppink;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ul&gt;li&gt;span &#123;</span><br><span class="line">            display: inline-block;</span><br><span class="line">            height: 20px;</span><br><span class="line">            width: 20px;</span><br><span class="line"><span class="css">            <span class="selector-tag">background</span>: <span class="selector-id">#ccc</span>;</span></span><br><span class="line">            text-align: center;</span><br><span class="line">            line-height: 20px;</span><br><span class="line">            margin-right: 10px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.content</span> &#123;</span></span><br><span class="line">            overflow: hidden;</span><br><span class="line">            margin-top: 5px;</span><br><span class="line">            display: none;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.content</span>&gt;<span class="selector-tag">img</span> &#123;</span></span><br><span class="line">            width: 80px;</span><br><span class="line">            height: 120px;</span><br><span class="line">            float: left;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.content</span>&gt;<span class="selector-tag">p</span> &#123;</span></span><br><span class="line">            width: 180px;</span><br><span class="line">            height: 120px;</span><br><span class="line">            float: right;</span><br><span class="line">            font-size: 12px;</span><br><span class="line">            line-height: 20px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.current</span> <span class="selector-class">.content</span> &#123;</span></span><br><span class="line">            display: block;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">'li'</span>).hover(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="keyword">this</span>).toggleClass(<span class="string">'current'</span>)</span></span><br><span class="line">            &#125;)</span><br><span class="line"><span class="actionscript">            <span class="comment">// $('li').mouseenter(function () &#123;</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">//     $(this).addClass('current')</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// &#125;)</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// $('li').mouseleave(function () &#123;</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">//     $(this).removeClass('current')</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// &#125;)</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// $('li').hover(function () &#123;</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">//     $(this).addClass('current')</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// &#125;, function () &#123;</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">//     $(this).removeClass('current')</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// &#125;)</span></span></span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>电影排行榜<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>1<span class="tag">&lt;/<span class="name">span</span>&gt;</span>电影名称</span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/d0efe1580ab93f0e6b1a04bb07a8259f.png"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">p</span>&gt;</span>测试文字哈哈哈<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>2<span class="tag">&lt;/<span class="name">span</span>&gt;</span>电影名称<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/d0efe1580ab93f0e6b1a04bb07a8259f.png"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">p</span>&gt;</span>测试文字哈哈哈<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>3<span class="tag">&lt;/<span class="name">span</span>&gt;</span>电影名称<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/d0efe1580ab93f0e6b1a04bb07a8259f.png"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">p</span>&gt;</span>测试文字哈哈哈<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>4<span class="tag">&lt;/<span class="name">span</span>&gt;</span>电影名称<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/d0efe1580ab93f0e6b1a04bb07a8259f.png"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">p</span>&gt;</span>测试文字哈哈哈<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>5<span class="tag">&lt;/<span class="name">span</span>&gt;</span>电影名称<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/d0efe1580ab93f0e6b1a04bb07a8259f.png"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">p</span>&gt;</span>测试文字哈哈哈<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="tab选项卡"><a class="markdownIt-Anchor" href="#tab选项卡"></a> Tab选项卡</h2><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/16/16cd6e47005402ae5b80172cde71ce59.png" alt="" /></p><p><span class="inline-tag blue">实现思路</span></p><ol><li><p>HTML结构</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"nav"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"current"</span>&gt;</span>123<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>123<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>123<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>123<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"show"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://ae02.alicdn.com/kf/U5303870feaa24803b2a9debcfb260c79T.jpg"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://ae02.alicdn.com/kf/U3e7e3e14488d431b9b1178ddddc1fdd4T.jpg"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://ae01.alicdn.com/kf/U0b5025b6d75b45c1a2590c1fdc6d5bcbq.jpg"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://ae01.alicdn.com/kf/U7015657127cf4f8dbd19d9f03fd38636F.jpg"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>基本思路</p><ul><li><p>监听鼠标移入事件</p><ol><li>修改被移入选项卡的背景颜色</li><li>获取当前移入选项卡的索引</li><li>根据索引找到对应的图片</li><li>显示找到的图片</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.nav&gt;li'</span>).mouseenter(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 1.1 修改被移入选项卡的背景颜色</span></span><br><span class="line">    $(<span class="keyword">this</span>).addClass(<span class="string">'current'</span>)</span><br><span class="line">    <span class="comment">// 1.2 获取当前移入选项卡的索引</span></span><br><span class="line">    <span class="keyword">var</span> index = $(<span class="keyword">this</span>).index()</span><br><span class="line">    <span class="built_in">console</span>.log(index)</span><br><span class="line">    <span class="comment">// 1.3 根据索引找到对应的图片</span></span><br><span class="line">    <span class="keyword">var</span> $li = $(<span class="string">'.content&gt;li'</span>).eq(index)</span><br><span class="line">    <span class="comment">// 1.4 显示找到的图片</span></span><br><span class="line">    $li.addClass(<span class="string">'show'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>监听鼠标移出事件</p><ol><li>还原被移入选项卡的背景颜色</li><li>获取当前移出选项卡的索引</li><li>根据索引找到对应图片</li><li>隐藏图片</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.nav&gt;li'</span>).mouseleave(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 1.1 还原被移入选项卡的背景颜色</span></span><br><span class="line">    $(<span class="keyword">this</span>).removeClass(<span class="string">'current'</span>)</span><br><span class="line">    <span class="comment">// 1.2 获取当前移出选项卡的索引</span></span><br><span class="line">    <span class="keyword">var</span> index = $(<span class="keyword">this</span>).index()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1.3 根据索引找到对应图片</span></span><br><span class="line">    <span class="keyword">var</span> $li = $(<span class="string">'.content&gt;li'</span>).eq(index)</span><br><span class="line">    <span class="comment">// 1.4 隐藏图片</span></span><br><span class="line">    $li.removeClass(<span class="string">'show'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul></li><li><p>对于实现tab选项卡的简单思路</p><p>主要用到<code>siblings()</code>方法，该方法取得一个包含匹配的元素集合中每一个元素的所有唯一同辈元素的元素集合。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.nav&gt;li'</span>).mouseenter(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 1.1 修改被移入选项卡的背景颜色</span></span><br><span class="line">    $(<span class="keyword">this</span>).addClass(<span class="string">'current'</span>)</span><br><span class="line">    <span class="comment">// 1.2 还原其他兄弟选项卡的颜色</span></span><br><span class="line">    $(<span class="keyword">this</span>).siblings().removeClass(<span class="string">'current'</span>)</span><br><span class="line">    <span class="comment">// 1.3 获取当前移入选项卡的索引</span></span><br><span class="line">    <span class="keyword">var</span> index = $(<span class="keyword">this</span>).index()</span><br><span class="line">    <span class="comment">// 1.4 根据索引找到对应的图片</span></span><br><span class="line">    <span class="keyword">var</span> $li = $(<span class="string">'.content&gt;li'</span>).eq(index)</span><br><span class="line">    <span class="comment">// 1.5 隐藏兄弟图片</span></span><br><span class="line">    $li.siblings().removeClass(<span class="string">'show'</span>)</span><br><span class="line">    <span class="comment">// 1.6 显示找到的图片</span></span><br><span class="line">    $li.addClass(<span class="string">'show'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ol><div class="snote success"><p>完整代码</p></div><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">            * &#123;</span><br><span class="line">                margin: 0;</span><br><span class="line">                padding: 0;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.box</span> &#123;</span></span><br><span class="line">                width: 440px;</span><br><span class="line">                height: 298px;</span><br><span class="line">                margin: 50px auto;</span><br><span class="line"><span class="css">                <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#000</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.nav</span>&gt;<span class="selector-tag">li</span> &#123;</span></span><br><span class="line">                list-style: none;</span><br><span class="line">                width: 110px;</span><br><span class="line">                height: 50px;</span><br><span class="line">                background: orange;</span><br><span class="line">                text-align: center;</span><br><span class="line">                float: left;</span><br><span class="line">                line-height: 50px;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.nav</span>&gt;<span class="selector-class">.current</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">background</span>: <span class="selector-id">#ccc</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.content</span>&gt;<span class="selector-tag">li</span> &#123;</span></span><br><span class="line">                list-style: none;</span><br><span class="line">                display: none;</span><br><span class="line">                text-align: center;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.content</span>&gt;<span class="selector-class">.show</span> &#123;</span></span><br><span class="line">                display: block;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.content</span>&gt;<span class="selector-tag">li</span>&gt;<span class="selector-tag">img</span> &#123;</span></span><br><span class="line">                width: 240px;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">            $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line">                /*</span><br><span class="line"><span class="actionscript">            <span class="comment">// 1. 监听选项卡的移入事件</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">'.nav&gt;li'</span>).mouseenter(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 1.1 修改被移入选项卡的背景颜色</span></span></span><br><span class="line"><span class="javascript">                $(<span class="keyword">this</span>).addClass(<span class="string">'current'</span>)</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 1.2 获取当前移入选项卡的索引</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> index = $(<span class="keyword">this</span>).index()</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(index)</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 1.3 根据索引找到对应的图片</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> $li = $(<span class="string">'.content&gt;li'</span>).eq(index)</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 1.4 显示找到的图片</span></span></span><br><span class="line"><span class="actionscript">                $li.addClass(<span class="string">'show'</span>)</span></span><br><span class="line">            &#125;)</span><br><span class="line"><span class="actionscript">            <span class="comment">// 1. 监听选项卡的移出事件</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">'.nav&gt;li'</span>).mouseleave(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 1.1 还原被移入选项卡的背景颜色</span></span></span><br><span class="line"><span class="javascript">                $(<span class="keyword">this</span>).removeClass(<span class="string">'current'</span>)</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 1.2 获取当前移出选项卡的索引</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> index = $(<span class="keyword">this</span>).index()</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">                <span class="comment">// 1.3 根据索引找到对应图片</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> $li = $(<span class="string">'.content&gt;li'</span>).eq(index)</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 1.4 隐藏图片</span></span></span><br><span class="line"><span class="actionscript">                $li.removeClass(<span class="string">'show'</span>)</span></span><br><span class="line">            &#125;)</span><br><span class="line">            */</span><br><span class="line"><span class="actionscript">                <span class="comment">// 1. 监听选项卡的移入事件</span></span></span><br><span class="line"><span class="javascript">                $(<span class="string">'.nav&gt;li'</span>).mouseenter(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                    <span class="comment">// 1.1 修改被移入选项卡的背景颜色</span></span></span><br><span class="line"><span class="javascript">                    $(<span class="keyword">this</span>).addClass(<span class="string">'current'</span>)</span></span><br><span class="line"><span class="actionscript">                    <span class="comment">// 1.2 还原其他兄弟选项卡的颜色</span></span></span><br><span class="line"><span class="javascript">                    $(<span class="keyword">this</span>).siblings().removeClass(<span class="string">'current'</span>)</span></span><br><span class="line"><span class="actionscript">                    <span class="comment">// 1.3 获取当前移入选项卡的索引</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> index = $(<span class="keyword">this</span>).index()</span></span><br><span class="line"><span class="actionscript">                    <span class="comment">// 1.4 根据索引找到对应的图片</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> $li = $(<span class="string">'.content&gt;li'</span>).eq(index)</span></span><br><span class="line"><span class="actionscript">                    <span class="comment">// 1.5 隐藏兄弟图片</span></span></span><br><span class="line"><span class="actionscript">                    $li.siblings().removeClass(<span class="string">'show'</span>)</span></span><br><span class="line"><span class="actionscript">                    <span class="comment">// 1.6 显示找到的图片</span></span></span><br><span class="line"><span class="actionscript">                    $li.addClass(<span class="string">'show'</span>)</span></span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;)</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"nav"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"current"</span>&gt;</span>123<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>123<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>123<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>123<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"show"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://ae02.alicdn.com/kf/U5303870feaa24803b2a9debcfb260c79T.jpg"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://ae02.alicdn.com/kf/U3e7e3e14488d431b9b1178ddddc1fdd4T.jpg"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://ae01.alicdn.com/kf/U0b5025b6d75b45c1a2590c1fdc6d5bcbq.jpg"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://ae01.alicdn.com/kf/U7015657127cf4f8dbd19d9f03fd38636F.jpg"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/
      
    
    </summary>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="JavaScript笔记" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/JavaScript%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/tags/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="笔记" scheme="https://www.antmoe.com/tags/%E7%AC%94%E8%AE%B0/"/>
    
      <category term="JavaScript" scheme="https://www.antmoe.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>三、jQuery属性操作</title>
    <link href="https://www.antmoe.com/posts/262cdd19/index.html"/>
    <id>https://www.antmoe.com/posts/262cdd19/index.html</id>
    <published>2020-06-15T06:05:58.000Z</published>
    <updated>2020-06-22T10:42:16.885Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h2 id="jquery内容选择器"><a class="markdownIt-Anchor" href="#jquery内容选择器"></a> jQuery内容选择器</h2><p>为了方便测试，先将DOM元素写为以下格式：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>我是div<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>我是div123<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><ol><li><p><code>:empty</code>找到既没有文本内容也没有子元素的指定元素。</p><p><em>这个选择器对于以上内容只能找到第一个div。</em></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> $div = $(<span class="string">'div:empty'</span>)</span><br><span class="line"><span class="built_in">console</span>.log($div)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/15/7a245ffc65436d81ebb2875b9647d9f3.png" alt="image-20200615142932500" /></p></li><li><p><code>:parent</code> 找到有文本内容或有子元素的指定元素</p><p><em>可以找到除第一个意外的四个元素</em></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> $div = $(<span class="string">'div:parent'</span>)</span><br><span class="line"><span class="built_in">console</span>.log($div)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/15/d6774408d217ff78660c94fe964ac9e6.png" alt="" /></p></li><li><p><code>:contains(text)</code>找到包含指定文本内容的指定元素</p><p><em>视内容找到包含内容的div</em></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> $div = $(<span class="string">'div:contains("我是div123")'</span>)</span><br><span class="line"><span class="built_in">console</span>.log($div)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/15/31e6aadb60a87f1589f604a866403b7c.png" alt="image-20200615143646748" /></p></li><li><p><code>:has(selector)</code>找到包含指定子元素的指定元素</p><p><em>视搜索内容找到包含此子元素的元素</em></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> $div = $(<span class="string">'div:has("span")'</span>)</span><br><span class="line"><span class="built_in">console</span>.log($div)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/15/e49d3e536eb5aa8a172947838aa73369.png" alt="image-20200615143837461" /></p></li></ol><h2 id="属性和属性节点"><a class="markdownIt-Anchor" href="#属性和属性节点"></a> 属性和属性节点</h2><ol><li><p>什么是属性</p><p>对象身上保存的变量就是属性</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person()</span><br><span class="line">p.name = <span class="string">'tzk'</span></span><br></pre></td></tr></table></figure></li><li><p>如何操作属性</p><p>对象.属性名称 = 值</p><p>对象.属性名称</p><p>对象[‘属性名称’] = 值</p><p>对象[‘属性名称’]</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 赋值属性</span></span><br><span class="line">p[<span class="string">'name'</span>] = <span class="string">'tzk'</span></span><br><span class="line"><span class="comment">// 获取属性</span></span><br><span class="line"><span class="built_in">console</span>.log(p.name)</span><br></pre></td></tr></table></figure></li><li><p>什么是属性节点</p><p><code>&lt;span name='xiaokang'&gt;&lt;/span&gt;</code> 在编写HTML代码时，在HTML标签中添加的属性就是属性节点。</p><p>在浏览器中找到<code>span</code>这个DOM元素之后，展开看到的都是属性。</p><p>在attributes属性中保持的所有内容都是属性节点。</p></li><li><p>操作属性节点</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> span = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'span'</span>)[<span class="number">0</span>]</span><br><span class="line"><span class="comment">// 设置属性</span></span><br><span class="line">span.setAttribute(<span class="string">'name'</span>, <span class="string">'tzk'</span>)</span><br><span class="line"><span class="comment">// 获取属性</span></span><br><span class="line"><span class="built_in">console</span>.log(span.getAttribute(<span class="string">'name'</span>))</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/15/1d920febfe1d7bc0c5e75e858bd8b046.png" alt="image-20200615145341815" /></p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/15/1d920febfe1d7bc0c5e75e858bd8b046.png" alt="" /></p></li><li><p>属性和属性节点的区别</p><p>任何对象都有属性，但只有DOM对象才有属性节点</p></li></ol><h2 id="attr方法"><a class="markdownIt-Anchor" href="#attr方法"></a> attr方法</h2><ol><li><p><code>attr(name|pro|key,val|fn)</code>方法</p><ul><li><p>获取或者设置属性节点的值</p></li><li><p>参数</p><ul><li><p>可以传递一个参数，代表获取节点的值</p><p>无论找到多少个元素，只会返回第一个元素指定的属性节点的值。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">            $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log($(<span class="string">"span"</span>).attr(<span class="string">'class'</span>)) <span class="comment">// span1</span></span></span><br><span class="line">            &#125;)</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"span1"</span> <span class="attr">name</span>=<span class="string">'name1'</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"span2"</span> <span class="attr">name</span>=<span class="string">'name2'</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>也可以传递两个参数，设置属性节点的值</p><p>如果设置值，找到多少个元素就会设置多少个元素。</p><p>如果设置的节点不存在，那么会新增该属性。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">            $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">'span'</span>).attr(<span class="string">'class'</span>, <span class="string">'box'</span>)</span></span><br><span class="line">            &#125;)</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"span1"</span> <span class="attr">name</span>=<span class="string">'name1'</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"span2"</span> <span class="attr">name</span>=<span class="string">'name2'</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul></li></ul></li><li><p><code>removeAttr(name)</code>节点</p><ul><li><p>删除属性节点</p></li><li><p>参数</p><p>会删除所有找到元素指定的属性节点</p><ul><li><p>删除一个节点</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">            $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">'span'</span>).removeAttr(<span class="string">'class'</span>)</span></span><br><span class="line">            &#125;)</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"span1"</span> <span class="attr">name</span>=<span class="string">'name1'</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"span2"</span> <span class="attr">name</span>=<span class="string">'name2'</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/15/745a70c62bd755cb16ec7bbc04ba39fa.png" alt="image-20200615151335448" /></p></li><li><p>删除多个属性</p><p>只需要在传递参数时用空格隔开即可。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'span'</span>).removeAttr(<span class="string">'class name'</span>)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/15/8914eafe82f1703f5f6ad9fd39034bb3.png" alt="image-20200615151424496" /></p></li></ul></li></ul></li></ol><h2 id="prop方法"><a class="markdownIt-Anchor" href="#prop方法"></a> prop方法</h2><p><code>prop</code>方法与<code>attr</code>方法一致。</p><ol><li><p>设置或新增属性</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"span"</span>).eq(<span class="number">0</span>).prop(<span class="string">'demo'</span>, <span class="string">'name1'</span>)</span><br><span class="line">$(<span class="string">"span"</span>).eq(<span class="number">1</span>).prop(<span class="string">'demo'</span>, <span class="string">'tzk'</span>)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/15/914cffd3aa644a1057208025dd631ee4.png" alt="image-20200615152658852" /></p></li><li><p>获取属性</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($(<span class="string">'span'</span>).prop(<span class="string">'demo'</span>)) <span class="comment">//name1</span></span><br></pre></td></tr></table></figure></li><li><p>删除属性</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"span"</span>).removeProp(<span class="string">'demo'</span>)</span><br></pre></td></tr></table></figure></li><li><p>操作属性节点</p><p>官方推荐在操作属性节点时，具有<code>true</code>和<code>false</code>两个属性的属性节点，如<code>checked</code>, <code>selected</code>或者<code>disabled</code>使用<code>prop()</code>,其他的使用<code>attr()</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($(<span class="string">'.input1'</span>).prop(<span class="string">'checked'</span>)) <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log($(<span class="string">'.input1'</span>).attr(<span class="string">'checked'</span>)) <span class="comment">//checked</span></span><br><span class="line"><span class="built_in">console</span>.log($(<span class="string">'.input2'</span>).prop(<span class="string">'checked'</span>)) <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log($(<span class="string">'.input2'</span>).attr(<span class="string">'checked'</span>)) <span class="comment">//undefined</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="图片切换的小案例"><a class="markdownIt-Anchor" href="#图片切换的小案例"></a> 图片切换的小案例</h3><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/15/a1c0a76f7ee40839aec3b74bc70feaf2.png" alt="" /></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 编写jQuery相关代码</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 1. 给按钮添加点击事件</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'button'</span>)[<span class="number">0</span>]</span></span><br><span class="line"><span class="actionscript">            btn.onclick = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 2. 获取输入框输入的内容</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> input = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'input'</span>)[<span class="number">0</span>]</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> text = input.value</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 3. 修改img的src属性节点的值</span></span></span><br><span class="line"><span class="javascript">                $(<span class="string">'img'</span>).attr(<span class="string">'src'</span>, text)</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// $('img').prop('src', text)</span></span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>切换图片<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://www.baidu.com/img/dongsc_eb45d000832f8e889ff64951eaf7f381.gif"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="jquery类操作相关方法"><a class="markdownIt-Anchor" href="#jquery类操作相关方法"></a> jQuery类操作相关方法</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">            * &#123;</span><br><span class="line">                margin: 0;</span><br><span class="line">                padding: 0;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.class1</span> &#123;</span></span><br><span class="line">                width: 100px;</span><br><span class="line">                height: 100px;</span><br><span class="line">                background: red;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.class2</span> &#123;</span></span><br><span class="line">                border: 5px solid black</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">            $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btns = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'button'</span>)</span></span><br><span class="line">                &#125;)</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span>&gt;</span>添加类<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span>&gt;</span>删除类<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span>&gt;</span>切换类<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><ol><li><p>添加与删除类</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">btns[<span class="number">0</span>].onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 添加多个类用空格隔开</span></span><br><span class="line">    $(<span class="string">'div'</span>).addClass(<span class="string">'class1 class2'</span>)</span><br><span class="line">&#125;</span><br><span class="line">btns[<span class="number">1</span>].onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 删除多个类用空格隔开</span></span><br><span class="line">    $(<span class="string">'div'</span>).removeClass(<span class="string">'class1 class2'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/15/ae14a1b25cde0b55c306e4928676b34f.png" alt="" /></p></li><li><p>切换类</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">btns[<span class="number">2</span>].onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 多个用空格隔开</span></span><br><span class="line">    $(<span class="string">'div'</span>).toggleClass(<span class="string">'class1 class2'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/15/61e500b7479c6c596b162ceab4901e42.png" alt="" /></p></li></ol><h2 id="文本值相关操作"><a class="markdownIt-Anchor" href="#文本值相关操作"></a> 文本值相关操作</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">            * &#123;</span><br><span class="line">                margin: 0;</span><br><span class="line">                padding: 0;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            div &#123;</span><br><span class="line">                width: 100px;</span><br><span class="line">                height: 100px;</span><br><span class="line"><span class="css">                <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#000</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">            $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btns = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'button'</span>)</span></span><br><span class="line">                &#125;)</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span>&gt;</span>设置HTML<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span>&gt;</span>获取HTML<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span>&gt;</span>设置text<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span>&gt;</span>获取text<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span>&gt;</span>设置value<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span>&gt;</span>获取text<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><ol><li><p><code>html([val|fn])</code>，用于设置元素的html元素。</p><p>类似原生js中的<code>innerHTML</code>方法</p><ul><li><p>如果传入参数，则代表将当前元素的html修改为参数输入内容</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">btns[<span class="number">0</span>].onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'div'</span>).html(<span class="string">'&lt;p&gt;我是一个段落&lt;span&gt;我是一个span&lt;/span&gt;&lt;/p&gt;'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/15/51944b3da54a4a33f5f3387187466bc5.png" alt="image-20200615174005610" /></p></li><li><p>如果不传入参数，则代表获取当前元素的HTML代码。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">btns[<span class="number">1</span>].onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log($(<span class="string">'div'</span>).html())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/15/dafdc3f6282ea863069836ac8cfc5186.png" alt="" /></p></li></ul></li><li><p><code>text([val|fn])</code></p><p>类似原生js中的<code>innerText</code>方法。参数传入与<code>html()</code>方法一模一样</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">btns[<span class="number">2</span>].onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'div'</span>).text(<span class="string">'&lt;p&gt;我是一个段落&lt;span&gt;我是一个span&lt;/span&gt;&lt;/p&gt;'</span>)</span><br><span class="line">&#125;</span><br><span class="line">btns[<span class="number">3</span>].onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log($(<span class="string">'div'</span>).text())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/15/ecda8d11282ce6210348c04cb76ffea5.png" alt="" /></p></li><li><p><code>val([val|fn|arr])</code></p><p>与value属性类似。参数传入与前两种一模一样。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">btns[<span class="number">4</span>].onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'input'</span>).val(<span class="string">'请输入内容：'</span>)</span><br><span class="line">&#125;</span><br><span class="line">btns[<span class="number">5</span>].onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'input'</span>).val()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/15/24b96be6f8e034f4045c85f2ee162082.png" alt="" /></p></li></ol><h2 id="操作样式方法"><a class="markdownIt-Anchor" href="#操作样式方法"></a> 操作样式方法</h2><ol><li><p>设置属性值</p><ul><li><p>逐个设置</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'div'</span>).css(<span class="string">'width'</span>, <span class="string">'100px'</span>)</span><br><span class="line">$(<span class="string">'div'</span>).css(<span class="string">'height'</span>, <span class="string">'100px'</span>)</span><br><span class="line">$(<span class="string">'div'</span>).css(<span class="string">'background'</span>, <span class="string">'red'</span>)</span><br></pre></td></tr></table></figure></li><li><p>链式设置</p><p>如果大于3步，建议分开</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'div'</span>).css(<span class="string">'width'</span>, <span class="string">'100px'</span>).css(<span class="string">'height'</span>, <span class="string">'100px'</span>).css(<span class="string">'background'</span>, <span class="string">'blue'</span>)</span><br></pre></td></tr></table></figure></li><li><p>批量设置</p><p>参数可以传入一个对象，对象内传入css样式。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'div'</span>).css(&#123;</span><br><span class="line">    width: <span class="string">'100px'</span>,</span><br><span class="line">    height: <span class="string">'100px'</span>,</span><br><span class="line">    background: <span class="string">'red'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul></li><li><p>获取css样式。</p><p>传入参数即需要获取的样式名称。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($(<span class="string">'div'</span>).css(<span class="string">'width'</span>))</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/15/00792e5e8293230db6f67e6f8397159c.png" alt="image-20200615180236759" /></p></li></ol><h2 id="尺寸和位置相关"><a class="markdownIt-Anchor" href="#尺寸和位置相关"></a> 尺寸和位置相关</h2><h3 id="尺寸"><a class="markdownIt-Anchor" href="#尺寸"></a> 尺寸</h3><p>以<code>width()</code>方法为例。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">            * &#123;</span><br><span class="line">                margin: 0;</span><br><span class="line">                padding: 0;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.father</span> &#123;</span></span><br><span class="line">                width: 200px;</span><br><span class="line">                height: 200px;</span><br><span class="line"><span class="css">                <span class="selector-tag">border</span>: 50<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#000</span>;</span></span><br><span class="line">                background: red;</span><br><span class="line">                margin-left: 50px;</span><br><span class="line">                position: relative;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.son</span> &#123;</span></span><br><span class="line">                width: 100px;</span><br><span class="line">                height: 100px;</span><br><span class="line">                background: blue;</span><br><span class="line">                position: absolute;</span><br><span class="line">                left: 50px;</span><br><span class="line">                top: 50px;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">            $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btns = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'button'</span>)</span></span><br><span class="line"><span class="actionscript">                btns[<span class="number">0</span>].onclick = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                    <span class="comment">// 获取元素的宽度</span></span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log($(<span class="string">'.father'</span>).width()) <span class="comment">//200</span></span></span><br><span class="line">                &#125;</span><br><span class="line"><span class="actionscript">                btns[<span class="number">1</span>].onclick = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log($(<span class="string">'.father'</span>).width(<span class="string">'500px'</span>))</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"father"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"son"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span>&gt;</span>获取<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span>&gt;</span>设置<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/15/32c2ed9a615e012ead7c6a2ffeafbb19.png" alt="" /></p><h3 id="位置"><a class="markdownIt-Anchor" href="#位置"></a> 位置</h3><ol><li><p><code>offset()</code>获取距离<strong>窗口</strong>的偏移位。</p><ul><li><p>获取</p><p>例如获取距离左边的偏移位<code>$('div').offset().left</code></p></li><li><p>设置</p><p>参数内传入一个对象，对象内写需要设置的属性</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">btns[<span class="number">1</span>].onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'.son'</span>).offset(&#123;</span><br><span class="line">        left: <span class="number">10</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">            * &#123;</span><br><span class="line">                margin: 0;</span><br><span class="line">                padding: 0;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.father</span> &#123;</span></span><br><span class="line">                width: 200px;</span><br><span class="line">                height: 200px;</span><br><span class="line"><span class="css">                <span class="selector-tag">border</span>: 50<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#000</span>;</span></span><br><span class="line">                background: red;</span><br><span class="line">                margin-left: 50px;</span><br><span class="line">                position: relative;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.son</span> &#123;</span></span><br><span class="line">                width: 100px;</span><br><span class="line">                height: 100px;</span><br><span class="line">                background: blue;</span><br><span class="line">                position: absolute;</span><br><span class="line">                left: 50px;</span><br><span class="line">                top: 50px;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">            $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btns = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'button'</span>)</span></span><br><span class="line"><span class="actionscript">                btns[<span class="number">0</span>].onclick = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log($(<span class="string">'.son'</span>).offset().left) <span class="comment">//150</span></span></span><br><span class="line">                &#125;</span><br><span class="line"><span class="actionscript">                btns[<span class="number">1</span>].onclick = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">'.son'</span>).offset(&#123;</span></span><br><span class="line">                        left: 10</span><br><span class="line">                    &#125;)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"father"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"son"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span>&gt;</span>获取<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span>&gt;</span>设置<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/15/00b11eca3c7cb76223e7ad9b5271eb2b.png" alt="" /></p></li><li><p><code>position</code>获取元素距离<strong>定位</strong>元素的偏移位</p><p>该方法只有获取不能设置，但可以通过css方式进行设置</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        * &#123;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.father</span> &#123;</span></span><br><span class="line">            width: 200px;</span><br><span class="line">            height: 200px;</span><br><span class="line"><span class="css">            <span class="selector-tag">border</span>: 50<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#000</span>;</span></span><br><span class="line">            background: red;</span><br><span class="line">            margin-left: 50px;</span><br><span class="line">            position: relative;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.son</span> &#123;</span></span><br><span class="line">            width: 100px;</span><br><span class="line">            height: 100px;</span><br><span class="line">            background: blue;</span><br><span class="line">            position: absolute;</span><br><span class="line">            left: 50px;</span><br><span class="line">            top: 50px;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> btns = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'button'</span>)</span></span><br><span class="line"><span class="actionscript">            btns[<span class="number">0</span>].onclick = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log($(<span class="string">'.son'</span>).position().left) <span class="comment">//50</span></span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="actionscript">            btns[<span class="number">1</span>].onclick = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 无法设置，即使设置也不生效</span></span></span><br><span class="line"><span class="javascript">                $(<span class="string">'.son'</span>).position(&#123;</span></span><br><span class="line">                    left: 10</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"father"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"son"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>获取<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>设置<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/15/c64aa854b3b115cc5935730ad171a882.png" alt="" /></p></li></ol><h2 id="scrolltop方法"><a class="markdownIt-Anchor" href="#scrolltop方法"></a> scrollTop方法</h2><ol><li><p>获取滚动偏移量</p><ul><li><p>元素</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">btns[<span class="number">0</span>].onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log($(<span class="string">'.scroll'</span>).scrollTop())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>网页</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($(<span class="string">'html'</span>).scrollTop())</span><br></pre></td></tr></table></figure><p>IE浏览器下可能无法获取，需要将<code>html</code>换成<code>body</code>。常用写法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($(<span class="string">'html'</span>).scrollTop()+$(<span class="string">'body'</span>).scrollTop())</span><br></pre></td></tr></table></figure></li></ul></li><li><p>设置滚动偏移量</p><p>参数传入为整型，而不是字符串类型。</p><ul><li><p>元素</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">btns[<span class="number">1</span>].onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'.scroll'</span>).scrollTop(<span class="number">300</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>网页</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'html'</span>).scrollTop(<span class="number">300</span>)</span><br></pre></td></tr></table></figure><p>同样的IE浏览器不可使用，需要对<code>body</code>进行设置。通常写法如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'html,body'</span>).scrollTop(<span class="number">300</span>)</span><br></pre></td></tr></table></figure></li></ul></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/
      
    
    </summary>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="JavaScript笔记" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/JavaScript%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/tags/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="笔记" scheme="https://www.antmoe.com/tags/%E7%AC%94%E8%AE%B0/"/>
    
      <category term="JavaScript" scheme="https://www.antmoe.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>二、jQuery核心函数和工具方法</title>
    <link href="https://www.antmoe.com/posts/3d87a83a/index.html"/>
    <id>https://www.antmoe.com/posts/3d87a83a/index.html</id>
    <published>2020-06-14T11:52:58.000Z</published>
    <updated>2020-06-22T10:42:16.885Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h2 id="jquery核心函数"><a class="markdownIt-Anchor" href="#jquery核心函数"></a> jQuery核心函数</h2><p>jQuery的核心函数就是<code>$();</code>，圆括号内可以传递函数、字符串选择器、字符串代码片段、DOM元素等。</p><ul><li><p>传递函数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="number">1</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>字符串选择器</p><p>返回一个jQuery对象，对象中保存了找到的DOM元素</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> $box1 = $(<span class="string">".box1"</span>)</span><br><span class="line">    <span class="keyword">var</span> $box2 = $(<span class="string">"#box2"</span>)</span><br><span class="line">    <span class="built_in">console</span>.log($box1)</span><br><span class="line">    <span class="built_in">console</span>.log($box2)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/14/e1c565e92f84e41e4b2d1e3597bcc696.png" alt="image-20200614170145458" /></p></li><li><p>字符串代码片段</p><p>返回一个jQuery对象，对象中保存了创建的DOM元素</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> $p = $(<span class="string">'&lt;p&gt;我是段落&lt;/p&gt;'</span>)</span><br><span class="line">    <span class="built_in">console</span>.log($p)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/14/0423d06a705af89ab702ca6d1d7a8915.png" alt="image-20200614170314789" /></p></li><li><p>接收一个DOM元素</p><p>DOM元素会被包装成一个jQuery对象返回。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> span = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'span'</span>)[<span class="number">0</span>]</span><br><span class="line">    <span class="built_in">console</span>.log(span)</span><br><span class="line">    <span class="keyword">var</span> $span = $(span)</span><br><span class="line">    <span class="built_in">console</span>.log($span)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/14/76eef71ab7a6494f83aeb8c60d942176.png" alt="image-20200614170407589" /></p></li></ul><h2 id="jquery对象"><a class="markdownIt-Anchor" href="#jquery对象"></a> jQuery对象</h2><p>jQuery对象是一个伪数组对象（有0到<code>length-1</code>的属性，并且有<code>length</code>属性）</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> $div = $(<span class="string">'div'</span>)</span><br><span class="line">    <span class="built_in">console</span>.log($div)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/14/d7c4735e949be667c47fc47b4d061f77.png" alt="image-20200614171552037" /></p><h2 id="静态方法与实例方法"><a class="markdownIt-Anchor" href="#静态方法与实例方法"></a> 静态方法与实例方法</h2><ol><li><p>静态方法通过类名调用</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 定义一个类</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">AClass</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 2. 给这个类添加一个静态方法</span></span><br><span class="line"><span class="comment">// 直接添加给类的就是静态方法</span></span><br><span class="line">AClass.staticMethod = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'staticMethod'</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 静态方法通过类名调用</span></span><br><span class="line">AClass.staticMethod();</span><br></pre></td></tr></table></figure></li><li><p>实例方法通过对象调用</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个类</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">AClass</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 给这个类添加一个实例方法</span></span><br><span class="line">AClass.prototype.instanceMethod = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'instanceMethod'</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建一个实例（创建一个对象）</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> AClass()</span><br><span class="line"><span class="comment">// 实例方法通过类的实例调用</span></span><br><span class="line">a.instanceMethod()</span><br></pre></td></tr></table></figure></li></ol><h3 id="each方法"><a class="markdownIt-Anchor" href="#each方法"></a> each方法</h3><p><span class="inline-tag red">原生forEach方法</span>可以遍历数组，但<strong>不可以</strong>遍历伪数组。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>]</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">        原生遍历：</span></span><br><span class="line"><span class="comment">        第一个参数：遍历到的元素</span></span><br><span class="line"><span class="comment">        第二个参数，遍历到的索引</span></span><br><span class="line"><span class="comment">        注意：原生forEach只能遍历数组，不能遍历伪数组</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">arr.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">value, index</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(index, value)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 伪数组测试</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123; <span class="number">0</span>: <span class="number">1</span>, <span class="number">1</span>: <span class="number">3</span>, <span class="number">2</span>: <span class="number">5</span>, <span class="number">3</span>: <span class="number">7</span>, <span class="number">4</span>: <span class="number">7</span>, <span class="attr">length</span>: <span class="number">5</span> &#125;</span><br><span class="line">obj.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">value, index</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(index, value)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/14/f0b2f3b1183aba2bbb2dc8a039e9fc22.png" alt="image-20200614173946296" /></p><p><span class="inline-tag red">jQuery的each方法</span>既可以遍历数组，又可以遍历伪数组</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>]</span><br><span class="line"><span class="keyword">var</span> obj = &#123; <span class="number">0</span>: <span class="number">1</span>, <span class="number">1</span>: <span class="number">3</span>, <span class="number">2</span>: <span class="number">5</span>, <span class="number">3</span>: <span class="number">7</span>, <span class="number">4</span>: <span class="number">7</span>, <span class="attr">length</span>: <span class="number">5</span> &#125;       </span><br><span class="line">$.each(arr, <span class="function"><span class="keyword">function</span> (<span class="params">index, value</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(index, value)</span><br><span class="line">&#125;)</span><br><span class="line">$.each(obj, <span class="function"><span class="keyword">function</span> (<span class="params">index, value</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(index, value)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/14/216245118a6348f80b982bb876b6c10d.png" alt="image-20200614174726345" /></p><h3 id="map方法"><a class="markdownIt-Anchor" href="#map方法"></a> map方法</h3><p><span class="inline-tag red">原生map方法</span>可以遍历数组，但<strong>不可以</strong>遍历伪数组。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>]</span><br><span class="line"><span class="keyword">var</span> obj = &#123; <span class="number">0</span>: <span class="number">1</span>, <span class="number">1</span>: <span class="number">3</span>, <span class="number">2</span>: <span class="number">5</span>, <span class="number">3</span>: <span class="number">7</span>, <span class="number">4</span>: <span class="number">7</span>, <span class="attr">length</span>: <span class="number">5</span> &#125;</span><br><span class="line"><span class="comment">// 1. 利用原生的JS的map方法遍历</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">        第一个参数：当前遍历到的元素</span></span><br><span class="line"><span class="comment">        第二个参数：当前遍历到的索引</span></span><br><span class="line"><span class="comment">        第三个参数：当前被遍历的数组</span></span><br><span class="line"><span class="comment">        注意点：</span></span><br><span class="line"><span class="comment">        不能遍历伪数组</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">arr.map(<span class="function"><span class="keyword">function</span> (<span class="params">value, index, arr</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value, index, arr)</span><br><span class="line">&#125;)</span><br><span class="line">obj.map(<span class="function"><span class="keyword">function</span> (<span class="params">value, index, arr</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value, index, arr)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/14/18d3ddfe7b9dfae91c9970dab771b124.png" alt="image-20200614175627420" /></p><p><span class="inline-tag red">jQuery的map方法</span>既可以遍历数组，又可以遍历伪数组</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>]</span><br><span class="line"><span class="keyword">var</span> obj = &#123; <span class="number">0</span>: <span class="number">1</span>, <span class="number">1</span>: <span class="number">3</span>, <span class="number">2</span>: <span class="number">5</span>, <span class="number">3</span>: <span class="number">7</span>, <span class="number">4</span>: <span class="number">7</span>, <span class="attr">length</span>: <span class="number">5</span> &#125;     </span><br><span class="line">$.map(arr, <span class="function"><span class="keyword">function</span> (<span class="params">value, index</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value, index)</span><br><span class="line">&#125;)</span><br><span class="line">$.map(obj, <span class="function"><span class="keyword">function</span> (<span class="params">value, index</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value, index)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/14/8d6a1d498ba018d11d5e8c664577d0ab.png" alt="image-20200614180008323" /></p><div class='tip warning'><p>jQuery中的each静态方法和map静态方法的区别<p></div><ol><li><p><code>each</code>静态方法默认的返回值就是遍历谁就返回谁，而<code>map</code>静态方法默认的返回值就是一个空数组</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/14/b30d27c683b841479b4bd20c3bb6f872.png" alt="image-20200614180820494" /></p></li><li><p><code>each</code>静态方法不支持在回调函数中对遍历的数组进行处理，<code>map</code>静态方法可以在回调函数中通过<code>return</code>对遍历的数组进行处理</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/14/95bf288647e60c22ade4b4fe3fe31ac9.png" alt="image-20200614181236869" /></p></li></ol><h3 id="去掉字符串首尾空格"><a class="markdownIt-Anchor" href="#去掉字符串首尾空格"></a> 去掉字符串首尾空格</h3><p><code>$.trim(str)</code>，该方法返回一个新的字符串。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'    tzk    '</span></span><br><span class="line"><span class="keyword">var</span> $res = $.trim(str)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'---'</span> + str + <span class="string">'---'</span>) <span class="comment">// ---    tzk    ---</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'---'</span> + $res + <span class="string">'---'</span>) <span class="comment">// ---tzk---</span></span><br></pre></td></tr></table></figure><h3 id="判断传入的对象是否是window对象"><a class="markdownIt-Anchor" href="#判断传入的对象是否是window对象"></a> 判断传入的对象是否是window对象</h3><p><code>$.isWindow(obj)</code>，该方法返回一个布尔值。如果传入对象是window则返回true，否则返回false。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> w = <span class="built_in">window</span></span><br><span class="line"><span class="keyword">var</span> res = $.isWindow(w);</span><br><span class="line"><span class="built_in">console</span>.log(res) <span class="comment">//true</span></span><br></pre></td></tr></table></figure><h3 id="判断是否为数组"><a class="markdownIt-Anchor" href="#判断是否为数组"></a> 判断是否为数组</h3><p><code>$.isArray(arr)</code>，该方法返回一个布尔值，只有数组才会返回true，其他类型均返回false（包括伪数组）。</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/14/00ae825e0828ba1ca45966fc08c3fd3f.png" alt="image-20200614182558781" /></p><h3 id="判断是否为函数"><a class="markdownIt-Anchor" href="#判断是否为函数"></a> 判断是否为函数</h3><p><code>$.isFunction(fn)</code>，该方法返回一个布尔值。只有是一个函数时，才会返回true。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> res = $.isFunction(fn)</span><br></pre></td></tr></table></figure><div class="snote red"><p>jQuery的本质上就是一个函数。</p></div><h3 id="暂停ready的执行"><a class="markdownIt-Anchor" href="#暂停ready的执行"></a> 暂停ready的执行</h3><p>默认情况下当页面加载完毕，JQuery的ready入口函数将会自动执行。<code>$.holdReady(true)</code>可以暂停入口函数的执行，而<code>$.holdReady(false)</code>可以恢复执行。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// $.holdReady(true) 暂停ready执行</span></span></span><br><span class="line"><span class="javascript">            $.holdReady(<span class="literal">true</span>)</span></span><br><span class="line"><span class="javascript">            $(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                alert(<span class="string">'ready'</span>)</span></span><br><span class="line">            &#125;);</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span>&gt;</span>回复ready事件<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'button'</span>)[<span class="number">0</span>]</span></span><br><span class="line"><span class="actionscript">            btn.onclick = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                $.holdReady(<span class="literal">false</span>)</span></span><br><span class="line">            &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/14/c40188001dacad4e0807d141cbbe9d69.png" alt="" /></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/
      
    
    </summary>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="JavaScript笔记" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/JavaScript%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/tags/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="笔记" scheme="https://www.antmoe.com/tags/%E7%AC%94%E8%AE%B0/"/>
    
      <category term="JavaScript" scheme="https://www.antmoe.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>一、初识jQuery</title>
    <link href="https://www.antmoe.com/posts/45fed360/index.html"/>
    <id>https://www.antmoe.com/posts/45fed360/index.html</id>
    <published>2020-06-13T11:52:58.000Z</published>
    <updated>2020-06-22T10:42:16.885Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h2 id="版本选择"><a class="markdownIt-Anchor" href="#版本选择"></a> 版本选择</h2><p><a href="https://code.jquery.com/" target="_blank" rel="noopener">1.x</a>：兼容ie678，但相对其它版本文件较大，官方只做BUG维护，功能不再新增，最终版本：1.12.4 (2016年5月20日).</p><p><a href="https://code.jquery.com/" target="_blank" rel="noopener">2.x</a>：不兼容ie678，相对1.x文件较小，官方只做BUG维护，功能不再新增，最终版本：2.2.4 (2016年5月20日)</p><p><a href="https://code.jquery.com/" target="_blank" rel="noopener">3.x</a>：不兼容ie678，只支持最新的浏览器，很多老的jQuery插件不支持这个版本，相对1.x文件较小，提供不包含Ajax/动画API版本。</p><h2 id="jquery的使用"><a class="markdownIt-Anchor" href="#jquery的使用"></a> jQuery的使用</h2><ol><li>下载jQuery或者使用cdn</li><li>引入jQuery的文件</li><li>编写代码</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">            alert(<span class="string">'hello tzk'</span>)</span></span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="jquery和js的加载模式"><a class="markdownIt-Anchor" href="#jquery和js的加载模式"></a> jQuery和JS的加载模式</h2><ol><li><p>通过原生JS和jQuery都可以拿到DOM元素，及图片的宽高</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 1. 通过原生的js入口函数可以拿到DOM元素</span></span><br><span class="line">    <span class="keyword">var</span> img = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'img'</span>)[<span class="number">0</span>]</span><br><span class="line">    <span class="built_in">console</span>.log(img)</span><br><span class="line">    <span class="comment">// 2. 通过原生的JS入口函数可以拿到DOM元素的宽高</span></span><br><span class="line">    <span class="keyword">var</span> width = <span class="built_in">window</span>.getComputedStyle(img).width</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'onload: '</span>, width)</span><br><span class="line">&#125;</span><br><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 1. 通过JQuery入口函数可以拿到DOM元素</span></span><br><span class="line">    <span class="keyword">var</span> $img = $(<span class="string">'img'</span>)</span><br><span class="line">    <span class="built_in">console</span>.log($img)</span><br><span class="line">    <span class="comment">// 2. 通过JQuery入口函数可以拿到DOM元素的宽高</span></span><br><span class="line">    <span class="keyword">var</span> $width = $img.width()</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'ready: '</span>, $width)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/13/8e61ae4e2e3d2d012ae906e655d7b30e.png" alt="image-20200613204348555" /></p></li><li><p>原生的JS如果编写了多个入口函数，后面编写的会覆盖原来的。而jQuery不会覆盖</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'hello tzk1'</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'hello tzk2'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>只会弹出hello tzk2</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'hello tzk1'</span>)</span><br><span class="line">&#125;);</span><br><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'hello tzk2'</span>)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>hello tzk1与hello tzk2都会弹出。</p></li></ol><h2 id="jquery入口函数的其他写法"><a class="markdownIt-Anchor" href="#jquery入口函数的其他写法"></a> jQuery入口函数的其他写法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 第一种写法</span></span><br><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'hello tzk'</span>)</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 第二种写法</span></span><br><span class="line">jQuery(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'hello tzk'</span>)</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 第三种写法(推荐)</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'hello tzk'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 第四种写法</span></span><br><span class="line">jQuery(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'hello tzk'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>jQuery的四种写法中，推荐使用第三种写法。</p><h2 id="jquery的冲突问题"><a class="markdownIt-Anchor" href="#jquery的冲突问题"></a> jQuery的冲突问题</h2><ol><li><p>释放<code>$</code>符号</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">jQuery.noConflict()</span><br><span class="line">jQuery(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'hello tzk'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li><p>释放操作必须在编写其他<code>JQuery</code>代码之前编写</p></li><li><p>释放之后就不能在使用<code>$</code>,改为使用<code>jQuery</code></p></li></ul></li><li><p>自定义访问符号</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> nj = jQuery.noConflict()</span><br><span class="line">nj(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'hello tzk'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/
      
    
    </summary>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="JavaScript笔记" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/JavaScript%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/tags/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="笔记" scheme="https://www.antmoe.com/tags/%E7%AC%94%E8%AE%B0/"/>
    
      <category term="JavaScript" scheme="https://www.antmoe.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript中的继承链</title>
    <link href="https://www.antmoe.com/posts/aec8c165/index.html"/>
    <id>https://www.antmoe.com/posts/aec8c165/index.html</id>
    <published>2020-06-09T09:00:58.000Z</published>
    <updated>2020-06-22T10:42:16.885Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h2 id="继承链"><a class="markdownIt-Anchor" href="#继承链"></a> 继承链</h2><table><thead><tr><th style="text-align:center">类别</th><th>备注</th><th style="text-align:center"><code>constructor</code></th><th style="text-align:center"><code>prototype</code></th><th style="text-align:center"><code>__poroto__</code></th></tr></thead><tbody><tr><td style="text-align:center">（构造）函数</td><td>函数即对象</td><td style="text-align:center">指向Function</td><td style="text-align:center">指向一个constructor为自身的空对象</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">对象</td><td></td><td style="text-align:center">指向创建该对象的构造函数</td><td style="text-align:center"></td><td style="text-align:center">源于创建该对象的构造函数的显式原型</td></tr><tr><td style="text-align:center">Function</td><td>是所有构造器的源头</td><td style="text-align:center">指向自身</td><td style="text-align:center">对象的constructor指向自身</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">Object</td><td><code>Object.prototype</code>是所有原型的源头</td><td style="text-align:center">指向Function</td><td style="text-align:center">是一个constructor指向自身的空对象</td><td style="text-align:center"></td></tr></tbody></table><p>参考于：</p><div class="justified-gallery"><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/09/e1718f233f681dfecf4c8c1ae29a5ebd.png" alt="10-11" /></p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/09/9bccd4cd9ddebeb734c21264535caef6.png" alt="lALPGp4a6oGudk_NA6TNA8s_971_932.png_720x720q90g" /></p>          </div><h2 id="面向对象的继承"><a class="markdownIt-Anchor" href="#面向对象的继承"></a> 面向对象的继承</h2><ol><li><p>基于对象的原型实现</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">object.__proto__ &#x3D; obj</span><br></pre></td></tr></table></figure><p>指向一个对象</p></li><li><p>基于构造函数的原型实现</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Object.prototype</span><br></pre></td></tr></table></figure><p>指向一个空对象</p></li></ol><h3 id="继承常见的几种方式"><a class="markdownIt-Anchor" href="#继承常见的几种方式"></a> 继承常见的几种方式</h3><ul><li>原型链继承: 原型与对象继承; 只继承于原型<br />问题:<ol><li>实际上并不是真正的继承, 其实是多个构造函数之间共享一个对象(属性和方法)</li><li>创建子类的对象时, 不能向父级的构造函数传递任何参数。</li></ol></li><li>原型式继承</li><li>借助构造函数: apply() 或 call() 方法<br />问题: this 的传递</li><li>组合方式继承: 原型链 + 构造函数</li></ul><h2 id="面向对象"><a class="markdownIt-Anchor" href="#面向对象"></a> 面向对象</h2><h3 id="对象"><a class="markdownIt-Anchor" href="#对象"></a> 对象</h3><div class='tip' ><p>创建对象的方式<p></div><ol><li><p>构造函数方式</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>()</span><br></pre></td></tr></table></figure></li><li><p>直接量方式</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">"lilei"</span>,</span><br><span class="line">  sayMe: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"this is lilei"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><div class='tip' ><p>构造器(constructor)<p></div><p>对象的构造器都是指向创建该对象的构造函数。例如以下示例代码:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> foo = <span class="keyword">new</span> Foo()</span><br></pre></td></tr></table></figure><p>上述示例代码中的 foo 对象的构造器就是 Foo。</p><div class='tip' ><p>隐式原型(__proto__)<p></div><p>对象的隐式原型与创建该对象的构造函数的显式原型是指向同一个对象。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> foo = <span class="keyword">new</span> Foo()</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(foo.__proto__ === Foo.prototype)</span><br></pre></td></tr></table></figure><h3 id="函数"><a class="markdownIt-Anchor" href="#函数"></a> 函数</h3><div class='tip' ><p>函数创建方式<p></div><ol><li><p>直接量方式</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fun = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</span><br></pre></td></tr></table></figure><p>与 JavaScript 中的变量是存在关系，例如以下示例代码:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fun = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> fun = <span class="string">'this is text'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(fun) <span class="comment">// 'this is text'</span></span><br></pre></td></tr></table></figure><p>上述示例代码存在覆盖问题。</p></li><li><p>初始化器方式</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>&#123;&#125;</span><br></pre></td></tr></table></figure></li><li><p>构造函数方式</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fun = <span class="keyword">new</span> <span class="built_in">Function</span>()</span><br></pre></td></tr></table></figure><p>上述示例代码说明函数是一个 Function 类型的对象。</p></li></ol><div class='tip' ><p>函数的特性<p></div><ol><li>函数可能与变量之间存在关系(直接量方式定义函数时)</li><li>函数与构造函数允许同时存在的</li><li>函数是一个 Function 类型的对象</li></ol><div class='tip' ><p>显式原型(prototype)<p></div><p>构造函数的显式原型与利用该构造函数所创建对象的隐式原型是指向同一个对象。</p><div class='tip' ><p>构造器(constructor)<p></div><p>函数的构造器就是 Function。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(fun.constructor === <span class="built_in">Function</span>)</span><br></pre></td></tr></table></figure><div class='tip' ><p>隐式原型(__proto__)<p></div><p>函数的隐式原型与 Function 的显式原型是指向同一个对象。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/
      
    
    </summary>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="JavaScript笔记" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/JavaScript%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/tags/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="笔记" scheme="https://www.antmoe.com/tags/%E7%AC%94%E8%AE%B0/"/>
    
      <category term="JavaScript" scheme="https://www.antmoe.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript下的算法基础</title>
    <link href="https://www.antmoe.com/posts/b166df35/index.html"/>
    <id>https://www.antmoe.com/posts/b166df35/index.html</id>
    <published>2020-06-05T11:33:58.000Z</published>
    <updated>2020-06-22T10:42:16.889Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h2 id="前言声明"><a class="markdownIt-Anchor" href="#前言声明"></a> 前言声明</h2><p>此篇文章的学习内容来自博主<a href="https://me.csdn.net/whitsats" target="_blank" rel="noopener">whitsats</a>的算法基础课程。</p><h2 id="hash-两数之和"><a class="markdownIt-Anchor" href="#hash-两数之和"></a> Hash-两数之和</h2><div class="snote quote"><p class='p subtitle'>题目</p><p>给定一个整数数组<code>nums</code>和一个目标值<code>target</code>，请你在该数组中找出和为目标值的那两个整数，并返回他们的数组下标。</p><p>你可以假设每种输入只会对应一个答案。但是，数组中同一个元素不能使用两遍。</p><p>示例:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">给定 nums &#x3D; [2, 7, 11, 15], target &#x3D; 9</span><br><span class="line">因为 nums[0] + nums[1] &#x3D; 2 + 7 &#x3D; 9</span><br><span class="line">所以返回 [0, 1]</span><br></pre></td></tr></table></figure></div><div class='tip success'><p>接替思路<p></div><div class="snote idea yellow"><p>第一种方式：暴力破解</p></div><p>这种方式很简单，挨个遍历寻找合适的即可。这种方式的时间复杂度为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">twoSum</span>(<span class="params">arr, tar</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; arr.length; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (arr[i] + arr[j] === tar) &#123;</span><br><span class="line">        <span class="keyword">return</span> [arr[i], arr[j]];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">2</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">15</span>],</span><br><span class="line">  tar = <span class="number">9</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(twoSum(arr, tar)); <span class="comment">// [ 2, 7 ]</span></span><br></pre></td></tr></table></figure><div class="snote idea yellow"><p>第二种方式：利用反转键值-数组减少查询时间</p></div><p>将新数组作为 Hash 表来使用，记录原数组值和键的对应关系，然后与外层循环的差值做比较。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> twoSum = <span class="function"><span class="keyword">function</span> (<span class="params">nums, target</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> arr = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> temp = target - nums[i];</span><br><span class="line">    <span class="comment">// 新数组中有无记录原数组的值恰好等于差值，如果有，则根据这个值，取出在原数组中的键</span></span><br><span class="line">    <span class="keyword">if</span> (arr[temp] != <span class="literal">undefined</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> [arr[temp], i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 如果没有，则将索引和值反转并记录</span></span><br><span class="line">    arr[nums[i]] = i;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">2</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">15</span>],</span><br><span class="line">  tar = <span class="number">17</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(twoSum(arr, tar)); <span class="comment">// [ 0, 3 ]</span></span><br></pre></td></tr></table></figure><p>这种方式较为巧妙，大体运行方式：</p><ul><li><p>第一遍循环</p><p>将arr数组索引2位置记录为0。其代表当结果为2时，所对应的索引为0。</p></li><li><p>第二遍循环</p><p>将arr数组索引6位置记录为1。其代表当结果为6时，所对应的索引为1。</p></li><li><p>循环完成</p></li></ul><p>每次进入循环都会进行判断：arr数组的结果索引是否为空，如果不为空，那么值即为索引。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/
      
    
    </summary>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="JavaScript算法" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/JavaScript%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/tags/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="笔记" scheme="https://www.antmoe.com/tags/%E7%AC%94%E8%AE%B0/"/>
    
      <category term="JavaScript" scheme="https://www.antmoe.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>23严格模式</title>
    <link href="https://www.antmoe.com/posts/2b6d1b24/index.html"/>
    <id>https://www.antmoe.com/posts/2b6d1b24/index.html</id>
    <published>2020-06-05T07:00:58.000Z</published>
    <updated>2020-06-22T10:42:16.885Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h2 id="概述"><a class="markdownIt-Anchor" href="#概述"></a> 概述</h2><h3 id="严格模式是什么"><a class="markdownIt-Anchor" href="#严格模式是什么"></a> 严格模式是什么</h3><p>严格模式是Javascript中的一种限制性更强的変种方式。严格模式不是一个子集：它在语义上与正常代码有着明显的差异。</p><p>不支持严格模式的刘览器与支持严格模式的浏览器行为上也不一样，所以不要在未经严格模式特性测试情况下使用严格模式。</p><p>严格模式可以与非严格模式共存，所以脚本可以逐渐的选择性加入严格模式。</p><h3 id="严格模式的目的"><a class="markdownIt-Anchor" href="#严格模式的目的"></a> 严格模式的目的</h3><p>首先，严格模式会将Javascript陷阱直接变成明显的错误。</p><p>其次，严格模式修正了一些引擎难以优化的错误：同样的代码有些时候严格模式会比非严格模式下更快</p><p>第三，严格模式禁用了一些有可能在未来版本中定义的语法。</p><h2 id="开启严格模式"><a class="markdownIt-Anchor" href="#开启严格模式"></a> 开启严格模式</h2><h3 id="全局开启严格模式"><a class="markdownIt-Anchor" href="#全局开启严格模式"></a> 全局开启严格模式</h3><p>只需要在全局写以下字符串即可。作用于全局作用域</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line">a = <span class="number">100</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br></pre></td></tr></table></figure><h3 id="函数开启严格模式"><a class="markdownIt-Anchor" href="#函数开启严格模式"></a> 函数开启严格模式</h3><p>在函数内写以下字符串即可。只作用于函数作用域。例如：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">  "use strict"</span>;</span><br><span class="line">  v = <span class="number">200</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(v);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="变量"><a class="markdownIt-Anchor" href="#变量"></a> 变量</h2><h3 id="禁止意外创建变量"><a class="markdownIt-Anchor" href="#禁止意外创建变量"></a> 禁止意外创建变量</h3><ol><li><p>非严格模式</p><p>在函数作用域中定义变量，不适用var关键字那么自动将其提升为全局变量。例如：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  w = <span class="number">200</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(w); <span class="comment">//200</span></span><br><span class="line">&#125;</span><br><span class="line">fn();</span><br><span class="line"><span class="built_in">console</span>.log(w); <span class="comment">//200</span></span><br></pre></td></tr></table></figure></li><li><p>严格模式下</p><p>在严格模式下则会抛出异常</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 在函数作用域中定义变量 - 不适用var关键字-&gt; 自动将其提升为全局变量</span></span><br><span class="line">  w = <span class="number">200</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(w); </span><br><span class="line">&#125;</span><br><span class="line">fn();</span><br><span class="line"><span class="built_in">console</span>.log(w); </span><br><span class="line"><span class="comment">// v = 100;</span></span><br><span class="line"><span class="comment">//   ^</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="静默失败转为异常"><a class="markdownIt-Anchor" href="#静默失败转为异常"></a> 静默失败转为异常</h3><p>所谓静默失败就是既不报错也没有任何效果，例如改变常量的值。在严格模式下，静默失败会转换成抛出异常。</p><p>例如：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个常量</span></span><br><span class="line"><span class="keyword">const</span> v = <span class="number">3.14</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 重新赋值</span></span><br><span class="line">v = <span class="number">1.14</span>;</span><br><span class="line"><span class="built_in">console</span>.log(v);</span><br></pre></td></tr></table></figure><p>以上代码在稍微老一点的浏览器可能并不会报错（新版报错），但开启严格模式后，一定会报错。</p><h3 id="禁止delete关键字"><a class="markdownIt-Anchor" href="#禁止delete关键字"></a> 禁止delete关键字</h3><p>在严格模式下不能对变量使用<code>delete</code>运算符。</p><p>例如：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> v = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(v); <span class="comment">//100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> v;</span><br><span class="line"><span class="built_in">console</span>.log(v); <span class="comment">//100</span></span><br></pre></td></tr></table></figure><ol><li>严格模式下会抛出一个错误</li><li>非严格模式下会输出两个100</li></ol><div class="snote idea yellow"><p>严格模式下禁用delete只针对删除变量，而不是数组元素和对象属性。</p></div><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">delete</span> arr[<span class="number">0</span>];</span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">//[ &lt;1 empty item&gt;, 1, 2, 3, 4 ]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">"张无忌"</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">delete</span> obj.name;</span><br><span class="line"><span class="built_in">console</span>.log(obj.name); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure><h3 id="对变量名的限制"><a class="markdownIt-Anchor" href="#对变量名的限制"></a> 对变量名的限制</h3><p>在严格模式下，JavaScript对变量名也有限制。特别不能使用如下内容作为变量名：</p><ul><li><code>implements</code></li><li><code>interface</code></li><li><code>let</code></li><li><code>package</code></li><li><code>private</code></li><li><code>protected</code></li><li><code>public</code></li><li><code>static</code></li><li><code>yield</code></li></ul><p>上述关键词表示在ECMAScript的下一个版本中可能会用到他们，在严格模式下使用以上字符作为变量名会导致语法错误。</p><h2 id="对象"><a class="markdownIt-Anchor" href="#对象"></a> 对象</h2><h3 id="不可删除的属性"><a class="markdownIt-Anchor" href="#不可删除的属性"></a> 不可删除的属性</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"><span class="keyword">delete</span> <span class="built_in">Object</span>.prototype;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype);</span><br><span class="line"><span class="comment">// 报错</span></span><br></pre></td></tr></table></figure><p>非严格模式下不会报错，但也不会删除成功。但在严格模式下会直接抛出错误。</p><p>但严格模式并不会限制所有对象，例如：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"><span class="keyword">delete</span> <span class="built_in">Math</span>.random;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.random); <span class="comment">//undefined</span></span><br><span class="line"><span class="built_in">Math</span>.random();</span><br></pre></td></tr></table></figure><p>即使在严格模式下，还是可以删除<code>Math.random</code>方法。</p><h3 id="属性名必须唯一"><a class="markdownIt-Anchor" href="#属性名必须唯一"></a> 属性名必须唯一</h3><p>在严格模式下，一个对象内的所有属性名在对象内必须唯一。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">"张无忌"</span>,</span><br><span class="line">  name: <span class="string">"周芷若"</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(obj.name); <span class="comment">// 周芷若</span></span><br></pre></td></tr></table></figure><p>开启严格模式后，如果对象具有相同属性，那么并不会报错，而是覆盖。</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/05/63e0bfa2e1b452eb6ef3e5579089dc60.png" alt="image-20200605175526975" /></p><h3 id="只读属性的赋值"><a class="markdownIt-Anchor" href="#只读属性的赋值"></a> 只读属性的赋值</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">"age"</span>, &#123;</span><br><span class="line">  value: <span class="number">18</span>,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 针对只读属性进行修改操作</span></span><br><span class="line"></span><br><span class="line">obj.age = <span class="number">80</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj.age);</span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> obj.age;</span><br><span class="line"><span class="built_in">console</span>.log(obj.age);</span><br></pre></td></tr></table></figure><p>对于不可修改的属性，无论是修改还是删除都会发生报错。</p><h3 id="不可扩展的对象"><a class="markdownIt-Anchor" href="#不可扩展的对象"></a> 不可扩展的对象</h3><p>在严格模式下，不能为不可扩展的对象添加新属性。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line"><span class="comment">// 设置对象obj是一个不可扩展的对象</span></span><br><span class="line"><span class="built_in">Object</span>.preventExtensions(obj);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 为对象obj新增属性或方法</span></span><br><span class="line"></span><br><span class="line">obj.name = <span class="string">"张无忌"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br></pre></td></tr></table></figure><p>以上代码在严格模式下会报错，非严格模式下不会报错。</p><h2 id="函数"><a class="markdownIt-Anchor" href="#函数"></a> 函数</h2><h3 id="参数名必须唯一"><a class="markdownIt-Anchor" href="#参数名必须唯一"></a> 参数名必须唯一</h3><p>在严格模式下，要求命名函数的参数必须唯一。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">a, a, b</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a + a + b);</span><br><span class="line">&#125;</span><br><span class="line">fn(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>); <span class="comment">//7</span></span><br></pre></td></tr></table></figure><p>例如以上代码，非严格模式下会输出7，两个参数a都会被当作2；但在严格模式下，会抛出错误。</p><h3 id="arguments的不同"><a class="markdownIt-Anchor" href="#arguments的不同"></a> arguments的不同</h3><p>在严格模式下， arguments对象的行为也有所不同。</p><ul><li>非严格模式下，修改命名参数的值也会反应到arguments对象中。</li><li>严格模式下，命名参数与arguments对象是完全独立的。</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> value = <span class="string">"张无忌"</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(value); <span class="comment">// 张无忌</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">0</span>]); <span class="comment">//严格模式下为周芷若 非严格模式下为周芷若</span></span><br><span class="line">&#125;</span><br><span class="line">fn(<span class="string">"周芷若"</span>);</span><br></pre></td></tr></table></figure><div class="snote msg cyan"><p>非严格模式下arguments对象获取参数的值与形参有关。（如果局部变量与形参名相同，则根据就近原则获取）；严格模式下arguments对象获取参数的值与形参无关。</p></div><h3 id="argumentscallee"><a class="markdownIt-Anchor" href="#argumentscallee"></a> arguments.callee()</h3><p>在严格模式下，不能使用armaments对象的callee()方法。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">arguments</span>.callee;</span><br><span class="line">&#125;</span><br><span class="line">fn();</span><br></pre></td></tr></table></figure><p>以上代码在严格模式下会直接报错。</p><h3 id="函数声明的限制"><a class="markdownIt-Anchor" href="#函数声明的限制"></a> 函数声明的限制</h3><p>在严格模式下，只能在全局域和函数域中声明函数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"><span class="comment">// 在全局作用域</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">n</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">  <span class="comment">// ECMAscript 6 新增 - 存在块级作用域</span></span><br><span class="line">  <span class="keyword">var</span> v = <span class="number">100</span>;</span><br><span class="line">  <span class="comment">// 开启严格模式后在块级不能定义函数</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"this is function"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(v); <span class="comment">// 100</span></span><br><span class="line">f(); <span class="comment">// ReferenceError: f is not defined</span></span><br></pre></td></tr></table></figure><div class="snote danger"><p>在严格模式下，函数的定义只能在全局作用域与函数作用域，不能在块级作用域</p></div><h2 id="增加eval作用域"><a class="markdownIt-Anchor" href="#增加eval作用域"></a> 增加eval()作用域</h2><p>在严格模式下，使用<code>eval()</code>函数创建的变量只能在<code>eval()</code>函数内部使用。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eval</span>(<span class="string">"var v = 100"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(v);</span><br></pre></td></tr></table></figure><p>以上代码在非严格模式下会输出<code>100</code>，而在严格模式下会抛出错误。</p><blockquote><p>在严格模式下，会增加eval作用域。也就是说在eval函数定义的变量只能在当前eval函数使用。</p></blockquote><h2 id="arguments对象禁止读写"><a class="markdownIt-Anchor" href="#arguments对象禁止读写"></a> arguments对象–禁止读写</h2><p>在严格模式下，禁止使用eval()和arguments作为标示符，也不允许读写它们的值。</p><ul><li>使用var声明。</li><li>赋予另一个值</li><li>尝试修改包含的值。</li><li>用作函数名。</li><li>用作命名的函数的参数。</li><li>在 try-catch语句中用作例外名。</li></ul><p>以下语句在严格模式下均会报错：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eval</span> = <span class="number">17</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">arguments</span>++;</span><br><span class="line"></span><br><span class="line">++<span class="built_in">eval</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="keyword">set</span> p(arguments) &#123;&#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="built_in">eval</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">&#125; <span class="keyword">catch</span> (<span class="built_in">arguments</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">x</span>(<span class="params">eval</span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> (<span class="params">eval</span>) </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">arguments</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> y = <span class="function"><span class="keyword">function</span> <span class="title">eval</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> f = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">'arguments'</span>, <span class="string">"'use strict';return 17;"</span>)</span><br></pre></td></tr></table></figure><h2 id="抑制this"><a class="markdownIt-Anchor" href="#抑制this"></a> 抑制this</h2><ul><li>在非严格模式下使用数的<code>apyly()</code>或<code>call()</code>方法时，<code>null</code>或<code>undefined</code>值会被转换为全局对象。</li><li>在严格模式下，函数的<code>this</code>值始终是指定的值（无论什么值）。</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"><span class="keyword">var</span> v = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.v);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  v: <span class="number">200</span>,</span><br><span class="line">&#125;;</span><br><span class="line">fn.call(<span class="literal">null</span>);</span><br></pre></td></tr></table></figure><p>在严格模式下会抛出错误，必须明确指定this，例如<code>fn.call(obj);</code>。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/
      
    
    </summary>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="JavaScript笔记" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/JavaScript%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/tags/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="笔记" scheme="https://www.antmoe.com/tags/%E7%AC%94%E8%AE%B0/"/>
    
      <category term="JavaScript" scheme="https://www.antmoe.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>Windows Terminal使用及美化</title>
    <link href="https://www.antmoe.com/posts/614360dd/index.html"/>
    <id>https://www.antmoe.com/posts/614360dd/index.html</id>
    <published>2020-06-04T09:19:26.000Z</published>
    <updated>2020-06-22T10:42:16.901Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><p>文本最后编辑时间：<span class="inline-tag grey">2020-06-13</span></p><h2 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h2><p>在这之前，我一直使用的都是cmder，但是这东西说真的，有点难用。不过好在微软推出了Windows Terminal，经过我的实测，感觉还是不错的。毕竟颜值才是第一生产力。</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/04/edfedbcc3e3aa6c3df64bb9b3aca0288.png" alt="image-20200604173746487" /></p><h2 id="开始操作"><a class="markdownIt-Anchor" href="#开始操作"></a> 开始操作</h2><ol><li><p>下载Windows Terminal</p><p>下载很简单，在微软商店下载即可。</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/04/3c2693ac141f1a27931552042a154afd.png" alt="image-20200604172452842" /></p></li><li><p>安装一个字体，比较推荐的是<strong>Fira Code</strong>。</p><p><a href="https://github.com/tonsky/FiraCode/releases/download/3.1/FiraCode_3.1.zip" target="_blank" rel="noopener">单击此处从 GitHub 下载。</a></p></li><li><p>安装新款 Powershell Core</p><p>首先声明，我们这儿用的 Powershell 与 Windows 自带的 Powershell 是完全不同的两个东西，除了功能相似和名字相同，两者内在已经天差地别。</p><blockquote><p>Powershell Core 是什么呢？这是伟大的 <strong>.Net Core 跨平台战略</strong>的一个重要组成部分，微软设想，要让强大的 .Net 在所有平台上通用，让这么强大的 Powershell 在所有平台上都能用，古老的 bash 可以退休了！</p></blockquote><p><a href="https://github.com/PowerShell/PowerShell/releases" target="_blank" rel="noopener">下载地址</a>(可下载最新版本，不一定要下载图中所示)</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/04/6a0a86a03bfab50359d7e127bd35edb4.png" alt="image-20200604172952110" /></p></li><li><p>安装Powershell插件</p><ul><li><p>PSReadLine</p><p>PSReadLine 是一个由微软发布的用于 PowerShell 的行读取实现，提供了以下功能：</p><ul><li>语法着色</li><li>简单语法错误通知</li><li>良好的多行体验</li><li>可自定义的键绑定</li><li>Cmd和Emacs模式</li><li>许多配置选项</li><li>Bash 样式的补全</li><li>Bash/zsh 样式的交互式历史记录搜索</li><li>Emacs yank/kill ring</li><li>基于 PowerShell Token 的单词移动和删除</li><li>撤销/重做</li><li>自动保存历史记录，包括在实时会话中共享历史记录</li><li>菜单补全、Intellisense</li></ul><p>GitHub地址：<a href="https://github.com/PowerShell/PSReadLine" target="_blank" rel="noopener">https://github.com/PowerShell/PSReadLine</a></p></li><li><p>oh-my-posh&amp;posh-git</p><p>类似于 oh-my-zsh，oh-my-posh 为 PowerShell 提供了很多自定义主题和配色，而 posh-git 为 PowerShell 提供了 git 状态显示和命令补全等。</p><p>GitHub地址：<a href="https://github.com/JanDeDobbeleer/oh-my-posh" target="_blank" rel="noopener">https://github.com/JanDeDobbeleer/oh-my-posh</a></p></li></ul><p>看完上边的三个插件介绍，我们来安装这三个插件。</p><p>用管理员模式打开刚装好的<strong>新版</strong> powershell，逐行输入命令。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 安装 PSReadline 包，该插件可以让命令行很好用，类似 zsh</span></span><br><span class="line">Install-Module -Name PSReadLine -AllowPrerelease -Force</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 安装 posh-git 包，让你的 git 更好用</span></span><br><span class="line">Install-Module posh-git -Scope CurrentUser</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 安装 oh-my-posh 包，让你的命令行更酷炫、优雅</span></span><br><span class="line">Install-Module oh-my-posh -Scope CurrentUser</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/04/8c1583de7d9be7f384428b130c8782da.png" alt="image-20200604174115515" /></p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/04/bec3b62ab6a7b300ad9c7366daa4378e.png" alt="image-20200604174201074" /></p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/04/327827b35db67f84873813498a416478.png" alt="安装完成" /></p><p><strong>一定要用刚刚安装的新版的powershell，安装过程可能过于慢，请耐心等待。</strong></p><p>后面两个包的<strong>来源可能不受系统信任</strong>，不用管它，如果让你选择是否信任，直接输入 <code>Y</code> 即可。</p></li><li><p>编辑<code>$Profile</code>文件。</p><p>这个文件类似于 <code>~/.zshrc</code>，会在 PowerShell 启动的时候自动执行，因此我们在这个文件中加载我们所需的模块。</p><ul><li><p>Windows</p><p><code>notepad.exe $Profile</code></p></li><li><p>Linux</p><p><code>nano $Profile</code></p></li></ul><p>然后在这个文件中添加如下内容：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Import-Module posh-git <span class="comment"># 引入 posh-git</span></span><br><span class="line">Import-Module oh-my-posh <span class="comment"># 引入 oh-my-posh</span></span><br><span class="line"></span><br><span class="line">Set-Theme Paradox <span class="comment"># 设置主题为 Paradox</span></span><br><span class="line"></span><br><span class="line">Set-PSReadlineKeyHandler -Key Tab -Function Complete <span class="comment"># 设置 Tab 键补全</span></span><br><span class="line">Set-PSReadLineKeyHandler -Key <span class="string">"Ctrl+d"</span> -Function MenuComplete <span class="comment"># 设置 Ctrl+d 为菜单补全和 Intellisense</span></span><br><span class="line">Set-PSReadLineKeyHandler -Key <span class="string">"Ctrl+z"</span> -Function Undo <span class="comment"># 设置 Ctrl+z 为撤销</span></span><br><span class="line">Set-PSReadLineKeyHandler -Key UpArrow -Function HistorySearchBackward <span class="comment"># 设置向上键为后向搜索历史记录</span></span><br><span class="line">Set-PSReadLineKeyHandler -Key DownArrow -Function HistorySearchForward <span class="comment"># 设置向下键为前向搜索历史纪录</span></span><br></pre></td></tr></table></figure><blockquote><p>oh-my-posh提供了 10 款 漂亮 的主题供我们选择。 <code>Agnoster</code>,<code>Avit</code>,<code>Darkblood</code>,<code>Fish</code>,<code>Honukai</code>,<code>Paradox</code>,<code>PowerLine</code>,<code>robbyrussell</code>,<code>Sorin</code>,<code>tehrob</code></p></blockquote><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/04/049ebaa2aabeaf4a0f3461446a9a064d.png" alt="" /></p></li><li><p>接下来打开<code>Windows Terminal</code>。</p><p>Windows Terminal默认为旧版本的powershell，我们需要把新版本作为默认。</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/04/7147a8f5a58bd611e5fff9ab558a7e4e.png" alt="image-20200604175634559" /></p><p>修改的内容有三个，如果你不想自己改可以直接将我的粘贴到配置文件（<strong>需要注意的是：你的<code>commandline</code>，如果按照默认路径安装（预览版），那么可以直接复制下边。正式版或者更换了安装位置，那么请手动更改位置。其他信息试自己能力进行修改</strong>）。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// This file was initially generated by Windows Terminal 1.0.1401.0</span></span><br><span class="line"><span class="comment">// It should still be usable in newer versions, but newer versions might have additional</span></span><br><span class="line"><span class="comment">// settings, help text, or changes that you will not see unless you clear this file</span></span><br><span class="line"><span class="comment">// and let us generate a new one for you.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// To view the default settings, hold "alt" while clicking on the "Settings" button.</span></span><br><span class="line"><span class="comment">// For documentation on these settings, see: https://aka.ms/terminal-documentation</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">"$schema"</span>: <span class="string">"https://aka.ms/terminal-profiles-schema"</span>,</span><br><span class="line"></span><br><span class="line">    <span class="attr">"defaultProfile"</span>: <span class="string">"&#123;574e775e-4f2a-5b96-ac1e-a2962a402336&#125;"</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// You can add more global application settings here.</span></span><br><span class="line">    <span class="comment">// To learn more about global settings, visit https://aka.ms/terminal-global-settings</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// If enabled, selections are automatically copied to your clipboard.</span></span><br><span class="line">    <span class="attr">"copyOnSelect"</span>: <span class="literal">false</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// If enabled, formatted data is also copied to your clipboard</span></span><br><span class="line">    <span class="attr">"copyFormatting"</span>: <span class="literal">false</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// A profile specifies a command to execute paired with information about how it should look and feel.</span></span><br><span class="line">    <span class="comment">// Each one of them will appear in the 'New Tab' dropdown,</span></span><br><span class="line">    <span class="comment">//   and can be invoked from the commandline with `wt.exe -p xxx`</span></span><br><span class="line">    <span class="comment">// To learn more about profiles, visit https://aka.ms/terminal-profile-settings</span></span><br><span class="line">    <span class="attr">"profiles"</span>: &#123;</span><br><span class="line">        <span class="attr">"defaults"</span>: &#123;</span><br><span class="line">            <span class="comment">// Put settings here that you want to apply to all profiles.</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">"list"</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// Make changes here to the powershell.exe profile.</span></span><br><span class="line">                <span class="attr">"guid"</span>: <span class="string">"&#123;61c54bbd-c2c6-5271-96e7-009a87ff44bf&#125;"</span>,</span><br><span class="line">                <span class="attr">"name"</span>: <span class="string">"Windows PowerShell"</span>,</span><br><span class="line">                <span class="attr">"commandline"</span>: <span class="string">"powershell.exe"</span>,</span><br><span class="line">                <span class="attr">"hidden"</span>: <span class="literal">false</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// Make changes here to the cmd.exe profile.</span></span><br><span class="line">                <span class="attr">"guid"</span>: <span class="string">"&#123;0caa0dad-35be-5f56-a8ff-afceeeaa6101&#125;"</span>,</span><br><span class="line">                <span class="attr">"name"</span>: <span class="string">"命令提示符"</span>,</span><br><span class="line">                <span class="attr">"commandline"</span>: <span class="string">"cmd.exe"</span>,</span><br><span class="line">                <span class="attr">"hidden"</span>: <span class="literal">false</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"guid"</span>: <span class="string">"&#123;b453ae62-4e3d-5e58-b989-0a998ec441b8&#125;"</span>,</span><br><span class="line">                <span class="attr">"hidden"</span>: <span class="literal">false</span>,</span><br><span class="line">                <span class="attr">"name"</span>: <span class="string">"Azure Cloud Shell"</span>,</span><br><span class="line">                <span class="attr">"source"</span>: <span class="string">"Windows.Terminal.Azure"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"guid"</span>: <span class="string">"&#123;574e775e-4f2a-5b96-ac1e-a2962a402336&#125;"</span>,</span><br><span class="line">                <span class="attr">"hidden"</span>: <span class="literal">false</span>,</span><br><span class="line">                <span class="attr">"name"</span>: <span class="string">"PowerShell"</span>,</span><br><span class="line">                <span class="attr">"source"</span>: <span class="string">"Windows.Terminal.PowershellCore"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// Powershell 7 配置</span></span><br><span class="line">                <span class="attr">"guid"</span>: <span class="string">"&#123;574e775e-4f2a-5b96-ac1e-a2962a402336&#125;"</span>,</span><br><span class="line">                <span class="attr">"hidden"</span>: <span class="literal">false</span>,</span><br><span class="line">                <span class="attr">"name"</span>: <span class="string">"pwsh"</span>,</span><br><span class="line">                <span class="comment">// 注意：一定要写上 -nologo，否则开启 powershll 会有一段话输出，很讨厌！</span></span><br><span class="line">                <span class="comment">// 如果下载的是正是版，那么路径为：C:/Program Files/PowerShell/7/pwsh.exe -nologo</span></span><br><span class="line">                <span class="attr">"commandline"</span>: <span class="string">"C:/Program Files/PowerShell/7-preview/pwsh.exe -nologo"</span>,</span><br><span class="line">                <span class="attr">"source"</span>: <span class="string">"Windows.Terminal.PowershellCore"</span>,</span><br><span class="line">                <span class="comment">// 启动菜单一定要设置为 &lt;.&gt;，否则后面重要的一步将会无效！</span></span><br><span class="line">                <span class="attr">"startingDirectory"</span>: <span class="string">"."</span>,</span><br><span class="line">                <span class="comment">// 字体</span></span><br><span class="line">                <span class="attr">"fontFace"</span>: <span class="string">"Fira Code"</span>,</span><br><span class="line">                <span class="attr">"fontSize"</span>: <span class="number">11</span>,</span><br><span class="line">                <span class="attr">"historySize"</span>: <span class="number">9001</span>,</span><br><span class="line">                <span class="attr">"padding"</span>: <span class="string">"5, 5, 20, 25"</span>,</span><br><span class="line">                <span class="attr">"snapOnInput"</span>: <span class="literal">true</span>,</span><br><span class="line">                <span class="attr">"useAcrylic"</span>: <span class="literal">false</span>,</span><br><span class="line">                <span class="comment">// 颜色</span></span><br><span class="line">                <span class="attr">"colorScheme"</span>: <span class="string">"idleToes"</span></span><br><span class="line">            &#125;    ]</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Add custom color schemes to this array.</span></span><br><span class="line">    <span class="comment">// To learn more about color schemes, visit https://aka.ms/terminal-color-schemes</span></span><br><span class="line">    <span class="attr">"schemes"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"Zenburn"</span>,</span><br><span class="line">            <span class="attr">"black"</span>: <span class="string">"#4d4d4d"</span>,</span><br><span class="line">            <span class="attr">"red"</span>: <span class="string">"#705050"</span>,</span><br><span class="line">            <span class="attr">"green"</span>: <span class="string">"#60b48a"</span>,</span><br><span class="line">            <span class="attr">"yellow"</span>: <span class="string">"#f0dfaf"</span>,</span><br><span class="line">            <span class="attr">"blue"</span>: <span class="string">"#506070"</span>,</span><br><span class="line">            <span class="attr">"purple"</span>: <span class="string">"#dc8cc3"</span>,</span><br><span class="line">            <span class="attr">"cyan"</span>: <span class="string">"#8cd0d3"</span>,</span><br><span class="line">            <span class="attr">"white"</span>: <span class="string">"#dcdccc"</span>,</span><br><span class="line">            <span class="attr">"brightBlack"</span>: <span class="string">"#709080"</span>,</span><br><span class="line">            <span class="attr">"brightRed"</span>: <span class="string">"#dca3a3"</span>,</span><br><span class="line">            <span class="attr">"brightGreen"</span>: <span class="string">"#c3bf9f"</span>,</span><br><span class="line">            <span class="attr">"brightYellow"</span>: <span class="string">"#e0cf9f"</span>,</span><br><span class="line">            <span class="attr">"brightBlue"</span>: <span class="string">"#94bff3"</span>,</span><br><span class="line">            <span class="attr">"brightPurple"</span>: <span class="string">"#ec93d3"</span>,</span><br><span class="line">            <span class="attr">"brightCyan"</span>: <span class="string">"#93e0e3"</span>,</span><br><span class="line">            <span class="attr">"brightWhite"</span>: <span class="string">"#ffffff"</span>,</span><br><span class="line">            <span class="attr">"background"</span>: <span class="string">"#3f3f3f"</span>,</span><br><span class="line">            <span class="attr">"foreground"</span>: <span class="string">"#dcdccc"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"PencilDark"</span>,</span><br><span class="line">            <span class="attr">"black"</span>: <span class="string">"#212121"</span>,</span><br><span class="line">            <span class="attr">"red"</span>: <span class="string">"#c30771"</span>,</span><br><span class="line">            <span class="attr">"green"</span>: <span class="string">"#10a778"</span>,</span><br><span class="line">            <span class="attr">"yellow"</span>: <span class="string">"#a89c14"</span>,</span><br><span class="line">            <span class="attr">"blue"</span>: <span class="string">"#008ec4"</span>,</span><br><span class="line">            <span class="attr">"purple"</span>: <span class="string">"#523c79"</span>,</span><br><span class="line">            <span class="attr">"cyan"</span>: <span class="string">"#20a5ba"</span>,</span><br><span class="line">            <span class="attr">"white"</span>: <span class="string">"#d9d9d9"</span>,</span><br><span class="line">            <span class="attr">"brightBlack"</span>: <span class="string">"#424242"</span>,</span><br><span class="line">            <span class="attr">"brightRed"</span>: <span class="string">"#fb007a"</span>,</span><br><span class="line">            <span class="attr">"brightGreen"</span>: <span class="string">"#5fd7af"</span>,</span><br><span class="line">            <span class="attr">"brightYellow"</span>: <span class="string">"#f3e430"</span>,</span><br><span class="line">            <span class="attr">"brightBlue"</span>: <span class="string">"#20bbfc"</span>,</span><br><span class="line">            <span class="attr">"brightPurple"</span>: <span class="string">"#6855de"</span>,</span><br><span class="line">            <span class="attr">"brightCyan"</span>: <span class="string">"#4fb8cc"</span>,</span><br><span class="line">            <span class="attr">"brightWhite"</span>: <span class="string">"#f1f1f1"</span>,</span><br><span class="line">            <span class="attr">"background"</span>: <span class="string">"#212121"</span>,</span><br><span class="line">            <span class="attr">"foreground"</span>: <span class="string">"#f1f1f1"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"Slate"</span>,</span><br><span class="line">            <span class="attr">"black"</span>: <span class="string">"#222222"</span>,</span><br><span class="line">            <span class="attr">"red"</span>: <span class="string">"#e2a8bf"</span>,</span><br><span class="line">            <span class="attr">"green"</span>: <span class="string">"#81d778"</span>,</span><br><span class="line">            <span class="attr">"yellow"</span>: <span class="string">"#c4c9c0"</span>,</span><br><span class="line">            <span class="attr">"blue"</span>: <span class="string">"#264b49"</span>,</span><br><span class="line">            <span class="attr">"purple"</span>: <span class="string">"#a481d3"</span>,</span><br><span class="line">            <span class="attr">"cyan"</span>: <span class="string">"#15ab9c"</span>,</span><br><span class="line">            <span class="attr">"white"</span>: <span class="string">"#02c5e0"</span>,</span><br><span class="line">            <span class="attr">"brightBlack"</span>: <span class="string">"#ffffff"</span>,</span><br><span class="line">            <span class="attr">"brightRed"</span>: <span class="string">"#ffcdd9"</span>,</span><br><span class="line">            <span class="attr">"brightGreen"</span>: <span class="string">"#beffa8"</span>,</span><br><span class="line">            <span class="attr">"brightYellow"</span>: <span class="string">"#d0ccca"</span>,</span><br><span class="line">            <span class="attr">"brightBlue"</span>: <span class="string">"#7ab0d2"</span>,</span><br><span class="line">            <span class="attr">"brightPurple"</span>: <span class="string">"#c5a7d9"</span>,</span><br><span class="line">            <span class="attr">"brightCyan"</span>: <span class="string">"#8cdfe0"</span>,</span><br><span class="line">            <span class="attr">"brightWhite"</span>: <span class="string">"#e0e0e0"</span>,</span><br><span class="line">            <span class="attr">"background"</span>: <span class="string">"#222222"</span>,</span><br><span class="line">            <span class="attr">"foreground"</span>: <span class="string">"#35b1d2"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"OneHalfDark"</span>,</span><br><span class="line">            <span class="attr">"black"</span>: <span class="string">"#282c34"</span>,</span><br><span class="line">            <span class="attr">"red"</span>: <span class="string">"#e06c75"</span>,</span><br><span class="line">            <span class="attr">"green"</span>: <span class="string">"#98c379"</span>,</span><br><span class="line">            <span class="attr">"yellow"</span>: <span class="string">"#e5c07b"</span>,</span><br><span class="line">            <span class="attr">"blue"</span>: <span class="string">"#61afef"</span>,</span><br><span class="line">            <span class="attr">"purple"</span>: <span class="string">"#c678dd"</span>,</span><br><span class="line">            <span class="attr">"cyan"</span>: <span class="string">"#56b6c2"</span>,</span><br><span class="line">            <span class="attr">"white"</span>: <span class="string">"#dcdfe4"</span>,</span><br><span class="line">            <span class="attr">"brightBlack"</span>: <span class="string">"#282c34"</span>,</span><br><span class="line">            <span class="attr">"brightRed"</span>: <span class="string">"#e06c75"</span>,</span><br><span class="line">            <span class="attr">"brightGreen"</span>: <span class="string">"#98c379"</span>,</span><br><span class="line">            <span class="attr">"brightYellow"</span>: <span class="string">"#e5c07b"</span>,</span><br><span class="line">            <span class="attr">"brightBlue"</span>: <span class="string">"#61afef"</span>,</span><br><span class="line">            <span class="attr">"brightPurple"</span>: <span class="string">"#c678dd"</span>,</span><br><span class="line">            <span class="attr">"brightCyan"</span>: <span class="string">"#56b6c2"</span>,</span><br><span class="line">            <span class="attr">"brightWhite"</span>: <span class="string">"#dcdfe4"</span>,</span><br><span class="line">            <span class="attr">"background"</span>: <span class="string">"#282c34"</span>,</span><br><span class="line">            <span class="attr">"foreground"</span>: <span class="string">"#dcdfe4"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"OneHalfLight"</span>,</span><br><span class="line">            <span class="attr">"black"</span>: <span class="string">"#383a42"</span>,</span><br><span class="line">            <span class="attr">"red"</span>: <span class="string">"#e45649"</span>,</span><br><span class="line">            <span class="attr">"green"</span>: <span class="string">"#50a14f"</span>,</span><br><span class="line">            <span class="attr">"yellow"</span>: <span class="string">"#c18401"</span>,</span><br><span class="line">            <span class="attr">"blue"</span>: <span class="string">"#0184bc"</span>,</span><br><span class="line">            <span class="attr">"purple"</span>: <span class="string">"#a626a4"</span>,</span><br><span class="line">            <span class="attr">"cyan"</span>: <span class="string">"#0997b3"</span>,</span><br><span class="line">            <span class="attr">"white"</span>: <span class="string">"#fafafa"</span>,</span><br><span class="line">            <span class="attr">"brightBlack"</span>: <span class="string">"#4f525e"</span>,</span><br><span class="line">            <span class="attr">"brightRed"</span>: <span class="string">"#e06c75"</span>,</span><br><span class="line">            <span class="attr">"brightGreen"</span>: <span class="string">"#98c379"</span>,</span><br><span class="line">            <span class="attr">"brightYellow"</span>: <span class="string">"#e5c07b"</span>,</span><br><span class="line">            <span class="attr">"brightBlue"</span>: <span class="string">"#61afef"</span>,</span><br><span class="line">            <span class="attr">"brightPurple"</span>: <span class="string">"#c678dd"</span>,</span><br><span class="line">            <span class="attr">"brightCyan"</span>: <span class="string">"#56b6c2"</span>,</span><br><span class="line">            <span class="attr">"brightWhite"</span>: <span class="string">"#ffffff"</span>,</span><br><span class="line">            <span class="attr">"background"</span>: <span class="string">"#fafafa"</span>,</span><br><span class="line">            <span class="attr">"foreground"</span>: <span class="string">"#383a42"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"Material"</span>,</span><br><span class="line">            <span class="attr">"black"</span>: <span class="string">"#212121"</span>,</span><br><span class="line">            <span class="attr">"red"</span>: <span class="string">"#b7141f"</span>,</span><br><span class="line">            <span class="attr">"green"</span>: <span class="string">"#457b24"</span>,</span><br><span class="line">            <span class="attr">"yellow"</span>: <span class="string">"#f6981e"</span>,</span><br><span class="line">            <span class="attr">"blue"</span>: <span class="string">"#134eb2"</span>,</span><br><span class="line">            <span class="attr">"purple"</span>: <span class="string">"#560088"</span>,</span><br><span class="line">            <span class="attr">"cyan"</span>: <span class="string">"#0e717c"</span>,</span><br><span class="line">            <span class="attr">"white"</span>: <span class="string">"#efefef"</span>,</span><br><span class="line">            <span class="attr">"brightBlack"</span>: <span class="string">"#424242"</span>,</span><br><span class="line">            <span class="attr">"brightRed"</span>: <span class="string">"#e83b3f"</span>,</span><br><span class="line">            <span class="attr">"brightGreen"</span>: <span class="string">"#7aba3a"</span>,</span><br><span class="line">            <span class="attr">"brightYellow"</span>: <span class="string">"#ffea2e"</span>,</span><br><span class="line">            <span class="attr">"brightBlue"</span>: <span class="string">"#54a4f3"</span>,</span><br><span class="line">            <span class="attr">"brightPurple"</span>: <span class="string">"#aa4dbc"</span>,</span><br><span class="line">            <span class="attr">"brightCyan"</span>: <span class="string">"#26bbd1"</span>,</span><br><span class="line">            <span class="attr">"brightWhite"</span>: <span class="string">"#d9d9d9"</span>,</span><br><span class="line">            <span class="attr">"background"</span>: <span class="string">"#eaeaea"</span>,</span><br><span class="line">            <span class="attr">"foreground"</span>: <span class="string">"#232322"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"MaterialDark"</span>,</span><br><span class="line">            <span class="attr">"black"</span>: <span class="string">"#212121"</span>,</span><br><span class="line">            <span class="attr">"red"</span>: <span class="string">"#b7141f"</span>,</span><br><span class="line">            <span class="attr">"green"</span>: <span class="string">"#457b24"</span>,</span><br><span class="line">            <span class="attr">"yellow"</span>: <span class="string">"#f6981e"</span>,</span><br><span class="line">            <span class="attr">"blue"</span>: <span class="string">"#134eb2"</span>,</span><br><span class="line">            <span class="attr">"purple"</span>: <span class="string">"#560088"</span>,</span><br><span class="line">            <span class="attr">"cyan"</span>: <span class="string">"#0e717c"</span>,</span><br><span class="line">            <span class="attr">"white"</span>: <span class="string">"#efefef"</span>,</span><br><span class="line">            <span class="attr">"brightBlack"</span>: <span class="string">"#424242"</span>,</span><br><span class="line">            <span class="attr">"brightRed"</span>: <span class="string">"#e83b3f"</span>,</span><br><span class="line">            <span class="attr">"brightGreen"</span>: <span class="string">"#7aba3a"</span>,</span><br><span class="line">            <span class="attr">"brightYellow"</span>: <span class="string">"#ffea2e"</span>,</span><br><span class="line">            <span class="attr">"brightBlue"</span>: <span class="string">"#54a4f3"</span>,</span><br><span class="line">            <span class="attr">"brightPurple"</span>: <span class="string">"#aa4dbc"</span>,</span><br><span class="line">            <span class="attr">"brightCyan"</span>: <span class="string">"#26bbd1"</span>,</span><br><span class="line">            <span class="attr">"brightWhite"</span>: <span class="string">"#d9d9d9"</span>,</span><br><span class="line">            <span class="attr">"background"</span>: <span class="string">"#232322"</span>,</span><br><span class="line">            <span class="attr">"foreground"</span>: <span class="string">"#e5e5e5"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"Homebrew"</span>,</span><br><span class="line">            <span class="attr">"black"</span>: <span class="string">"#000000"</span>,</span><br><span class="line">            <span class="attr">"red"</span>: <span class="string">"#FC5275"</span>,</span><br><span class="line">            <span class="attr">"green"</span>: <span class="string">"#00a600"</span>,</span><br><span class="line">            <span class="attr">"yellow"</span>: <span class="string">"#999900"</span>,</span><br><span class="line">            <span class="attr">"blue"</span>: <span class="string">"#6666e9"</span>,</span><br><span class="line">            <span class="attr">"purple"</span>: <span class="string">"#b200b2"</span>,</span><br><span class="line">            <span class="attr">"cyan"</span>: <span class="string">"#00a6b2"</span>,</span><br><span class="line">            <span class="attr">"white"</span>: <span class="string">"#bfbfbf"</span>,</span><br><span class="line">            <span class="attr">"brightBlack"</span>: <span class="string">"#666666"</span>,</span><br><span class="line">            <span class="attr">"brightRed"</span>: <span class="string">"#e50000"</span>,</span><br><span class="line">            <span class="attr">"brightGreen"</span>: <span class="string">"#00d900"</span>,</span><br><span class="line">            <span class="attr">"brightYellow"</span>: <span class="string">"#e5e500"</span>,</span><br><span class="line">            <span class="attr">"brightBlue"</span>: <span class="string">"#0000ff"</span>,</span><br><span class="line">            <span class="attr">"brightPurple"</span>: <span class="string">"#e500e5"</span>,</span><br><span class="line">            <span class="attr">"brightCyan"</span>: <span class="string">"#00e5e5"</span>,</span><br><span class="line">            <span class="attr">"brightWhite"</span>: <span class="string">"#e5e5e5"</span>,</span><br><span class="line">            <span class="attr">"background"</span>: <span class="string">"#283033"</span>,</span><br><span class="line">            <span class="attr">"foreground"</span>: <span class="string">"#00ff00"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"Breeze"</span>,</span><br><span class="line">            <span class="attr">"black"</span>: <span class="string">"#31363b"</span>,</span><br><span class="line">            <span class="attr">"red"</span>: <span class="string">"#ed1515"</span>,</span><br><span class="line">            <span class="attr">"green"</span>: <span class="string">"#11d116"</span>,</span><br><span class="line">            <span class="attr">"yellow"</span>: <span class="string">"#f67400"</span>,</span><br><span class="line">            <span class="attr">"blue"</span>: <span class="string">"#1d99f3"</span>,</span><br><span class="line">            <span class="attr">"purple"</span>: <span class="string">"#9b59b6"</span>,</span><br><span class="line">            <span class="attr">"cyan"</span>: <span class="string">"#1abc9c"</span>,</span><br><span class="line">            <span class="attr">"white"</span>: <span class="string">"#eff0f1"</span>,</span><br><span class="line">            <span class="attr">"brightBlack"</span>: <span class="string">"#7f8c8d"</span>,</span><br><span class="line">            <span class="attr">"brightRed"</span>: <span class="string">"#c0392b"</span>,</span><br><span class="line">            <span class="attr">"brightGreen"</span>: <span class="string">"#1cdc9a"</span>,</span><br><span class="line">            <span class="attr">"brightYellow"</span>: <span class="string">"#fdbc4b"</span>,</span><br><span class="line">            <span class="attr">"brightBlue"</span>: <span class="string">"#3daee9"</span>,</span><br><span class="line">            <span class="attr">"brightPurple"</span>: <span class="string">"#8e44ad"</span>,</span><br><span class="line">            <span class="attr">"brightCyan"</span>: <span class="string">"#16a085"</span>,</span><br><span class="line">            <span class="attr">"brightWhite"</span>: <span class="string">"#fcfcfc"</span>,</span><br><span class="line">            <span class="attr">"background"</span>: <span class="string">"#31363b"</span>,</span><br><span class="line">            <span class="attr">"foreground"</span>: <span class="string">"#eff0f1"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"idleToes"</span>,</span><br><span class="line">            <span class="attr">"black"</span>: <span class="string">"#323232"</span>,</span><br><span class="line">            <span class="attr">"red"</span>: <span class="string">"#d25252"</span>,</span><br><span class="line">            <span class="attr">"green"</span>: <span class="string">"#7fe173"</span>,</span><br><span class="line">            <span class="attr">"yellow"</span>: <span class="string">"#ffc66d"</span>,</span><br><span class="line">            <span class="attr">"blue"</span>: <span class="string">"#4099ff"</span>,</span><br><span class="line">            <span class="attr">"purple"</span>: <span class="string">"#f680ff"</span>,</span><br><span class="line">            <span class="attr">"cyan"</span>: <span class="string">"#bed6ff"</span>,</span><br><span class="line">            <span class="attr">"white"</span>: <span class="string">"#eeeeec"</span>,</span><br><span class="line">            <span class="attr">"brightBlack"</span>: <span class="string">"#535353"</span>,</span><br><span class="line">            <span class="attr">"brightRed"</span>: <span class="string">"#f07070"</span>,</span><br><span class="line">            <span class="attr">"brightGreen"</span>: <span class="string">"#9dff91"</span>,</span><br><span class="line">            <span class="attr">"brightYellow"</span>: <span class="string">"#ffe48b"</span>,</span><br><span class="line">            <span class="attr">"brightBlue"</span>: <span class="string">"#5eb7f7"</span>,</span><br><span class="line">            <span class="attr">"brightPurple"</span>: <span class="string">"#ff9dff"</span>,</span><br><span class="line">            <span class="attr">"brightCyan"</span>: <span class="string">"#dcf4ff"</span>,</span><br><span class="line">            <span class="attr">"brightWhite"</span>: <span class="string">"#ffffff"</span>,</span><br><span class="line">            <span class="attr">"background"</span>: <span class="string">"#323232"</span>,</span><br><span class="line">            <span class="attr">"foreground"</span>: <span class="string">"#00ff00"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"Firewatch"</span>,</span><br><span class="line">            <span class="attr">"black"</span>: <span class="string">"#585f6d"</span>,</span><br><span class="line">            <span class="attr">"red"</span>: <span class="string">"#d95360"</span>,</span><br><span class="line">            <span class="attr">"green"</span>: <span class="string">"#5ab977"</span>,</span><br><span class="line">            <span class="attr">"yellow"</span>: <span class="string">"#dfb563"</span>,</span><br><span class="line">            <span class="attr">"blue"</span>: <span class="string">"#4d89c4"</span>,</span><br><span class="line">            <span class="attr">"purple"</span>: <span class="string">"#d55119"</span>,</span><br><span class="line">            <span class="attr">"cyan"</span>: <span class="string">"#44a8b6"</span>,</span><br><span class="line">            <span class="attr">"white"</span>: <span class="string">"#e6e5ff"</span>,</span><br><span class="line">            <span class="attr">"brightBlack"</span>: <span class="string">"#585f6d"</span>,</span><br><span class="line">            <span class="attr">"brightRed"</span>: <span class="string">"#d95360"</span>,</span><br><span class="line">            <span class="attr">"brightGreen"</span>: <span class="string">"#5ab977"</span>,</span><br><span class="line">            <span class="attr">"brightYellow"</span>: <span class="string">"#dfb563"</span>,</span><br><span class="line">            <span class="attr">"brightBlue"</span>: <span class="string">"#4c89c5"</span>,</span><br><span class="line">            <span class="attr">"brightPurple"</span>: <span class="string">"#d55119"</span>,</span><br><span class="line">            <span class="attr">"brightCyan"</span>: <span class="string">"#44a8b6"</span>,</span><br><span class="line">            <span class="attr">"brightWhite"</span>: <span class="string">"#e6e5ff"</span>,</span><br><span class="line">            <span class="attr">"background"</span>: <span class="string">"#1e2027"</span>,</span><br><span class="line">            <span class="attr">"foreground"</span>: <span class="string">"#9ba2b2"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"Github"</span>,</span><br><span class="line">            <span class="attr">"black"</span>: <span class="string">"#3e3e3e"</span>,</span><br><span class="line">            <span class="attr">"red"</span>: <span class="string">"#970b16"</span>,</span><br><span class="line">            <span class="attr">"green"</span>: <span class="string">"#07962a"</span>,</span><br><span class="line">            <span class="attr">"yellow"</span>: <span class="string">"#f8eec7"</span>,</span><br><span class="line">            <span class="attr">"blue"</span>: <span class="string">"#003e8a"</span>,</span><br><span class="line">            <span class="attr">"purple"</span>: <span class="string">"#e94691"</span>,</span><br><span class="line">            <span class="attr">"cyan"</span>: <span class="string">"#89d1ec"</span>,</span><br><span class="line">            <span class="attr">"white"</span>: <span class="string">"#ffffff"</span>,</span><br><span class="line">            <span class="attr">"brightBlack"</span>: <span class="string">"#666666"</span>,</span><br><span class="line">            <span class="attr">"brightRed"</span>: <span class="string">"#de0000"</span>,</span><br><span class="line">            <span class="attr">"brightGreen"</span>: <span class="string">"#87d5a2"</span>,</span><br><span class="line">            <span class="attr">"brightYellow"</span>: <span class="string">"#f1d007"</span>,</span><br><span class="line">            <span class="attr">"brightBlue"</span>: <span class="string">"#2e6cba"</span>,</span><br><span class="line">            <span class="attr">"brightPurple"</span>: <span class="string">"#ffa29f"</span>,</span><br><span class="line">            <span class="attr">"brightCyan"</span>: <span class="string">"#1cfafe"</span>,</span><br><span class="line">            <span class="attr">"brightWhite"</span>: <span class="string">"#ffffff"</span>,</span><br><span class="line">            <span class="attr">"background"</span>: <span class="string">"#f4f4f4"</span>,</span><br><span class="line">            <span class="attr">"foreground"</span>: <span class="string">"#3e3e3e"</span></span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Add custom keybindings to this array.</span></span><br><span class="line">    <span class="comment">// To unbind a key combination from your defaults.json, set the command to "unbound".</span></span><br><span class="line">    <span class="comment">// To learn more about keybindings, visit https://aka.ms/terminal-keybindings</span></span><br><span class="line">    <span class="attr">"keybindings"</span>: [</span><br><span class="line">        <span class="comment">// Copy and paste are bound to Ctrl+Shift+C and Ctrl+Shift+V in your defaults.json.</span></span><br><span class="line">        <span class="comment">// These two lines additionally bind them to Ctrl+C and Ctrl+V.</span></span><br><span class="line">        <span class="comment">// To learn more about selection, visit https://aka.ms/terminal-selection</span></span><br><span class="line">        &#123; <span class="attr">"command"</span>: &#123; <span class="attr">"action"</span>: <span class="string">"copy"</span>, <span class="attr">"singleLine"</span>: <span class="literal">false</span> &#125;, <span class="attr">"keys"</span>: <span class="string">"ctrl+c"</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">"command"</span>: <span class="string">"paste"</span>, <span class="attr">"keys"</span>: <span class="string">"ctrl+v"</span> &#125;,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Press Ctrl+Shift+F to open the search box</span></span><br><span class="line">        &#123; <span class="attr">"command"</span>: <span class="string">"find"</span>, <span class="attr">"keys"</span>: <span class="string">"ctrl+shift+f"</span> &#125;,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Press Alt+Shift+D to open a new pane.</span></span><br><span class="line">        <span class="comment">// - "split": "auto" makes this pane open in the direction that provides the most surface area.</span></span><br><span class="line">        <span class="comment">// - "splitMode": "duplicate" makes the new pane use the focused pane's profile.</span></span><br><span class="line">        <span class="comment">// To learn more about panes, visit https://aka.ms/terminal-panes</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"command"</span>: &#123;</span><br><span class="line">                <span class="attr">"action"</span>: <span class="string">"splitPane"</span>,</span><br><span class="line">                <span class="attr">"split"</span>: <span class="string">"auto"</span>,</span><br><span class="line">                <span class="attr">"splitMode"</span>: <span class="string">"duplicate"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">"keys"</span>: <span class="string">"alt+shift+d"</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p><code>defaultProfile</code></p><p>将<code>defaultProfile</code>改为新的powershell。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">"defaultProfile": "&#123;574e775e-4f2a-5b96-ac1e-a2962a402336&#125;",</span><br></pre></td></tr></table></figure></li><li><p><code>list</code></p><p>在list中新增一个配置，也就是我们的新版powershell。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Powershell 7.1.0-preview.2 配置</span></span><br><span class="line">    <span class="attr">"guid"</span>: <span class="string">"&#123;574e775e-4f2a-5b96-ac1e-a2962a402336&#125;"</span>,</span><br><span class="line">    <span class="attr">"hidden"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"pwsh"</span>,</span><br><span class="line">    <span class="comment">// 注意：一定要写上 -nologo，否则开启 powershll 会有一段话输出，很讨厌！</span></span><br><span class="line">    <span class="attr">"commandline"</span>: <span class="string">"C:/Program Files/PowerShell/7-preview/pwsh.exe -nologo"</span>,</span><br><span class="line">    <span class="attr">"source"</span>: <span class="string">"Windows.Terminal.PowershellCore"</span>,</span><br><span class="line">    <span class="comment">// 启动菜单一定要设置为 &lt;.&gt;，否则后面重要的一步将会无效！</span></span><br><span class="line">    <span class="attr">"startingDirectory"</span>: <span class="string">"."</span>,</span><br><span class="line">    <span class="comment">// 字体</span></span><br><span class="line">    <span class="attr">"fontFace"</span>: <span class="string">"Fira Code"</span>,</span><br><span class="line">    <span class="attr">"fontSize"</span>: <span class="number">11</span>,</span><br><span class="line">    <span class="attr">"historySize"</span>: <span class="number">9001</span>,</span><br><span class="line">    <span class="attr">"padding"</span>: <span class="string">"5, 5, 20, 25"</span>,</span><br><span class="line">    <span class="attr">"snapOnInput"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"useAcrylic"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="comment">// 颜色</span></span><br><span class="line">    <span class="attr">"colorScheme"</span>: <span class="string">"idleToes"</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li><li><p><code>colorScheme</code></p><p>这个也就是配色。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"idleToes"</span>,</span><br><span class="line">    <span class="attr">"black"</span>: <span class="string">"#323232"</span>,</span><br><span class="line">    <span class="attr">"red"</span>: <span class="string">"#d25252"</span>,</span><br><span class="line">    <span class="attr">"green"</span>: <span class="string">"#7fe173"</span>,</span><br><span class="line">    <span class="attr">"yellow"</span>: <span class="string">"#ffc66d"</span>,</span><br><span class="line">    <span class="attr">"blue"</span>: <span class="string">"#4099ff"</span>,</span><br><span class="line">    <span class="attr">"purple"</span>: <span class="string">"#f680ff"</span>,</span><br><span class="line">    <span class="attr">"cyan"</span>: <span class="string">"#bed6ff"</span>,</span><br><span class="line">    <span class="attr">"white"</span>: <span class="string">"#eeeeec"</span>,</span><br><span class="line">    <span class="attr">"brightBlack"</span>: <span class="string">"#535353"</span>,</span><br><span class="line">    <span class="attr">"brightRed"</span>: <span class="string">"#f07070"</span>,</span><br><span class="line">    <span class="attr">"brightGreen"</span>: <span class="string">"#9dff91"</span>,</span><br><span class="line">    <span class="attr">"brightYellow"</span>: <span class="string">"#ffe48b"</span>,</span><br><span class="line">    <span class="attr">"brightBlue"</span>: <span class="string">"#5eb7f7"</span>,</span><br><span class="line">    <span class="attr">"brightPurple"</span>: <span class="string">"#ff9dff"</span>,</span><br><span class="line">    <span class="attr">"brightCyan"</span>: <span class="string">"#dcf4ff"</span>,</span><br><span class="line">    <span class="attr">"brightWhite"</span>: <span class="string">"#ffffff"</span>,</span><br><span class="line">    <span class="attr">"background"</span>: <span class="string">"#323232"</span>,</span><br><span class="line">    <span class="attr">"foreground"</span>: <span class="string">"#00ff00"</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li></ul></li><li><p>配置鼠标右键</p><p>完成上面的操作后，重新打开Windows Terminal就会发现模样已经变化了。</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/04/4bf920e614d9b612e3174252e6f3156a.png" alt="image-20200604180232963" /></p><p>接下来就是配置鼠标右键了，添加鼠标右键的方式有两种，一种是用脚本，另一种就是改注册表。我本人比较推荐直接使用脚本，毕竟修改注册表有风险。。。</p><ol><li><p>直接使用脚本</p><p>脚本下载地址：<a href="https://github.com/lextm/windowsterminal-shell/" target="_blank" rel="noopener">https://github.com/lextm/windowsterminal-shell/</a></p><blockquote><p>在 .\install.ps1 后面接参数可以定制你要的效果，该仓库提供了三个效果。如果不加参数，则使用默认效果。该仓库有个好处，那就是可以添加一个右键【以管理员身份在此打开】的选项，简便了不少。</p></blockquote><p>再次使用管理员模式打开PowerShell7，然后切换到放<code>install.ps1</code>的目录进行安装。我这里使用默认安装。如果你想用其他模式，也可以使用其他模式，看自己心情即可。其他模式请参考项目文档。</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/04/2a4b2dbf1838f79611cf7fc2a46224e4.png" alt="image-20200604180936562" /></p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/04/fdad4a25acfb304ddba2cdfa45afd746.png" alt="image-20200604180956425" /></p></li><li><p>修改注册表。</p><p>自行百度</p></li></ol></li><li><p>接下来我们到对应目录点击pwsh即可呼唤出新版的powershell。</p></li></ol><h2 id="问题说明"><a class="markdownIt-Anchor" href="#问题说明"></a> 问题说明</h2><ol><li><p>实验环境</p><p>VMware下的Windows2004版本</p></li><li><p>本文中所使用的文件打包</p><p><a href="https://tzk.lanzous.com/b06lz9sfa" target="_blank" rel="noopener">https://tzk.lanzous.com/b06lz9sfa</a><br />密码:dkqs</p></li></ol>]]></content>
    
    <summary type="html">
    
      为你的Windows Terminal美化并启用Powershell7。
    
    </summary>
    
    
      <category term="Windows" scheme="https://www.antmoe.com/categories/Windows/"/>
    
      <category term="Terminal" scheme="https://www.antmoe.com/categories/Windows/Terminal/"/>
    
    
      <category term="Terminal" scheme="https://www.antmoe.com/tags/Terminal/"/>
    
  </entry>
  
  <entry>
    <title>22this关键字</title>
    <link href="https://www.antmoe.com/posts/83cb60ff/index.html"/>
    <id>https://www.antmoe.com/posts/83cb60ff/index.html</id>
    <published>2020-06-04T07:00:58.000Z</published>
    <updated>2020-06-22T10:42:16.885Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h2 id="概述"><a class="markdownIt-Anchor" href="#概述"></a> 概述</h2><h3 id="this是什么"><a class="markdownIt-Anchor" href="#this是什么"></a> this是什么</h3><p>this文键字是Javascript中最复杂的机制之ー。它是一个很特别的关键字，被自动定义在所有函数的作用域中。但是即使是非常有经验的 Javascript开发者也很难说清它到底指向什么。</p><p>实际上， Javascript中this的机制井没有那么先进，但是开发者往往会把理解过程复杂化。亳不夸张地说，不理解它的含义，大部分开发任务都无法完成。</p><p>this都有一个共同点，它总是返回一个对象。简单说，this就是属性或方法“当前”所在的对象。</p><h3 id="为什么使用this"><a class="markdownIt-Anchor" href="#为什么使用this"></a> 为什么使用this</h3><p>this提供了一种更优雅的方式来隐式“传递”一个对象引用，因此可以将API设计得更加简洁井且易于复用。</p><p>随着使用模式越来越复杂，显式传递上下文对象会让代码变得越来越混乱，使用this则不会这样。</p><h3 id="调用位置"><a class="markdownIt-Anchor" href="#调用位置"></a> 调用位置</h3><p>想要了解this的绑定过程，首先要理解调用位置：调用位置就是函数在代码中被调用的位置（而不是声明的位置）</p><p>通常来说，寻找调用位置就是寻找“函数被调用的位置”。最重要的是要分析调用栈（就是为了到达当前执行位置所调用的所有函数</p><ol><li><p>函数调用</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> v = <span class="number">100</span>;</span><br><span class="line"><span class="comment">// this 经常被定义在函数的作用域中</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// this总是要返回一个对象</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.v); <span class="comment">//this指向哪个对象，不取决于定义的位置</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// this 指向哪个对象，取决于调用的位置</span></span><br><span class="line">fn(); <span class="comment">// 函数的调用  结果为：100（浏览器环境）</span></span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/04/d7271ea03cc5144bb702a120e0b8b844.png" alt="this的基本用法" /></p></li><li><p>对象调用</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> v = <span class="number">100</span>;</span><br><span class="line"><span class="comment">// this 经常被定义在函数的作用域中</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// this总是要返回一个对象</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.v); <span class="comment">//this指向哪个对象，不取决于定义的位置</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个对象，将fn函数作为obj对象的方法</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  v: <span class="number">200</span>,</span><br><span class="line">  f: fn,</span><br><span class="line">&#125;;</span><br><span class="line">obj.f(); <span class="comment">//200</span></span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/04/3cd4fe8c69aff08e73034b1b96be3797.png" alt="this的基本用法" /></p></li><li><p>直接调用</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> v = <span class="number">100</span>;</span><br><span class="line"><span class="comment">// this 指向哪个对象，取决于调用的位置</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>.v); <span class="comment">// 100 （浏览器环境）</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="绑定规则"><a class="markdownIt-Anchor" href="#绑定规则"></a> 绑定规则</h2><h3 id="默认绑定"><a class="markdownIt-Anchor" href="#默认绑定"></a> 默认绑定</h3><p>在一个函数体中使用this，当该函数被独立调用。可以把这条规则看作是无法应用其他规则时的默认规则。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.v); </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> v = <span class="number">100</span>;</span><br><span class="line">fn(); <span class="comment">//100</span></span><br></pre></td></tr></table></figure><p>声明在全局作用域中的变量（比如<code>var v=100</code>)就是全局对象的一个同名属性。当调用<code>fn()</code>函数时，<code>this.v</code>被解析成了全局变量<code>v</code>。</p><p>函数调用时应用了this的默认绑定，因此this指向全局对象。</p><h3 id="隐式绑定"><a class="markdownIt-Anchor" href="#隐式绑定"></a> 隐式绑定</h3><p>隐式绑定的规则需要考虑的是调用位置是否有上下文对象，或者说是否被某个对象拥有或者包含。当然，这种说法井不准确。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.v); </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    v: <span class="number">200</span>,</span><br><span class="line">    f: fn,</span><br><span class="line">&#125;;</span><br><span class="line">obj.f(); <span class="comment">//200</span></span><br></pre></td></tr></table></figure><p>调用位置会使用obj上下文来引用函数，因此你可以说函数被调用时obj对象“拥有”或者“包含”它。</p><div class='tip warning'><p>隐式丢失<p></div><p>隐式丢失是最常见的this绑定问题，指的就是被隐式绑定的函数会丢失绑定对象，也就是说它会应用默认绑定，从而把this绑定到全局对象。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个全局变量</span></span><br><span class="line"><span class="keyword">var</span> v = <span class="number">100</span>;</span><br><span class="line"><span class="comment">// 定义一个函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.v);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 定义一个对象</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  v: <span class="number">200</span>,</span><br><span class="line">  f: fn, <span class="comment">//对象的f()方法指向fn()函数</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 定义一个全局变量,并被赋值为对象obj的f()方法</span></span><br><span class="line"><span class="keyword">var</span> fun = obj.f;</span><br><span class="line"><span class="comment">// 将fun作为一个函数进行调用</span></span><br><span class="line">fun(); <span class="comment">//nodejs环境下为undefined；浏览器环境下是100</span></span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/04/5414a6c123513f0d34970b8020f88ef5.png" alt="image-20200604160728833" /></p><h3 id="显式绑定"><a class="markdownIt-Anchor" href="#显式绑定"></a> 显式绑定</h3><p>显式绑定就是明确在调用时，this所绑定的对象。 Javascript中提供了<code>apply()</code>方法和<code>call()</code>方法实现，这两个方法的第一个参数接收是一个对象，会把这个对象绑定到this，接着在调用函数时指定这个this。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个全局变量</span></span><br><span class="line"><span class="keyword">var</span> v = <span class="number">100</span>;</span><br><span class="line"><span class="comment">// 定义一个函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.v);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 定义一个对象</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  v: <span class="number">200</span>,</span><br><span class="line">  f: fn, <span class="comment">//对象的f()方法指向fn()函数</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 定义一个全局变量,并被赋值为对象obj的f()方法</span></span><br><span class="line"><span class="keyword">var</span> fun = obj.f;</span><br><span class="line"><span class="comment">// 将fun作为一个函数进行调用</span></span><br><span class="line">fun.apply(obj);</span><br></pre></td></tr></table></figure><h3 id="new绑定"><a class="markdownIt-Anchor" href="#new绑定"></a> new绑定</h3><p>在Javascript中，构造函数只是一些使用new操作符时被调用的函数。包括内置对象函数在内的所有函数都可以用new来调用，这种函数调用被称为构造函数调用。</p><p>使用new来调用函数，会自动执行下面的操作：</p><ol><li>创建（或者说构造）一个全新的对象。</li><li>这个新对象会绑定到函数调用的this.</li><li>如果函数没有返回其他对象，那么new表达式中的函数调用会自动返回这个新对象。</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Hero</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// this 取决于函数调用的位置</span></span><br><span class="line"><span class="keyword">var</span> hero1 = <span class="keyword">new</span> Hero(<span class="string">"张无忌"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> hero2 = <span class="keyword">new</span> Hero(<span class="string">"周芷若"</span>);</span><br></pre></td></tr></table></figure><h3 id="示例"><a class="markdownIt-Anchor" href="#示例"></a> 示例</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Hero</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = <span class="string">"张无忌"</span>;</span><br><span class="line">  <span class="keyword">this</span>.sayMe = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">samllHero</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  Hero.call(<span class="keyword">this</span>);</span><br><span class="line">  <span class="keyword">this</span>.age = <span class="number">19</span>;</span><br><span class="line">  <span class="keyword">this</span>.sayMe = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="keyword">this</span>.age);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> hero = <span class="keyword">new</span> samllHero();</span><br><span class="line"></span><br><span class="line">hero.sayMe(); <span class="comment">//张无忌19</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">"周芷若"</span>,</span><br><span class="line">  age: <span class="number">80</span>,</span><br><span class="line">  sayMe: hero.sayMe,</span><br><span class="line">&#125;;</span><br><span class="line">obj.sayMe(); <span class="comment">//周芷若80</span></span><br></pre></td></tr></table></figure><h2 id="绑定例外"><a class="markdownIt-Anchor" href="#绑定例外"></a> 绑定例外</h2><h3 id="被忽略的this"><a class="markdownIt-Anchor" href="#被忽略的this"></a> 被忽略的this</h3><p>如果把null或者undefined作为this的绑定对象传入call, applya或者bind，这些值在调用时会被忽略，实际应用的是默认绑定规则。</p><ol><li><p>情况1</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.v);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> v = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">fn.call(<span class="literal">null</span>); <span class="comment">// node环境下为undefined 浏览器环境下为100</span></span><br></pre></td></tr></table></figure></li><li><p>情况2</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result = <span class="built_in">Math</span>.max.apply(<span class="literal">null</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// 6</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="间接引用"><a class="markdownIt-Anchor" href="#间接引用"></a> 间接引用</h3><p>有可能（有意或者无意地）创建一个函数的“间接引用”，在这种情况下，调用这个函数会应用默认绑定规则</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">var</span> o = &#123;</span><br><span class="line">  a: <span class="number">3</span>,</span><br><span class="line">  foo: foo,</span><br><span class="line">&#125;;</span><br><span class="line">o.foo(); <span class="comment">//3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = &#123; <span class="attr">a</span>: <span class="number">4</span> &#125;;</span><br><span class="line">p.foo = o.foo;</span><br><span class="line">p.foo(); <span class="comment">//4</span></span><br><span class="line">(p.foo = o.foo)(); <span class="comment">//node环境下undefined 浏览器环境下为2</span></span><br></pre></td></tr></table></figure><h2 id="注意事项"><a class="markdownIt-Anchor" href="#注意事项"></a> 注意事项</h2><h3 id="避免多层this"><a class="markdownIt-Anchor" href="#避免多层this"></a> 避免多层this</h3><ol><li><p>情况1</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.a);</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">n</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//   this指向全局，因为独立调用</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.a);</span><br><span class="line">  &#125;</span><br><span class="line">  n();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn();</span><br><span class="line"><span class="comment">// undefined</span></span><br><span class="line"><span class="comment">// undefined</span></span><br></pre></td></tr></table></figure></li><li><p>情况2</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    v: <span class="number">100</span>,</span><br><span class="line">    fn: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.v);</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">n</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="comment">// this指向全局</span></span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.v);</span><br><span class="line">        &#125;</span><br><span class="line">        n();</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">obj.fn();</span><br></pre></td></tr></table></figure></li></ol><h3 id="避免数组方法中的this"><a class="markdownIt-Anchor" href="#避免数组方法中的this"></a> 避免数组方法中的this</h3><ol><li><p>情况1</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line">arr.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">value, index</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// this指向全局</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.v);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>情况2</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  v: <span class="number">100</span>,</span><br><span class="line">  arr: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>],</span><br><span class="line">  f: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.arr.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// this指向全局</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.v);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">obj.f();</span><br></pre></td></tr></table></figure></li></ol><h3 id="避免回调函数中的this"><a class="markdownIt-Anchor" href="#避免回调函数中的this"></a> 避免回调函数中的this</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  v: <span class="number">100</span>,</span><br><span class="line">  f: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.v);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">obj.f();</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 此时的this指向全局</span></span><br><span class="line">  a();</span><br><span class="line">&#125;</span><br><span class="line">fn(obj.f);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/
      
    
    </summary>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="JavaScript笔记" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/JavaScript%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/tags/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="笔记" scheme="https://www.antmoe.com/tags/%E7%AC%94%E8%AE%B0/"/>
    
      <category term="JavaScript" scheme="https://www.antmoe.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>21错误与异常</title>
    <link href="https://www.antmoe.com/posts/32c19347/index.html"/>
    <id>https://www.antmoe.com/posts/32c19347/index.html</id>
    <published>2020-06-04T01:15:58.000Z</published>
    <updated>2020-06-22T10:42:16.885Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h2 id="错误与异常是什么"><a class="markdownIt-Anchor" href="#错误与异常是什么"></a> 错误与异常是什么</h2><p>错误，指程序中的非正常运行状态，在其它编程语言中称为“异常”或“错误”。解释器会为每个错误情形创建并抛出一个Error对象，其中包含错误的描述信息。</p><p>通过使用Javascript提供的异常处理语句，可以用结构化的方式来捕捉发生的错误，让异常处理代码与核心业务代码实现分离。</p><p>错误与异常处理在应用中的重要性是毋庸置疑的。任何有影响力的Web应用都需要一套完善的错误处理机制。</p><h2 id="trycatch语句"><a class="markdownIt-Anchor" href="#trycatch语句"></a> try…catch语句</h2><p><code>try</code>表示标记一块待尝试的语句，如果语句出现错误，则通过<code>catch</code>语句进行捕捉。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 用于捕获指定语句块中的错误或异常</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(v); <span class="comment">//调用未定义的变量 -&gt; 报错</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">  <span class="comment">// 用于处理try语句中的错误</span></span><br><span class="line">  <span class="comment">// error 表示try语句中出现错误的信息</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"改变量未定义"</span>);</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">  <span class="comment">// catch语句无法处理try语句中的错误或异常时，执行finally语句中的内容</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">""</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>finally</code>表示最后执行，无论是走<code>try</code>还是<code>catch</code>都会执行finally语句。</p><h2 id="throw语句"><a class="markdownIt-Anchor" href="#throw语句"></a> throw语句</h2><p>人为抛出错误或异常，语法结构<code>throw 异常或错误的表达式</code>。其表达式允许是任意类型的内容。作用为预判断当前使用的变量、函数或对象是否存在。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">v</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (v) &#123;</span><br><span class="line">        <span class="keyword">return</span> v;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * throw 语句 - 人为抛出错误或异常</span></span><br><span class="line"><span class="comment">     * 语法结构</span></span><br><span class="line"><span class="comment">     *   - throw 异常或错误的表达式</span></span><br><span class="line"><span class="comment">     *   表达式允许是任意类型的内容</span></span><br><span class="line"><span class="comment">     * 作用 - 预判断当前使用的变量、函数或对象是否存在</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">        <span class="comment">// 真是情况下应抛出一个错误对象</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="string">"undefined"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// console.log(fn(10));</span></span><br><span class="line"><span class="comment">// console.log(fn());</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> result;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    result = fn();</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    result = <span class="string">"unkown"</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(e); <span class="comment">// undefined</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// unkown</span></span><br></pre></td></tr></table></figure><h2 id="嵌套trycatch语句"><a class="markdownIt-Anchor" href="#嵌套trycatch语句"></a> 嵌套try…catch语句</h2><p>可以嵌套一个或多个try…catch语句。如果一个内部的try…catch语句没有捕捉块，将会启动匹配外部的try…catch语句的捕捉块。</p><p><strong>注意：嵌套在catch语句块内。</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">0</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="错误类型"><a class="markdownIt-Anchor" href="#错误类型"></a> 错误类型</h2><h3 id="基本错误类型"><a class="markdownIt-Anchor" href="#基本错误类型"></a> 基本错误类型</h3><p>执行代码期间可能会发生的错误有多种类型，每种错误都有对应的错误类型。当错误发生时，就会抛出对应类型的错误对象。</p><p>Error是基本错误类型，其他错误类型都继承自该类型。Error类型的错误很少见，如果有也是浏览器抛出的。这个基本错误类型的主要目的是提供给开发人员抛出自定义错误的。</p><h3 id="预定义错误类型"><a class="markdownIt-Anchor" href="#预定义错误类型"></a> 预定义错误类型</h3><table><thead><tr><th style="text-align:center">错误类型</th><th style="text-align:center">说明</th></tr></thead><tbody><tr><td style="text-align:center"><code>EvaError</code></td><td style="text-align:center">表示错误的原因：与<code>eval()</code>有关。</td></tr><tr><td style="text-align:center"><code>internalError</code></td><td style="text-align:center">表示JavaScript引擎内部错误的异常。</td></tr><tr><td style="text-align:center"><code>RangeError</code></td><td style="text-align:center">表示错误的原因：数值变量或参数超出其有效范围。</td></tr><tr><td style="text-align:center"><code>ReferenceError</code></td><td style="text-align:center">表示错误的原因：无效引用。</td></tr><tr><td style="text-align:center"><code>SyntaxError</code></td><td style="text-align:center">表示错误的原因：<code>eval()</code>在解析代码的过程中发生的语法错误。</td></tr><tr><td style="text-align:center"><code>TypeError</code></td><td style="text-align:center">表示错误的原因：变量或参数不属于有效类型。</td></tr><tr><td style="text-align:center"><code>URIError</code></td><td style="text-align:center">表示错误的原因：给<code>encodeURI()</code>或<code>decodeURI()</code>传递的参数无效。</td></tr></tbody></table><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Errors" target="_blank" rel="noopener">JavaScript 错误参考</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/
      
    
    </summary>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="JavaScript笔记" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/JavaScript%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/tags/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="笔记" scheme="https://www.antmoe.com/tags/%E7%AC%94%E8%AE%B0/"/>
    
      <category term="JavaScript" scheme="https://www.antmoe.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>基于面向对象的工具库练习</title>
    <link href="https://www.antmoe.com/posts/e1f0892f/index.html"/>
    <id>https://www.antmoe.com/posts/e1f0892f/index.html</id>
    <published>2020-06-03T11:03:58.000Z</published>
    <updated>2020-06-22T10:42:16.885Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h2 id="前期准备"><a class="markdownIt-Anchor" href="#前期准备"></a> 前期准备</h2><div class="snote idea yellow"><p>全局作用域问题</p></div><p>解决这个问题是通过<strong>匿名函数</strong>，然后在匿名函数内创建对象，将<code>window</code>作为参数传入匿名函数，并将此对象赋值与<code>window</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">global</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 判断global对象是否真的存在</span></span><br><span class="line">  <span class="keyword">if</span> (!global) &#123;</span><br><span class="line">    <span class="built_in">console</span>.error(<span class="string">"当前环境不是浏览器环境！"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 定义一个统一对外开放的对象</span></span><br><span class="line">  <span class="keyword">var</span> mytool = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">  global.mytool = mytool;</span><br><span class="line">&#125;)(<span class="built_in">window</span>);</span><br></pre></td></tr></table></figure><p>此时在全局作用域中便存在了一个对象<code>mytool</code>。</p><h2 id="选择器"><a class="markdownIt-Anchor" href="#选择器"></a> 选择器</h2><p>实现一个选择器，用于替代<code>getElementById</code>、<code>getElementsByClassName</code>、<code>getElementsByTagName</code>三种获取方式。</p><p>实现方式，将需要搜索的标签名（id，class，tagname）传入方法参数，通过内部处理返回一个数组。</p><ol><li>对于<code>id</code>选择器或<code>class</code>选择器来说，传入形参为<code>#id</code>或<code>.class</code>。那么只需要去匹配第一个字符即可。</li><li>如果不匹配以上两种情况，那么可以视为<code>TagName</code>。</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">mytool.getElement = <span class="function"><span class="keyword">function</span> (<span class="params">selector</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//   判断selector是否为空</span></span><br><span class="line">    <span class="keyword">if</span> (selector !== <span class="string">""</span> &amp;&amp; selector !== <span class="literal">undefined</span> &amp;&amp; selector !== <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="comment">// 判断当前选择器</span></span><br><span class="line">        <span class="keyword">var</span> firstSelector = selector.slice(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">var</span> lastSelector = selector.slice(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">var</span> result,</span><br><span class="line">            arr = [];</span><br><span class="line">        <span class="keyword">if</span> (firstSelector === <span class="string">"#"</span>) &#123;</span><br><span class="line">            <span class="comment">//   ID查找</span></span><br><span class="line">            result = <span class="built_in">document</span>.getElementById(lastSelector);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (firstSelector === <span class="string">"."</span>) &#123;</span><br><span class="line">            <span class="comment">// class查找</span></span><br><span class="line">            result = <span class="built_in">document</span>.getElementsByClassName(lastSelector);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// tagname查找</span></span><br><span class="line">            result = <span class="built_in">document</span>.getElementsByTagName(selector);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (result.length) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; result.length; i++) &#123;</span><br><span class="line">                arr.push(result[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            arr.push(result);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> arr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="选择器的改造"><a class="markdownIt-Anchor" href="#选择器的改造"></a> 选择器的改造</h2><ol><li><p>定义开放给全局作用域的变量，其具有两重身份</p><ul><li><p>本身应该是一个对象：通过构造函数方式来创建(自身方法和原型方法都存在)</p><p>将之前定义页面元素返回的结果(数组)和当前这个对象进行整合，因此需要使用<strong>类数组对象</strong></p></li><li><p>应该是一个函数, 该函数封装定位页面元素功能</p></li></ul></li></ol><div class="snote idea yellow"><p>类数组对象</p></div><p>实现一个类数组对象只需要将某个构造函数的原型指向一个数组即可。例如：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createObject</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = <span class="string">"李雷"</span>;</span><br><span class="line">  <span class="keyword">this</span>.sayMe = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 构造函数的原型属性 -&gt; 其实是一个空对象 -&gt; 利用最简形式实现继承</span></span><br><span class="line">createObject.prototype = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line"><span class="comment">// 结构上是一个, 自定义的一个对象 -&gt; 类数组对象</span></span><br><span class="line"><span class="keyword">var</span> newObj = <span class="keyword">new</span> createObject();</span><br><span class="line"></span><br><span class="line">newObj.push(<span class="string">"xxx"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(newObj);</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/06/275a941dff51a809e1bb69a62015cd01.png" alt="image-20200606172902611" /></p><div class="snote idea yellow"><p>函数</p></div><p>在函数内部创建核心对象，操作在核心对象上，最后返回这个对象。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> _mytool = <span class="function"><span class="keyword">function</span> (<span class="params">selector</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 创建核心对象</span></span><br><span class="line">    <span class="keyword">var</span> _tool = <span class="keyword">new</span> createMyTool();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 判断selector是否为空</span></span><br><span class="line">    <span class="keyword">if</span> (selector !== <span class="string">""</span> &amp;&amp; selector !== <span class="literal">undefined</span> &amp;&amp; selector !== <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="comment">// 如何判断当前使用的是哪一种选择器? 判断第一个字符是什么</span></span><br><span class="line">        <span class="keyword">var</span> firstSelector = selector.slice(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">var</span> result;</span><br><span class="line">        <span class="keyword">if</span> (firstSelector === <span class="string">"#"</span>) &#123;</span><br><span class="line">            <span class="comment">// 当前就是ID查找</span></span><br><span class="line">            result = <span class="built_in">document</span>.getElementById(selector.slice(<span class="number">1</span>));</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (firstSelector === <span class="string">"."</span>) &#123;</span><br><span class="line">            <span class="comment">// 当前就是className查找</span></span><br><span class="line">            result = <span class="built_in">document</span>.getElementsByClassName(selector.slice(<span class="number">1</span>));</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 当前就是TagName查找</span></span><br><span class="line">            result = <span class="built_in">document</span>.getElementsByTagName(selector);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (result.length) &#123;</span><br><span class="line">            <span class="comment">// 当前得到结果是集合</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; result.length; i++) &#123;</span><br><span class="line">                _tool.push(result[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 当前得到结果是元素</span></span><br><span class="line">            _tool.push(result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 在当前函数中返回一个对象</span></span><br><span class="line">    <span class="keyword">return</span> _tool;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><div class="snote quote"><p class='p subtitle'>NOTE</p><ol><li><p>在函数内部定义局部变量、内部函数或对象时, 命名格式经常使用&quot;_&quot;作为前缀</p><p>目的主要为了与真正在全局作用域中定义变量、对象或函数进行区分</p></li><li><p>在实际开发, 经常会使用一个符号替代对象名. 比如后面要学习的jQuery库, 使用&quot;$&quot;替代对象</p></li></ol></div><h2 id="选择器的再次改造"><a class="markdownIt-Anchor" href="#选择器的再次改造"></a> 选择器的再次改造</h2><ol><li><p>首先是需要判断当前的运行环境</p><p>改造的思路为，判断当前环境是否存在<code>document</code>，如果存在则为浏览器环境，如果不存在为其他环境。当浏览器环境时，去运行一个回调函数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">global, factory</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (global.document) &#123;</span><br><span class="line">        <span class="comment">//   浏览器环境</span></span><br><span class="line">        factory(global);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">//   非浏览器环境</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)(<span class="built_in">window</span> !== <span class="literal">undefined</span> ? <span class="built_in">window</span> : <span class="keyword">this</span>, <span class="function"><span class="keyword">function</span> (<span class="params">window</span>) </span>&#123;&#125;)</span><br></pre></td></tr></table></figure><p>于是匿名函数的结构就变成了如上结构。</p><p><em>传入的<code>windows</code>形参是为了增加功能时直接使用的全局对象。</em></p></li><li><p>开放给全局的对象</p><p>回调函数需要明确的是：还是需要返回一个类数组对象，并且需要开放给全局一个对象来使用。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">global, factory</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (global.document) &#123;</span><br><span class="line">        <span class="comment">//   浏览器环境</span></span><br><span class="line">        factory(global);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">//   非浏览器环境</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)(<span class="built_in">window</span> !== <span class="literal">undefined</span> ? <span class="built_in">window</span> : <span class="keyword">this</span>, <span class="function"><span class="keyword">function</span> (<span class="params">window</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//用作核心对象的构造函数</span></span><br><span class="line">    MyTool.init = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">    MyTool.init.prototype = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line">    <span class="comment">// 将核心对象开放给全局作用域</span></span><br><span class="line">    <span class="built_in">window</span>.MyTool = <span class="built_in">window</span>.$ = MyTool;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>定义MyTool基本模型</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> MyTool = <span class="function"><span class="keyword">function</span> (<span class="params">selector</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 实例核心对象</span></span><br><span class="line">    <span class="keyword">var</span> _mytool = <span class="keyword">new</span> MyTool.init();</span><br><span class="line">    <span class="comment">// 如果没有传入参数，那么直接返回核心对象</span></span><br><span class="line">    <span class="keyword">if</span> (selector === <span class="literal">undefined</span> || selector === <span class="literal">null</span> || selector === <span class="string">""</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> _mytool;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 返回核心对象</span></span><br><span class="line">    <span class="keyword">return</span> _mytool;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li><li><p>完成选择器的功能</p><p>字符串可以使用索引值的方式去取到第一个字符，因此可以替换掉<code>slice</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> MyTool = <span class="function"><span class="keyword">function</span> (<span class="params">selector</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 实例核心对象</span></span><br><span class="line">    <span class="keyword">var</span> _mytool = <span class="keyword">new</span> MyTool.init();</span><br><span class="line">    <span class="comment">// 如果没有传入参数，那么直接返回核心对象</span></span><br><span class="line">    <span class="keyword">if</span> (selector === <span class="literal">undefined</span> || selector === <span class="literal">null</span> || selector === <span class="string">""</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> _mytool;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 选择器功能</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (selector[<span class="number">0</span>] === <span class="string">"#"</span>) &#123;</span><br><span class="line">        <span class="comment">// 元素的ID属性定位页面元素</span></span><br><span class="line">        result = _document.getElementById(selector.slice(<span class="number">1</span>));</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (selector[<span class="number">0</span>] === <span class="string">"."</span>) &#123;</span><br><span class="line">        <span class="comment">// 元素的class属性定位页面元素</span></span><br><span class="line">        result = _document.getElementsByClassName(selector.slice(<span class="number">1</span>));</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 元素的名称定位页面元素</span></span><br><span class="line">        result = _document.getElementsByTagName(selector);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 将定位页面元素的结果封装到核心对象中</span></span><br><span class="line">    <span class="keyword">if</span> (result.length) &#123;</span><br><span class="line">        <span class="comment">// 当前得到结果是集合</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; result.length; i++) &#123;</span><br><span class="line">            _mytool.push(result[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 当前得到结果是元素</span></span><br><span class="line">        _mytool.push(result);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 返回核心对象</span></span><br><span class="line">    <span class="keyword">return</span> _mytool;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol><h2 id="扩展创建标签的功能"><a class="markdownIt-Anchor" href="#扩展创建标签的功能"></a> 扩展创建标签的功能</h2><p>扩展标签所需要判断的是开头为<code>&lt;</code>，并且最后一个字符为<code>&gt;</code>，且长度大于等于3。那么即可视为创建标签元素。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (</span><br><span class="line">    selector[<span class="number">0</span>] === <span class="string">"&lt;"</span> &amp;&amp;</span><br><span class="line">    selector[selector.length - <span class="number">1</span>] === <span class="string">"&gt;"</span> &amp;&amp;</span><br><span class="line">    selector.length &gt;= <span class="number">3</span></span><br><span class="line">) &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        创建元素: 参数中截取到标签名</span></span><br><span class="line"><span class="comment">        1. 开始标签中存在属性: 标签名就是从"&lt;"到第一个空格之间</span></span><br><span class="line"><span class="comment">        2. 开始标签中不存在属性: 标签名就是从"&lt;"到第一个"&gt;"之间</span></span><br><span class="line"><span class="comment">        实现的思路:</span></span><br><span class="line"><span class="comment">        1. 截取到第一个"&gt;"的索引值</span></span><br><span class="line"><span class="comment">        2. 判断从"&lt;"到第一个"&gt;"之间是否存在空格</span></span><br><span class="line"><span class="comment">           * 如果存在: 具有属性</span></span><br><span class="line"><span class="comment">           * 如果不存在: 没有属性</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">    <span class="keyword">var</span> firstRightArrowIndex = selector.indexOf(<span class="string">"&gt;"</span>);</span><br><span class="line">    <span class="keyword">var</span> startTag = selector.slice(<span class="number">0</span>, firstRightArrowIndex + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">var</span> firstSpaceIndex = startTag.indexOf(<span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">var</span> tagName, textValue;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (firstSpaceIndex !== <span class="number">-1</span>) &#123;</span><br><span class="line">        <span class="comment">// 开始标签中存在属性</span></span><br><span class="line">        tagName = selector.slice(<span class="number">1</span>, firstSpaceIndex);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 开始标签中不存在属性</span></span><br><span class="line">        tagName = selector.slice(<span class="number">1</span>, firstRightArrowIndex);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> newElement = _document.createElement(tagName);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 是否存在文本内容</span></span><br><span class="line">    <span class="keyword">if</span> (selector.match(<span class="regexp">/[&lt;]/g</span>).length === <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> lastLeftArrowIndex = selector.lastIndexOf(<span class="string">"&lt;"</span>);</span><br><span class="line">        textValue = selector.slice(</span><br><span class="line">            firstRightArrowIndex + <span class="number">1</span>,</span><br><span class="line">            lastLeftArrowIndex</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        newElement.textContext = textValue;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 是否存在属性</span></span><br><span class="line">    <span class="keyword">if</span> (firstSpaceIndex !== <span class="number">-1</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> attrArr = startTag.slice(<span class="number">0</span>, firstRightArrowIndex).split(<span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; attrArr.length; i++) &#123;</span><br><span class="line">            <span class="keyword">var</span> attrText = attrArr[i];</span><br><span class="line">            <span class="keyword">var</span> attrName = attrText.split(<span class="string">"="</span>)[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">var</span> attrValue = attrText.split(<span class="string">"="</span>)[<span class="number">1</span>];</span><br><span class="line">            attrValue = attrValue.slice(<span class="number">1</span>, attrValue.length - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">            newElement.setAttribute(attrName, attrValue);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    result = newElement;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="开发历程及代码"><a class="markdownIt-Anchor" href="#开发历程及代码"></a> 开发历程及代码</h2><table><thead><tr><th style="text-align:center">时间</th><th style="text-align:center">开发内容</th></tr></thead><tbody><tr><td style="text-align:center">2020-06-07</td><td style="text-align:center">选择器的再次改造、扩展创建标签的功能</td></tr><tr><td style="text-align:center">2020-06-06</td><td style="text-align:center">选择器的改造</td></tr><tr><td style="text-align:center">2020-06-03</td><td style="text-align:center">前期准备、选择器</td></tr></tbody></table><p>代码仓库：<a href="https://gitee.com/antmoe/project/tree/master/2020/06/mytools" target="_blank" rel="noopener">mytools</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">global, factory</span>) </span>&#123;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 目标：判断当前使用工具库的环境是否为浏览器环境</span></span><br><span class="line"><span class="comment">   * 如果是浏览器环境，执行对应的逻辑</span></span><br><span class="line"><span class="comment">   * 如果非浏览器环境，执行其他的逻辑</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">if</span> (global.document) &#123;</span><br><span class="line">    <span class="comment">//   浏览器环境</span></span><br><span class="line">    factory(global);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">//   非浏览器环境</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   *  传递实参时：允许直接传递表达式 -&gt; 将表达式的计算结果作为实参传递</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">&#125;)(<span class="built_in">window</span> !== <span class="literal">undefined</span> ? <span class="built_in">window</span> : <span class="keyword">this</span>, <span class="function"><span class="keyword">function</span> (<span class="params">window</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> _document = <span class="built_in">window</span>.document;</span><br><span class="line">  <span class="keyword">var</span> MyTool = <span class="function"><span class="keyword">function</span> (<span class="params">selector</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 返回核心对象</span></span><br><span class="line">    <span class="keyword">var</span> _mytool = <span class="keyword">new</span> MyTool.init(),</span><br><span class="line">      result;</span><br><span class="line">    <span class="keyword">if</span> (selector === <span class="literal">undefined</span> || selector === <span class="literal">null</span> || selector === <span class="string">""</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> _mytool;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//   创建标签</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (</span><br><span class="line">      selector[<span class="number">0</span>] === <span class="string">"&lt;"</span> &amp;&amp;</span><br><span class="line">      selector[selector.length - <span class="number">1</span>] === <span class="string">"&gt;"</span> &amp;&amp;</span><br><span class="line">      selector.length &gt;= <span class="number">3</span></span><br><span class="line">    ) &#123;</span><br><span class="line">      <span class="comment">/*</span></span><br><span class="line"><span class="comment">        创建元素: 参数中截取到标签名</span></span><br><span class="line"><span class="comment">        1. 开始标签中存在属性: 标签名就是从"&lt;"到第一个空格之间</span></span><br><span class="line"><span class="comment">        2. 开始标签中不存在属性: 标签名就是从"&lt;"到第一个"&gt;"之间</span></span><br><span class="line"><span class="comment">        实现的思路:</span></span><br><span class="line"><span class="comment">        1. 截取到第一个"&gt;"的索引值</span></span><br><span class="line"><span class="comment">        2. 判断从"&lt;"到第一个"&gt;"之间是否存在空格</span></span><br><span class="line"><span class="comment">           * 如果存在: 具有属性</span></span><br><span class="line"><span class="comment">           * 如果不存在: 没有属性</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">      <span class="keyword">var</span> firstRightArrowIndex = selector.indexOf(<span class="string">"&gt;"</span>);</span><br><span class="line">      <span class="keyword">var</span> startTag = selector.slice(<span class="number">0</span>, firstRightArrowIndex + <span class="number">1</span>);</span><br><span class="line">      <span class="keyword">var</span> firstSpaceIndex = startTag.indexOf(<span class="string">" "</span>);</span><br><span class="line">      <span class="keyword">var</span> tagName, textValue;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (firstSpaceIndex !== <span class="number">-1</span>) &#123;</span><br><span class="line">        <span class="comment">// 开始标签中存在属性</span></span><br><span class="line">        tagName = selector.slice(<span class="number">1</span>, firstSpaceIndex);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 开始标签中不存在属性</span></span><br><span class="line">        tagName = selector.slice(<span class="number">1</span>, firstRightArrowIndex);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> newElement = _document.createElement(tagName);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 是否存在文本内容</span></span><br><span class="line">      <span class="keyword">if</span> (selector.match(<span class="regexp">/[&lt;]/g</span>).length === <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> lastLeftArrowIndex = selector.lastIndexOf(<span class="string">"&lt;"</span>);</span><br><span class="line">        textValue = selector.slice(</span><br><span class="line">          firstRightArrowIndex + <span class="number">1</span>,</span><br><span class="line">          lastLeftArrowIndex</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        newElement.textContext = textValue;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 是否存在属性</span></span><br><span class="line">      <span class="keyword">if</span> (firstSpaceIndex !== <span class="number">-1</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> attrArr = startTag.slice(<span class="number">0</span>, firstRightArrowIndex).split(<span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; attrArr.length; i++) &#123;</span><br><span class="line">          <span class="keyword">var</span> attrText = attrArr[i];</span><br><span class="line">          <span class="keyword">var</span> attrName = attrText.split(<span class="string">"="</span>)[<span class="number">0</span>];</span><br><span class="line">          <span class="keyword">var</span> attrValue = attrText.split(<span class="string">"="</span>)[<span class="number">1</span>];</span><br><span class="line">          attrValue = attrValue.slice(<span class="number">1</span>, attrValue.length - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">          newElement.setAttribute(attrName, attrValue);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      result = newElement;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//   定位页面元素</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (selector[<span class="number">0</span>] === <span class="string">"#"</span>) &#123;</span><br><span class="line">      <span class="comment">// 元素的ID属性定位页面元素</span></span><br><span class="line">      result = _document.getElementById(selector.slice(<span class="number">1</span>));</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (selector[<span class="number">0</span>] === <span class="string">"."</span>) &#123;</span><br><span class="line">      <span class="comment">// 元素的class属性定位页面元素</span></span><br><span class="line">      result = _document.getElementsByClassName(selector.slice(<span class="number">1</span>));</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// 元素的名称定位页面元素</span></span><br><span class="line">      result = _document.getElementsByTagName(selector);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 将定位页面元素的结果封装到核心对象中</span></span><br><span class="line">    <span class="keyword">if</span> (result.length) &#123;</span><br><span class="line">      <span class="comment">// 当前得到结果是集合</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; result.length; i++) &#123;</span><br><span class="line">        _mytool.push(result[i]);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// 当前得到结果是元素</span></span><br><span class="line">      _mytool.push(result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 返回核心对象</span></span><br><span class="line">    <span class="keyword">return</span> _mytool;</span><br><span class="line">  &#125;;</span><br><span class="line">  MyTool.init = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">  MyTool.init.prototype = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line">  <span class="comment">// 将核心对象开放给全局作用域</span></span><br><span class="line">  <span class="built_in">window</span>.MyTool = <span class="built_in">window</span>.$ = MyTool;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/
      
    
    </summary>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="JavaScript案例练习" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/JavaScript%E6%A1%88%E4%BE%8B%E7%BB%83%E4%B9%A0/"/>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/tags/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="JavaScript" scheme="https://www.antmoe.com/tags/JavaScript/"/>
    
      <category term="练习" scheme="https://www.antmoe.com/tags/%E7%BB%83%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>20继承</title>
    <link href="https://www.antmoe.com/posts/aab33cb5/index.html"/>
    <id>https://www.antmoe.com/posts/aab33cb5/index.html</id>
    <published>2020-06-02T01:38:58.000Z</published>
    <updated>2020-06-22T10:42:16.885Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h2 id="原型链"><a class="markdownIt-Anchor" href="#原型链"></a> 原型链</h2><h3 id="原型链是什么"><a class="markdownIt-Anchor" href="#原型链是什么"></a> 原型链是什么</h3><p>如果构造函数或对象A，A的原型指向构造函数或对象B，B的原型再指向构造函数或对象C，以此类推，最终的构造函数或对象的原型指向Objecte的原型。由此形成一条链状结构，被称之为原型链。</p><p>按照上述的描述，在B中定义的属性或方法，可以直接在A中使用井不需要定义。这就是继承，它允许每个对象来访问其原型链上的任何属性或方法。</p><p>原型链是ECMAScript标准中指定的默认实现继承的方式。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 此方法实现继承并不好，不建议使用</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">A</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.a = <span class="string">"a"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 通过构造函数创建对象</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> A();</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">B</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.b = <span class="string">"b"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 将B的原型指向对象a</span></span><br><span class="line">B.prototype = a;</span><br><span class="line"><span class="keyword">var</span> b = <span class="keyword">new</span> B();</span><br><span class="line"><span class="built_in">console</span>.log(b.a); <span class="comment">//a</span></span><br><span class="line"><span class="built_in">console</span>.log(b.b); <span class="comment">//b</span></span><br><span class="line"><span class="built_in">console</span>.log(b.c); <span class="comment">//undefined</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">C</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.c = <span class="string">"c"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 将C的原型指向对象b</span></span><br><span class="line">C.prototype = b;</span><br><span class="line"><span class="keyword">var</span> c = <span class="keyword">new</span> C();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(c.a); <span class="comment">//a</span></span><br><span class="line"><span class="built_in">console</span>.log(c.b); <span class="comment">//b</span></span><br><span class="line"><span class="built_in">console</span>.log(c.c); <span class="comment">//c</span></span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/02/980f0df602d33ab7247a9503b1cffc8b.png" alt="image-20200602105216058" /></p><h3 id="只继承于原型"><a class="markdownIt-Anchor" href="#只继承于原型"></a> 只继承于原型</h3><p>出于对效率的考虑，尽可能地将属性和方法添加到原型上。</p><ul><li><strong>不要为继承关系单独创建新对象</strong></li><li><strong>尽量减少运行时的方法搜索。</strong></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">A</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">//   this.a = "a";</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">A.prototype.a = <span class="string">"a"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">B</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">//   this.b = "b";</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将B的原型指向对象a</span></span><br><span class="line">B.prototype = A.prototype;</span><br><span class="line"><span class="comment">// 注意顺序</span></span><br><span class="line">B.prototype.b = <span class="string">"b"</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">C</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.c = <span class="string">"c"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 将C的原型指向</span></span><br><span class="line">C.prototype = B.prototype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c = <span class="keyword">new</span> C();</span><br><span class="line"><span class="built_in">console</span>.log(c.a);</span><br><span class="line"><span class="built_in">console</span>.log(c.b);</span><br><span class="line"><span class="built_in">console</span>.log(c.c);</span><br></pre></td></tr></table></figure><div class="snote idea yellow"><p>在此方法中，中间的继承有格式写法的限制要求。但在性能上比原型链好。</p></div><h3 id="原型链的问题"><a class="markdownIt-Anchor" href="#原型链的问题"></a> 原型链的问题</h3><p>原型链虽然很强大，用它可以实现Javascript中的继承，但同时也存在着一些问题。</p><ul><li><p>原型链实际上是在多个构造函数或对象之间共享属性和方法。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">A</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">//   this.a = "a";</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">A.prototype.a = <span class="string">"a"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">B</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">//   this.b = "b";</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将B的原型指向对象a</span></span><br><span class="line">B.prototype = A.prototype;</span><br><span class="line"><span class="comment">// 注意顺序</span></span><br><span class="line">B.prototype.b = <span class="string">"b"</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">C</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">//   this.c = "c";</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 将C的原型指向</span></span><br><span class="line">C.prototype = B.prototype;</span><br><span class="line">C.prototype.c = <span class="string">"c"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c = <span class="keyword">new</span> C();</span><br><span class="line"><span class="built_in">console</span>.log(c.a); <span class="comment">// a</span></span><br><span class="line"><span class="built_in">console</span>.log(c.b); <span class="comment">// b</span></span><br><span class="line"><span class="built_in">console</span>.log(c.c); <span class="comment">// c</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = <span class="keyword">new</span> B();</span><br><span class="line"><span class="built_in">console</span>.log(b.a); <span class="comment">// a</span></span><br><span class="line"><span class="built_in">console</span>.log(b.b); <span class="comment">// b</span></span><br><span class="line"><span class="built_in">console</span>.log(b.c); <span class="comment">// c</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> A();</span><br><span class="line"><span class="built_in">console</span>.log(a.a); <span class="comment">// a</span></span><br><span class="line"><span class="built_in">console</span>.log(a.b); <span class="comment">// b</span></span><br><span class="line"><span class="built_in">console</span>.log(a.c); <span class="comment">// c</span></span><br></pre></td></tr></table></figure></li><li><p>创建子类的对象时，不能向父级的构造函数传递任何参数。</p></li></ul><p>综上所述，在实际开发中很少会单独使用原型链。</p><h2 id="继承"><a class="markdownIt-Anchor" href="#继承"></a> 继承</h2><h3 id="原型式继承"><a class="markdownIt-Anchor" href="#原型式继承"></a> 原型式继承</h3><p>所谓原型式继承，就是定义一个函数，该函数中创建一个临时性的构造函数，将作为参数传入的对象作为这个构造函数的原型，最后返回这个构造函数的实例对象。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 定义一个临时的构造函数</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">Fun</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">  <span class="comment">//   将函数的参数作为构造函数的原型</span></span><br><span class="line">  Fun.prototype = obj;</span><br><span class="line">  <span class="comment">// 将构造函数创建的对象进行返回</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> Fun();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">"张无忌"</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 调用函数</span></span><br><span class="line"><span class="keyword">var</span> result = fn(obj);</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure><p>但是以上方式并不能很自由的为对象添加自有属性，因此可以对其函数内的构造函数进行修改（调整）。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 定义一个函数 - 用于实现对象之间的继承</span></span><br><span class="line"><span class="comment"> * 参数</span></span><br><span class="line"><span class="comment"> *   obj - 表示继承关系中的父级对象</span></span><br><span class="line"><span class="comment"> *   prop - 对象格式，表示继承关系中的子集对象的属性</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">obj, prop</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 定义一个临时的构造函数</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">Fun</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//   遍历对象的属性和方法</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> attrName <span class="keyword">in</span> prop) &#123;</span><br><span class="line">      <span class="keyword">var</span> attrValue = prop[attrName];</span><br><span class="line">      <span class="keyword">this</span>[attrName] = attrValue;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//   将函数的参数作为构造函数的原型</span></span><br><span class="line">  Fun.prototype = obj;</span><br><span class="line">  <span class="comment">// 将构造函数创建的对象进行返回</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> Fun();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">"张无忌"</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 调用函数</span></span><br><span class="line"><span class="keyword">var</span> result = fn(obj, &#123;</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  sayMe: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"this is sayMe"</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(result.sayMe());</span><br></pre></td></tr></table></figure><div class="snote msg cyan"><p>其主要区别为为函数多添加一个参数，用于接收自有变量。当进行创建对象时，传入自有变量即可。</p></div><div class="snote undo"><p>JavaScript中实现以上函数的功能可以使用Object.create()方法实现。但其传入自有属性时需注意。具体可参照如下代码：</p></div><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">"张无忌"</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> newObj = <span class="built_in">Object</span>.create(obj, &#123;</span><br><span class="line">  age: &#123;</span><br><span class="line">    value: <span class="number">18</span>,</span><br><span class="line">    enumerable: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  sayMe: &#123;</span><br><span class="line">    value: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">"this is function"</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(newObj.name); <span class="comment">// 张无忌</span></span><br><span class="line"><span class="built_in">console</span>.log(newObj); <span class="comment">// &#123; age: 18 &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(newObj.sayMe()); <span class="comment">// this is function</span></span><br></pre></td></tr></table></figure><h3 id="借助构造函数"><a class="markdownIt-Anchor" href="#借助构造函数"></a> 借助构造函数</h3><p>无论是原型链还是原型式继承，都具有相同的问题。想要解決这样的问题的话，可以借助构造函数（也可以叫做伪造对象或经典继承）。</p><p>这种方式实现非常简单，就是在子对象的构造函数中调用父对象的构造函数。具体可以通过调用apply()和 call()方法实现。</p><p>apply()和call()方法都允许传递指定某个对象的this。对于继承来讲，可以实现在子对象的构造函数中调用父对象的构造函数时，将子对象的this和父对象的this绑定在一起。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义父级对象的构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.parent = <span class="string">"parent"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义子级对象的构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 调用父级对象的构造函数 -&gt; 使用apply()或call()方法</span></span><br><span class="line">  Parent.apply(<span class="keyword">this</span>);</span><br><span class="line">  <span class="keyword">this</span>.child = <span class="string">"child"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建子级对象</span></span><br><span class="line"><span class="keyword">var</span> child = <span class="keyword">new</span> Child();</span><br><span class="line"><span class="built_in">console</span>.log(child);</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/03/0c5554ef0f0e67405b4cf07499a3bee5.png" alt="image-20200603114841202" /></p><h3 id="组合方式继承"><a class="markdownIt-Anchor" href="#组合方式继承"></a> 组合方式继承</h3><p>组合继承，也叫做伪经典继承，指的是将原型链或原型式继承和借助构造函数的技术组合在一起，发挥二者长处的一种继承方式。<br />具体实现的思路就是：</p><ul><li>使用原型链或原型式继承实现对原型的属性和方法的继承。</li><li>通过借助构造函数实现对实例对象的属性的继承。</li></ul><p>这样，既通过在原型上定义方法实现了函数的重用，又可以保证每个对象都有自己的专有属性。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 构造函数的自有属性</span></span><br><span class="line">  <span class="keyword">this</span>.name = <span class="string">"张无忌"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 构造函数的原型属性</span></span><br><span class="line">Parent.prototype.age = <span class="number">18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 继承父级构造函数中的自有属性</span></span><br><span class="line">  Parent.call(<span class="keyword">this</span>);</span><br><span class="line">  <span class="keyword">this</span>.job = <span class="string">"教主"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 继承父级构造函数中的原型属性</span></span><br><span class="line">Child.prototype = Parent.prototype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> child = <span class="keyword">new</span> Child();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(child.job);</span><br><span class="line"><span class="built_in">console</span>.log(child.age);</span><br><span class="line"><span class="built_in">console</span>.log(child.name);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/
      
    
    </summary>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="JavaScript笔记" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/JavaScript%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/tags/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="笔记" scheme="https://www.antmoe.com/tags/%E7%AC%94%E8%AE%B0/"/>
    
      <category term="JavaScript" scheme="https://www.antmoe.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>19原型</title>
    <link href="https://www.antmoe.com/posts/8643f64c/index.html"/>
    <id>https://www.antmoe.com/posts/8643f64c/index.html</id>
    <published>2020-05-31T06:31:58.000Z</published>
    <updated>2020-06-22T10:42:16.885Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h2 id="原型"><a class="markdownIt-Anchor" href="#原型"></a> 原型</h2><h3 id="原型是什么"><a class="markdownIt-Anchor" href="#原型是什么"></a> 原型是什么</h3><p>在 Javascript中，函数是一个包含属性和方法的Function类型的对象。而原型（ Prototype）就是Function类型对象的一个属性。</p><p>在函数定义时就包含了 prototype属性，它的初始值是一个空对象。在 Javascript中井没有定义函数的原型类型，所以原型可以是任何类型。</p><p>原型是用于保存对象的共享属性和方法的，原型的属性和方法并不会影响函数本身的属性和方法。</p><p>原型的默认值是空对象，所有引用类型都是构造函数，所有函数都具有<code>prototype</code>属性。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Function 类型的属性 -&gt; 所有函数都具有的属性</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Function</span>.prototype);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"this is function"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 原型的默认值是空对象</span></span><br><span class="line"><span class="built_in">console</span>.log(fn.prototype);</span><br><span class="line"><span class="comment">// 函数包含构造函数 -&gt; 所有引用类型都是构造函数</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>.prototype);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> result = <span class="built_in">Object</span>.getOwnPropertyDescriptor(<span class="built_in">Object</span>.prototype, <span class="string">"constructor"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure><h3 id="获取原型"><a class="markdownIt-Anchor" href="#获取原型"></a> 获取原型</h3><p>获取原型的方式有两种</p><p><span class="inline-tag blue">使用访问对象的属性语法结构</span></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"this is function "</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 使用访问对象的属性语法结构</span></span><br><span class="line"><span class="built_in">console</span>.log(fn.prototype); <span class="comment">// fn &#123;&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(fn[<span class="string">"prototype"</span>]); <span class="comment">// fn &#123;&#125;</span></span><br></pre></td></tr></table></figure><p><span class="inline-tag blue">Object类提供的getPrototype()方法</span></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"this is function "</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getPrototypeOf(fn)); <span class="comment">//[Function]或者ƒ () &#123; [native code] &#125;</span></span><br></pre></td></tr></table></figure><p>第二种方式中，在nodejs环境中会打印<code>[Function]</code>而在浏览器会打印<code>ƒ () { [native code] }</code></p><h3 id="新增属性和方法"><a class="markdownIt-Anchor" href="#新增属性和方法"></a> 新增属性和方法</h3><p><span class="inline-tag blue">使用对象新增方式。</span></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"this is function "</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 新增属性或方法</span></span><br><span class="line">fn.prototype.name = <span class="string">"张无忌"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(fn.prototype.name); <span class="comment">// 张无忌</span></span><br><span class="line"><span class="built_in">console</span>.log(fn.prototype); <span class="comment">// fn &#123; name: '张无忌' &#125;</span></span><br></pre></td></tr></table></figure><p><span class="inline-tag blue">使用defineProperty()方法</span></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"this is function "</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// defineProperty()</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(fn.prototype, <span class="string">"age"</span>, &#123;</span><br><span class="line">  value: <span class="number">10</span>,</span><br><span class="line">  <span class="comment">// 如果不修改此属性描述符，则不可枚举</span></span><br><span class="line">  enumerable: <span class="literal">true</span>,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(fn.prototype); <span class="comment">// fn &#123;age: 10 &#125;</span></span><br></pre></td></tr></table></figure><h2 id="构造函数的原型"><a class="markdownIt-Anchor" href="#构造函数的原型"></a> 构造函数的原型</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义构造函数</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Hero</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = <span class="string">"张无忌"</span>;</span><br><span class="line">  <span class="keyword">this</span>.sayMe = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"this is function "</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 操作构造函数Hero的原型</span></span><br><span class="line">Hero.prototype.age = <span class="number">18</span>;</span><br><span class="line"><span class="comment">//  利用构造函数来创造对象</span></span><br><span class="line"><span class="keyword">var</span> hero = <span class="keyword">new</span> Hero();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(hero); <span class="comment">// Hero &#123; name: '张无忌', sayMe: [Function] &#125;</span></span><br><span class="line"><span class="comment">// 为构造函数的原型新增的属性在创建对象中仍然可以访问</span></span><br><span class="line"><span class="built_in">console</span>.log(hero.age); <span class="comment">// 18</span></span><br><span class="line"><span class="comment">// 对象小hero中不存在age属性</span></span><br><span class="line"><span class="keyword">var</span> result = <span class="built_in">Object</span>.getOwnPropertyDescriptor(hero, <span class="string">"age"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">//undefined</span></span><br></pre></td></tr></table></figure><p>以上代码经测试可以发现，为构造函数原型新添加的属性，在其对象中虽可访问但通过<code>getOwnPropertyDescriptor</code>方法是得不到的。</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/05/31/f2875b8030a0dc8606d311643acba7a3.png" alt="image-20200531163053091" /></p><h2 id="原型属性"><a class="markdownIt-Anchor" href="#原型属性"></a> 原型属性</h2><h3 id="自有属性与原型属性"><a class="markdownIt-Anchor" href="#自有属性与原型属性"></a> 自有属性与原型属性</h3><ul><li>自有属性：通过对象的引用添加的属性。其它对象可能无此属性；即使有，也是彼此独立的属性。</li><li>原型属性：从原型对象中继承来的属性，一旦原型对象中属性值改变，所有继承自该原型的对象属性均改变。</li></ul><p>通过构造函数Hero创建对象时不仅具有构造函数的自有属性，也具有构造函数的原型属性。</p><p>通过对象是无法修改原型的值，修改原型的值，必须修改构造函数的原型。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Hero</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 构造函数本身的属性 成为自有属性</span></span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.sayMe = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"this is function"</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 通过构造函数Hero的prototype新增属性或方法</span></span><br><span class="line"><span class="comment">// 通过原型所定义的属性称为原型属性</span></span><br><span class="line">Hero.prototype.age = <span class="number">19</span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 通过构造函数Hero创建对象时</span></span><br><span class="line"><span class="comment"> *  不仅具有构造函数的自有属性</span></span><br><span class="line"><span class="comment"> *  也具有构造函数的原型属性</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">var</span> hero = <span class="keyword">new</span> Hero(<span class="string">"张无忌"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(hero.name); <span class="comment">// 张无忌</span></span><br><span class="line"><span class="built_in">console</span>.log(hero.age); <span class="comment">//19</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> hero2 = <span class="keyword">new</span> Hero(<span class="string">"周芷若"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(hero2.name); <span class="comment">// 周芷若</span></span><br><span class="line"><span class="built_in">console</span>.log(hero2.age); <span class="comment">//19</span></span><br><span class="line"></span><br><span class="line">hero.age = <span class="number">80</span>; <span class="comment">// 相当于为hero新增属性</span></span><br><span class="line"><span class="built_in">console</span>.log(hero);</span><br><span class="line"><span class="built_in">console</span>.log(hero.age); <span class="comment">//80</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(hero2.age); <span class="comment">// 19</span></span><br><span class="line"></span><br><span class="line">Hero.prototype.age = <span class="number">80</span>;</span><br></pre></td></tr></table></figure><h3 id="自有属性与原型属性的优先级"><a class="markdownIt-Anchor" href="#自有属性与原型属性的优先级"></a> 自有属性与原型属性的优先级</h3><p>自有属性的优先级<strong>高</strong>于原型属性，也就是说当原型属性与自有属性同时存在时，那么优先打印出的是自有属性。但自有属性不会覆盖原型属性，当删除自有属性时，再次访问该属性，那么会输出原型属性。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Hero</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = <span class="string">"张无忌"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 构造函数的原型</span></span><br><span class="line">Hero.prototype.name = <span class="string">"周芷若"</span>;</span><br><span class="line"><span class="comment">// 构造函数创建对象</span></span><br><span class="line"><span class="keyword">var</span> hero = <span class="keyword">new</span> Hero();</span><br><span class="line"><span class="comment">// 自有属性与原型同名时，默认访问的是自有属性</span></span><br><span class="line"><span class="comment">// 自有属性的优先级别高于原型属性</span></span><br><span class="line"><span class="built_in">console</span>.log(hero.name); <span class="comment">//张无忌</span></span><br><span class="line"><span class="comment">// 删除对象的属性</span></span><br><span class="line"><span class="keyword">delete</span> hero.name;</span><br><span class="line"><span class="built_in">console</span>.log(hero.name); <span class="comment">//周芷若</span></span><br></pre></td></tr></table></figure><h3 id="检测自有属性与原型属性"><a class="markdownIt-Anchor" href="#检测自有属性与原型属性"></a> 检测自有属性与原型属性</h3><p>检测自有属性有两种方式，分别为<code>object.hasOwnProperty(prop)</code>与<code>in</code>关键字。但这两种方式是有区别的。</p><ul><li><p><code>object.hasOwnProperty(prop)</code>方式</p><ul><li><p>参数</p><p>示指定属性的名称，字符串类型</p></li><li><p>返回值</p><ul><li><p><code>true</code></p><p>表示<strong>存在</strong>指定属性是自有属性</p></li><li><p><code>false</code></p><p>表示不存在指定的自有属性</p></li></ul></li><li><p>示例</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Hero</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = <span class="string">"张无忌"</span>; <span class="comment">// 自有属性</span></span><br><span class="line">&#125;</span><br><span class="line">Hero.prototype.age = <span class="number">18</span>;</span><br><span class="line"><span class="keyword">var</span> hero = <span class="keyword">new</span> Hero();</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * object.hasOwnProperty()</span></span><br><span class="line"><span class="comment"> * 作用 - 判断当前属性是否为自有属性</span></span><br><span class="line"><span class="comment"> *  参数</span></span><br><span class="line"><span class="comment"> *    prop - 表示指定属性的名称</span></span><br><span class="line"><span class="comment"> * 返回值</span></span><br><span class="line"><span class="comment"> *   true - 表示存在指定属性是自有属性</span></span><br><span class="line"><span class="comment"> *   false - 表示不存在指定的自有属性</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">console</span>.log(hero.hasOwnProperty(<span class="string">"name"</span>)); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(hero.hasOwnProperty(<span class="string">"age"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(hero.hasOwnProperty(<span class="string">"sex"</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p><code>in</code>关键字</p><ul><li><p>返回值</p><ul><li><p><code>true</code></p><p>表示存在指定属性</p></li><li><p><code>false</code></p><p>表示不存在指定属性</p></li></ul></li><li><p>示例</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Hero</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = <span class="string">"张无忌"</span>; <span class="comment">// 自有属性</span></span><br><span class="line">&#125;</span><br><span class="line">Hero.prototype.age = <span class="number">18</span>;</span><br><span class="line"><span class="keyword">var</span> hero = <span class="keyword">new</span> Hero();</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 使用in关键字检测对象的属性</span></span><br><span class="line"><span class="comment"> * 作用 - 判断对象中是否存在指定属性（自有属性或原型属性）</span></span><br><span class="line"><span class="comment"> *  * 返回值</span></span><br><span class="line"><span class="comment"> *   true - 表示存在指定属性</span></span><br><span class="line"><span class="comment"> *   false - 表示不存在指定属性</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"name"</span> <span class="keyword">in</span> hero); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"age"</span> <span class="keyword">in</span> hero); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"sex"</span> <span class="keyword">in</span> hero); <span class="comment">// false</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><h3 id="扩展属性和方法"><a class="markdownIt-Anchor" href="#扩展属性和方法"></a> 扩展属性和方法</h3><ol><li><p>利用<em>对象.属性</em>或方法的方式新增属性或方法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Hero</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="comment">// 1. 利用对象.属性或方法的方式新增属性或方法</span></span><br><span class="line">Hero.prototype.name = <span class="string">"张无忌"</span>;</span><br><span class="line">Hero.prototype.sayMe = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"this is function"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> hero = <span class="keyword">new</span> Hero();</span><br><span class="line"><span class="built_in">console</span>.log(hero.name); <span class="comment">// 张无忌</span></span><br><span class="line">hero.sayMe(); <span class="comment">// this is function</span></span><br></pre></td></tr></table></figure></li><li><p>直接将原型重新赋值为一个新对象</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Hero</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="comment">// 2. 直接将原型重新赋值为一个新对象</span></span><br><span class="line">Hero.prototype = &#123;</span><br><span class="line">    name: <span class="string">"张无忌"</span>,</span><br><span class="line">    sayMe: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"this is function"</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> hero = <span class="keyword">new</span> Hero();</span><br><span class="line"><span class="built_in">console</span>.log(hero.name); <span class="comment">// 张无忌</span></span><br><span class="line">hero.sayMe(); <span class="comment">// this is function</span></span><br></pre></td></tr></table></figure></li><li><p>二者区别</p><p>第一种是相当于在原有的基础上扩充，而第二种会直接将内存指向改为一个新对象，如果原来新增过属性或方法，则全会丢失。</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/06/01/591df29494eccb9f8a3075581f5d44b6.png" alt="image-20200601163042862" /></p></li></ol><h3 id="隐式原型与显式原型"><a class="markdownIt-Anchor" href="#隐式原型与显式原型"></a> 隐式原型与显式原型</h3><p>将函数的原型称为<strong>显式原型</strong></p><p>将对象的原型成为<strong>隐式原型</strong></p><div class="note icon font5 far fa-lightbulb" style="background: #fdf8ea;border-left-color: #f0ad4e;"><p>所有对象都具有原型，但对象的原型(__proto__)并非是函数的原型(prototype)。对象的原型不能用于真实开发工作，仅用于逻辑测试</p></div><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Hero</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = <span class="string">"张无忌"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 通过构造函数的原型新增属性或方法</span></span><br><span class="line">Hero.prototype.age = <span class="number">18</span>;</span><br><span class="line"><span class="comment">// 通过构造函数创建对象</span></span><br><span class="line"><span class="keyword">var</span> hero = <span class="keyword">new</span> Hero();</span><br><span class="line"><span class="built_in">console</span>.log(hero.name);</span><br><span class="line"><span class="built_in">console</span>.log(hero.age);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 所有的对象其实也具有原型</span></span><br><span class="line"><span class="comment"> * * 注意 - 对象的原型(__proto__)并非是函数的原型(prototype)</span></span><br><span class="line"><span class="comment"> * 区分</span></span><br><span class="line"><span class="comment">    将函数的原型称为 显式原型</span></span><br><span class="line"><span class="comment">    将对象的原型成为 隐式原型</span></span><br><span class="line"><span class="comment">* 对象的原型：不能用于真实开发工作，仅用于逻辑测试</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(hero.prototype); <span class="comment">// undefined 表示对象中不存在该属性</span></span><br><span class="line"><span class="built_in">console</span>.log(hero.__proto__); <span class="comment">// Hero &#123; age: 18 &#125;</span></span><br></pre></td></tr></table></figure><h3 id="isprototypeof方法"><a class="markdownIt-Anchor" href="#isprototypeof方法"></a> isPrototypeOf()方法</h3><p>isPrototypeOf() 判断指定对象是否是另一个对象的原型。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 通过初始化器定义对象</span></span><br><span class="line">obj = &#123;</span><br><span class="line">  name: <span class="string">"张无忌"</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 定义构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Hero</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="comment">// 将对象obj赋值给构造函数Hero的原型</span></span><br><span class="line">Hero.prototype = obj;</span><br><span class="line"><span class="comment">// 通过构造函数创建对象</span></span><br><span class="line"><span class="keyword">var</span> hero = <span class="keyword">new</span> Hero();</span><br><span class="line"><span class="comment">// isPrototypeOf() 判断指定对象是否是另一个对象的原型</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.isPrototypeOf(hero)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(hero.isPrototypeOf(obj)); <span class="comment">// fasle</span></span><br></pre></td></tr></table></figure><h2 id="扩展内建对象"><a class="markdownIt-Anchor" href="#扩展内建对象"></a> 扩展内建对象</h2><ol><li><p>直接通过Object原型新增</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.sayMe = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"this is function"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 通过Object构造函数创建对象</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"></span><br><span class="line">obj.sayMe();</span><br></pre></td></tr></table></figure></li><li><p>通过<code>defineProperty</code>方法新增</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.defineProperty(<span class="built_in">Object</span>.prototype, <span class="string">"sayMe"</span>, &#123;</span><br><span class="line">  value: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"this is sayMe"</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">obj.sayMe();</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/
      
    
    </summary>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="JavaScript笔记" scheme="https://www.antmoe.com/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/JavaScript%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="大前端" scheme="https://www.antmoe.com/tags/%E5%A4%A7%E5%89%8D%E7%AB%AF/"/>
    
      <category term="笔记" scheme="https://www.antmoe.com/tags/%E7%AC%94%E8%AE%B0/"/>
    
      <category term="JavaScript" scheme="https://www.antmoe.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>优雅使用JsDeliver加速文件</title>
    <link href="https://www.antmoe.com/posts/e33d1c55/index.html"/>
    <id>https://www.antmoe.com/posts/e33d1c55/index.html</id>
    <published>2020-05-28T00:53:00.000Z</published>
    <updated>2020-06-22T10:42:16.877Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h2 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h2><p>看到好多人不会用GitHub+JsDeliver来加速自己的静态文件。遂决定水一篇，帮助一下弱者！</p><h2 id="正式开始"><a class="markdownIt-Anchor" href="#正式开始"></a> 正式开始</h2><div class="snote quote"><p class='p subtitle'>前期准备</p><ol><li>一个Github账号</li><li>可以登录GitHub</li><li>懂得如何向GitHub仓库push文件</li></ol></div><p>关于Github仓库可以新建，也可以使用<code>&lt;用户名&gt;.github.io</code>这个仓库。这里我就新建一个仓库为例。</p><ol><li><p>建立仓库</p><p>仓库名称与描述看自己心情写即可。但仓库一定要<strong>公开</strong>，不能是私有。</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/05/28/bac8d3113ba958f1192a1abfd6e31ebc.png" alt="image-20200528080046828" /></p></li><li><p>上传文件</p><p>这里我将上传一张图片</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/05/28/f908ef5f6898f66f9e66463398fa6164.png" alt="image-20200528080846385" /></p><p>一张6m的图😄</p></li><li><p>使用JSD引用。</p><p>这里我并未发布版本，但依然可以引用！<em>（仓库水完这篇文章也就删了，因此不要试图访问这个链接哦！但是本文图片全用的这种方式。）</em></p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/05/28/911db4c3b95ed896b066b6e9aabae311.png" alt="image-20200528083046335" /></p></li></ol><h2 id="常见问题"><a class="markdownIt-Anchor" href="#常见问题"></a> 常见问题</h2><p>上边的方式非常简单粗暴，几乎就是上传即可。但是这种方式存在几个问题。在这部分将解答疑惑。</p><h3 id="jsd的链接是什么"><a class="markdownIt-Anchor" href="#jsd的链接是什么"></a> JSD的链接是什么</h3><div class="snote idea yellow"><p>JSD的链接是什么？</p></div><p>在我上图的链接为<code>https://cdn.jsdelivr.net/gh/sviptzk/Jsd_test/79601805_p0.png</code>，但这并不意味着JSD只有这一种引用方式。</p><ol><li><p>直接引用</p><p>这种方式也就是上边的方式，格式为：<code>https://cdn.jsdelivr.net/gh/&lt;用户名&gt;/&lt;仓库名&gt;/&lt;文件及路径&gt;</code></p><p>例如：<code>https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2/2020/05/28/911db4c3b95ed896b066b6e9aabae311.png</code>代表用户名<code>blogimg</code>下的<code>HexoStaticFlle2</code>仓库中文件夹<code>/2020/05/28/</code>里的<code>911db4c3b95ed896b066b6e9aabae311.png</code>文件。</p></li><li><p>分支及版本号</p><p>分支与版本号加到仓库后变，用<code>@</code>符链接。格式为：<code>https://cdn.jsdelivr.net/gh/&lt;用户名&gt;/&lt;仓库名&gt;@[分支/版本号]/&lt;文件及路径&gt;</code></p><table><thead><tr><th style="text-align:center">分支名</th><th style="text-align:center">简述</th><th style="text-align:center">特点</th></tr></thead><tbody><tr><td style="text-align:center">普通分支</td><td style="text-align:center">即GitHub的分支，可以创建多个。默认为master</td><td style="text-align:center">按分支引用，如同按分支开发</td></tr><tr><td style="text-align:center"><code>latest</code></td><td style="text-align:center">最后一次提交</td><td style="text-align:center">代表最后一次的提交，即每上传一个新文件，都可以用这个分支引用到。也就是不加版本号的默认情况。</td></tr><tr><td style="text-align:center">版本号</td><td style="text-align:center">即指定版本的内容，需配合版本发布</td><td style="text-align:center">已发布的版本不会受到仓库内容变化的影响</td></tr></tbody></table></li></ol><h3 id="如何按版本号引用"><a class="markdownIt-Anchor" href="#如何按版本号引用"></a> 如何按版本号引用</h3><div class="snote idea yellow"><p>如何按版本号引用</p></div><p>使用版本号引用的优点在于：这个链接仅停留在发布版本号的时刻，无论仓库如何变化，这个版本号的文件都不会受到影响。同时可以避免JSD缓存问题。</p><ol><li><p>发布版本</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/05/28/87a5106dae590cb9d4aa6373c969286a.png" alt="image-20200528084631488" /></p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/05/28/1a7a301470e6564a118585aded6dc972.png" alt="image-20200528084647411" /></p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/05/28/cb43fa11bd315ed8f5346ace0ea08b5c.png" alt="image-20200528084720237" /></p></li><li><p>使用版本号引用</p><p>刚刚发布的版本中只有一个图片，那么即使我在上传一张图片也是无法引用到的。</p><p>例如我在向仓库push一张<code>1.jpg</code>，使用版本号方式引用。</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/05/28/6bfbc3a1f5e33fa07801acd99038edb4.png" alt="image-20200528085930130" /></p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/05/28/27308378700d0eb953aa47751df86560.png" alt="image-20200528085944413" /></p></li></ol><h3 id="关于缓存问题"><a class="markdownIt-Anchor" href="#关于缓存问题"></a> 关于缓存问题</h3><div class="snote idea yellow"><p>关于缓存问题</p></div><p>这个问题向迷一样，根据我自己的实测不仅与分支有关系而且与文件名有关系。文件名为<code>*.min.*</code>或者是<code>*.*</code>，也就是带<code>min</code>的和不带<code>min</code>的。这里我以<code>index.min.css</code>和<code>index.css</code>为例。</p><p>先来看看<code>index.css</code></p><table><thead><tr><th style="text-align:center">分支</th><th>首次上传</th><th style="text-align:center">能否及时更新</th><th style="text-align:center">缓存天数</th></tr></thead><tbody><tr><td style="text-align:center"><code>master</code></td><td>可以被引用</td><td style="text-align:center">第一次push和第一次修改可以更新</td><td style="text-align:center">可能1天</td></tr><tr><td style="text-align:center"><code>latest</code></td><td>可以被引用</td><td style="text-align:center">与master分支几乎一致</td><td style="text-align:center">可能1天</td></tr><tr><td style="text-align:center">版本号</td><td>发布版本后引用</td><td style="text-align:center">发布后及时更新</td><td style="text-align:center">每个版本独立</td></tr></tbody></table><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/05/28/e5cb1fb4ee213a924436ef3008a82ecb.png" alt="image-20200528091044063" /></p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/05/28/5d86cbae93878d06c323c6bcdc7603b4.png" alt="image-20200528091150570" /></p><p>在来看看<code>index.min.css</code></p><table><thead><tr><th style="text-align:center">分支</th><th>首次上传</th><th style="text-align:center">能否及时更新</th><th style="text-align:center">缓存天数</th></tr></thead><tbody><tr><td style="text-align:center"><code>master</code></td><td>可以被引用</td><td style="text-align:center">第一次push可以更新</td><td style="text-align:center">可能1天</td></tr><tr><td style="text-align:center"><code>latest</code></td><td>可以被引用</td><td style="text-align:center">第一次push和第一次修改可以更新</td><td style="text-align:center">可能1天</td></tr><tr><td style="text-align:center">版本号</td><td>发布版本后引用</td><td style="text-align:center">发布后及时更新</td><td style="text-align:center">每个版本独立</td></tr></tbody></table><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/05/28/a800e6fdd6ae614dca6e78237d24c0b7.png" alt="image-20200528091907595" /></p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.2.4/butterfly/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/05/28/5d32f3d272157531ac383ba30ba5933b.png" alt="image-20200528092301901" /></p><p>因此总结下的使用方式就是：</p><ul><li><p>图床（不需要修改文件）</p><p>使用latest分支或者master分支即可。</p></li><li><p>静态文件仓库（经常改动文件）</p><p>建议使用版本号方式</p></li></ul><h3 id="文件是否有限制"><a class="markdownIt-Anchor" href="#文件是否有限制"></a> 文件是否有限制</h3><div class="snote idea yellow"><p>文件是否有限制？</p></div><ol><li><p>先说说GitHub仓库</p><p>GitHub公开仓库大小为100GB，是不是听起来很爽。并且可以创建无数个仓库哦！</p><p>但是这100GB我们并不能全用完，甚至每个仓库不能超过1G。为什么？因为可能被封号。官方的解释是尽量不要传大文件，且仓库超过1G后会有人工审核仓库内容，如果发现用来做图床~~~😏。轻则删库，重则封号。因此为了安全建议在1G之前就换个仓库，反正可以创建无数个仓库嘛。</p></li><li><p>文件大小</p><p>Github单文件上传为100M，但是JSD加速的单文件大小为50M。因此也就意味着单文件大小为50MB。</p></li><li><p>文件类型</p><p>基本的图片视频静态文件应该都可以。</p></li></ol><h3 id="查看仓库文件"><a class="markdownIt-Anchor" href="#查看仓库文件"></a> 查看仓库文件</h3><div class="snote idea yellow"><p>查看仓库文件</p></div><p>查看仓库文件有大小限制，因此当你的仓库文件大于50MB时，就无法通过JSD查看了，只能在GitHub仓库查看。</p><p>JSD的查看仓库文件有两种方式：</p><ol><li><p>查看仓库的版本号</p><p>格式：<code>https://www.jsdelivr.com/package/gh/</code>+ 用户名 +<code>/</code>+ 仓库名</p><p>例如：<code>https://www.jsdelivr.com/package/gh/sviptzk/HexoStaticFile</code></p></li><li><p>查看仓库文件</p><p>格式 <code>https://cdn.jsdelivr.net/gh/</code>+ 用户名 +<code>/</code>+ 仓库名 +<code>/</code> 仓库名[@分支]</p><p>例如<code>仓库名@master</code>，默认为 master 分支<code>https://cdn.jsdelivr.net/gh/sviptzk/sviptzk.github.io@master/</code></p></li></ol><h2 id="利用cloudfare"><a class="markdownIt-Anchor" href="#利用cloudfare"></a> 利用CloudFare</h2><p>这个没有啥难度，因此只提供思路。</p><ol><li><p>将GitHub仓库开启Pages服务，并绑定自己的域名</p></li><li><p>域名需要在CloudFare解析</p></li><li><p>接下来就可以用你的域名访问仓库文件了。</p><p>例如：<code>https://cdn.antmoe.com/1.jpg</code>。代表访问仓库根目录下的<code>1.jpg</code>文件</p><p>上边只是一个示例，不要试图访问哦！</p></li></ol><h2 id="其他问题"><a class="markdownIt-Anchor" href="#其他问题"></a> 其他问题</h2><ol><li>上传文件后如果不能立即访问到，那么稍等片刻即可。</li><li>JSD最近很不稳定，遇到突然不能打开很正常。</li></ol>]]></content>
    
    <summary type="html">
    
      快来开启你的免费文件库吧！带加速服务哦！
    
    </summary>
    
    
      <category term="Hexo" scheme="https://www.antmoe.com/categories/Hexo/"/>
    
      <category term="优雅部署" scheme="https://www.antmoe.com/categories/Hexo/%E4%BC%98%E9%9B%85%E9%83%A8%E7%BD%B2/"/>
    
    
      <category term="Hexo" scheme="https://www.antmoe.com/tags/Hexo/"/>
    
      <category term="配置环境" scheme="https://www.antmoe.com/tags/%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83/"/>
    
  </entry>
  
</feed>
